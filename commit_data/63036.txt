commit f529d56508b4bbb1e3707917404be57e9b815ccd
Author: Sam Thanawalla <samthanawalla@google.com>
Date:   Wed Jan 8 18:30:50 2025 +0000

    cmd/go: add global ignore mechanism
    
    This CL adds the ignore directive which enables users to tell the Go
    Command to skip traversing into a given directory.
    
    This behaves similar to how '_' or 'testdata' are currently treated.
    This mainly has benefits for go list and go mod tidy.
    This does not affect what is packed into a module.
    
    Fixes: #42965
    Change-Id: I232e27c1a065bb6eb2d210dbddad0208426a1fdd
    Reviewed-on: https://go-review.googlesource.com/c/go/+/643355
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Michael Matloob <matloob@golang.org>
    Reviewed-by: Michael Matloob <matloob@google.com>

 src/cmd/go/alldocs.go                              |  12 +-
 src/cmd/go/internal/load/pkg.go                    |   3 +-
 src/cmd/go/internal/modcmd/edit.go                 |  40 +++++-
 src/cmd/go/internal/modload/modfile.go             |  13 +-
 src/cmd/go/internal/modload/search.go              |  53 +++++++-
 src/cmd/go/internal/search/search.go               | 115 +++++++++++++++-
 src/cmd/go/testdata/script/build_dash_x.txt        |   9 +-
 .../go/testdata/script/build_ignoredirective.txt   | 147 ++++++++++++++++++++
 src/cmd/go/testdata/script/list_ignore.txt         | 151 +++++++++++++++++++++
 .../go/testdata/script/list_ignore_dependency.txt  |  76 +++++++++++
 .../go/testdata/script/list_ignore_workspace.txt   |  89 ++++++++++++
 src/cmd/go/testdata/script/mod_edit.txt            |  32 ++++-
 src/cmd/go/testdata/script/mod_tidy_ignore.txt     |  78 +++++++++++
 13 files changed, 796 insertions(+), 22 deletions(-)
