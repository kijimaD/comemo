commit b611b3a8cc8c4cab3853853a135d5c29e807f513
Author: Maksadbek Akhmedov <a.maksadbek@gmail.com>
Date:   Wed Feb 8 14:58:04 2023 +0100

    cmd/go: make go test build multiple executables
    
    If -c is set while testing multiple packages, then allow
    to build testing binary executables to the current directory
    or to the directory that -o refers to.
    
    $ go test -c -o /tmp ./pkg1 ./pkg2 ./pkg2
    $ ls /tmp
    pkg1.test pkg2.test pkg3.test
    
    Fixes #15513.
    
    Change-Id: I3aba01bebfa90e61e59276f2832d99c0d323b82e
    Reviewed-on: https://go-review.googlesource.com/c/go/+/466397
    Run-TryBot: Bryan Mills <bcmills@google.com>
    Auto-Submit: Bryan Mills <bcmills@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Bryan Mills <bcmills@google.com>
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>

 src/cmd/go/internal/test/test.go                   | 91 +++++++++++++++++-----
 .../go/testdata/script/test_compile_multi_pkg.txt  | 46 +++++++++++
 2 files changed, 116 insertions(+), 21 deletions(-)
