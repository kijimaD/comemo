commit 0b55d8dbfc6892433b0329b3834d50f72d90db58
Author: David Crawshaw <crawshaw@golang.org>
Date:   Wed Sep 13 19:04:25 2017 -0400

    [release-branch.go1.9] cmd/compile: replace GOROOT in //line directives
    
    The compiler replaces any path of the form /path/to/goroot/src/net/port.go
    with GOROOT/src/net/port.go so that the same object file is
    produced if the GOROOT is moved. It was skipping this transformation
    for any absolute path into the GOROOT that came from //line directives,
    such as those generated by cmd/cgo.
    
    Fixes #21373
    Fixes #21720
    Fixes #21825
    
    Change-Id: I2784c701b4391cfb92e23efbcb091a84957d61dd
    Reviewed-on: https://go-review.googlesource.com/63693
    Run-TryBot: David Crawshaw <crawshaw@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>
    Reviewed-on: https://go-review.googlesource.com/70975
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/compile/internal/gc/noder.go            |  6 +++++-
 src/cmd/compile/internal/syntax/nodes_test.go   |  2 +-
 src/cmd/compile/internal/syntax/parser.go       | 16 +++++++++++-----
 src/cmd/compile/internal/syntax/parser_test.go  | 14 +++++++++++---
 src/cmd/compile/internal/syntax/printer_test.go |  2 +-
 src/cmd/compile/internal/syntax/syntax.go       | 19 +++++++++++++------
 src/cmd/internal/objabi/line.go                 |  2 +-
 7 files changed, 43 insertions(+), 18 deletions(-)
