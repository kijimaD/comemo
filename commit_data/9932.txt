commit e9ba607bf531c5e5b223a54c164714b6b00411a6
Author: Robert Griesemer <gri@golang.org>
Date:   Tue Oct 11 21:49:53 2011 -0700

    gofmt: fix a couple of crashes, disallow rewrites for incomplete programs
    
    The current implementation of formatting for incomplete programs
    cannot tolerate program rewrites; ignore -rewrite in that case
    with a warning message (temporary solution).
    
    Fix a couple of crashes that were introduced recently.
    
    Fixes #2348.
    
    R=rsc
    CC=golang-dev
    https://golang.org/cl/5233054

 src/cmd/gofmt/gofmt.go   | 19 ++++++++++++++-----
 src/cmd/gofmt/rewrite.go |  3 ++-
 2 files changed, 16 insertions(+), 6 deletions(-)
