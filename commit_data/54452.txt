commit 4a164a44de3c67da878403504d948dfbd4fc6f7d
Author: Bryan C. Mills <bcmills@google.com>
Date:   Wed Oct 19 14:09:54 2022 -0400

    go/internal/gcimporter,cmd/compile/internal/importer: use testenv.MustHaveGoBuild directly
    
    These tests previously had a “skipSpecialPlatforms” function, added in
    CL 8611 to skip tests on (apparently) NaCL and iOS. The iOS builders
    no longer match the condition (GOOS=ios is its own thing now), and the
    NaCL port no longer exists.
    
    The name of the function also isn't very evocative, since it doesn't
    say what is “special” about the platforms to cause them to be
    skipped.m
    
    Since the check is intending to run the tests only on platforms where
    gc export data is available, and to a first approximation
    “gc export data is available” on exactly the platforms that can run
    “go build” to produce that export data, we can use the testenv function
    instead of a one-off.
    
    Updates #38485.
    
    Change-Id: I8f38b9604300d165147f8942e945ab762419fad7
    Reviewed-on: https://go-review.googlesource.com/c/go/+/444155
    Auto-Submit: Bryan Mills <bcmills@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>
    Run-TryBot: Bryan Mills <bcmills@google.com>

 .../compile/internal/importer/gcimporter_test.go   | 40 +++++++-------------
 src/go/internal/gcimporter/gcimporter_test.go      | 43 ++++++++--------------
 2 files changed, 28 insertions(+), 55 deletions(-)
