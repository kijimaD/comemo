commit 9b88f58099a094749aa037da49849bd71a3890ff
Author: Xiaolin Zhao <zhaoxiaolin@loongson.cn>
Date:   Wed Jun 12 14:27:34 2024 +0800

    cmd/compile/internal/ssa: optimize rules Zero and Move on loong64
    
    goos: linux
    goarch: loong64
    pkg: runtime
    cpu: Loongson-3A6000 @ 2500.00MHz
                 │  old.bench   │              new.bench               │
                 │    sec/op    │    sec/op     vs base                │
    ClearFat7      3.6020n ± 0%   0.5087n ± 1%  -85.88% (p=0.000 n=20)
    ClearFat8      0.5137n ± 0%   0.8004n ± 0%  +55.81% (p=0.000 n=20)
    ClearFat11     5.2030n ± 0%   0.5082n ± 1%  -90.23% (p=0.000 n=20)
    ClearFat12     0.8244n ± 0%   0.8004n ± 0%   -2.91% (p=0.000 n=20)
    ClearFat13     6.0030n ± 0%   0.5077n ± 1%  -91.54% (p=0.000 n=20)
    ClearFat14     6.4030n ± 0%   0.8004n ± 0%  -87.50% (p=0.000 n=20)
    ClearFat15     6.8030n ± 0%   0.5065n ± 1%  -92.55% (p=0.000 n=20)
    ClearFat16     2.4010n ± 0%   0.8004n ± 0%  -66.66% (p=0.000 n=20)
    ClearFat24      3.202n ± 0%    1.601n ± 0%  -50.00% (p=0.000 n=20)
    ClearFat32      4.002n ± 0%    2.001n ± 0%  -50.00% (p=0.000 n=20)
    ClearFat40      4.802n ± 0%    1.601n ± 0%  -66.66% (p=0.000 n=20)
    ClearFat48      5.603n ± 0%    2.001n ± 0%  -64.29% (p=0.000 n=20)
    ClearFat56      6.403n ± 0%    2.001n ± 0%  -68.75% (p=0.000 n=20)
    ClearFat64      7.204n ± 0%    2.401n ± 0%  -66.67% (p=0.000 n=20)
    ClearFat72      8.004n ± 0%    2.001n ± 0%  -75.00% (p=0.000 n=20)
    ClearFat128    14.010n ± 0%    3.218n ± 0%  -77.03% (p=0.000 n=20)
    ClearFat256    26.810n ± 0%    6.727n ± 0%  -74.91% (p=0.000 n=20)
    ClearFat512     52.43n ± 0%    16.40n ± 0%  -68.72% (p=0.000 n=20)
    ClearFat1024   103.65n ± 0%    37.49n ± 0%  -63.83% (p=0.000 n=20)
    ClearFat1032   104.50n ± 0%    52.83n ± 0%  -49.44% (p=0.000 n=20)
    ClearFat1040   105.30n ± 0%    53.23n ± 0%  -49.45% (p=0.000 n=20)
    CopyFat7       6.0030n ± 0%   0.6048n ± 0%  -89.93% (p=0.000 n=20)
    CopyFat8       0.8004n ± 0%   0.5974n ± 0%  -25.37% (p=0.000 n=20)
    CopyFat11      9.2050n ± 0%   0.6057n ± 0%  -93.42% (p=0.000 n=20)
    CopyFat12      0.8103n ± 0%   0.6064n ± 0%  -25.16% (p=0.000 n=20)
    CopyFat13      6.4030n ± 0%   0.6052n ± 0%  -90.55% (p=0.000 n=20)
    CopyFat14      6.8040n ± 0%   0.6064n ± 0%  -91.09% (p=0.000 n=20)
    CopyFat15      7.2040n ± 0%   0.6071n ± 0%  -91.57% (p=0.000 n=20)
    CopyFat16      2.8010n ± 0%   0.6064n ± 0%  -78.35% (p=0.000 n=20)
    CopyFat24       3.602n ± 0%    2.001n ± 0%  -44.45% (p=0.000 n=20)
    CopyFat32       4.402n ± 0%    2.001n ± 0%  -54.54% (p=0.000 n=20)
    CopyFat64       7.604n ± 0%    2.802n ± 0%  -63.15% (p=0.000 n=20)
    CopyFat72       8.405n ± 0%    3.202n ± 0%  -61.90% (p=0.000 n=20)
    CopyFat128     14.410n ± 0%    5.480n ± 0%  -61.97% (p=0.000 n=20)
    CopyFat256      28.57n ± 0%    12.16n ± 0%  -57.44% (p=0.000 n=20)
    CopyFat512      63.63n ± 0%    24.88n ± 0%  -60.90% (p=0.000 n=20)
    CopyFat520      67.23n ± 0%    24.11n ± 0%  -64.14% (p=0.000 n=20)
    CopyFat1024    125.00n ± 0%    50.60n ± 0%  -59.52% (p=0.000 n=20)
    CopyFat1032    121.30n ± 0%    64.32n ± 0%  -46.97% (p=0.000 n=20)
    CopyFat1040    124.50n ± 0%    67.23n ± 0%  -46.00% (p=0.000 n=20)
    geomean         9.539n         2.779n       -70.87%
    
    Change-Id: Ic04e5f849f20ec3ec748d6763d4c9f8a1f21ee49
    Reviewed-on: https://go-review.googlesource.com/c/go/+/592115
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>
    Reviewed-by: Tim King <taking@google.com>
    Reviewed-by: abner chenc <chenguoqi@loongson.cn>

 src/cmd/compile/internal/ssa/_gen/LOONG64.rules | 241 ++++-----
 src/cmd/compile/internal/ssa/rewriteLOONG64.go  | 628 +++++++++++-------------
 2 files changed, 402 insertions(+), 467 deletions(-)
