commit 3d1007d28e92316b08974dc65cde44a6aa31bf21
Author: Than McIntosh <thanm@google.com>
Date:   Wed Apr 22 15:16:06 2020 -0400

    [dev.link] cmd/link: move more error handling into loader
    
    Move the guts of ctxt.Errorf into loader.Loader, so that we can make
    calls to it from functions that have a "*loader.Loader" available but
    not a "ctxt *Link". This is needed to start converting hooks like
    "adddynrel" in the arch-specific portions of the linker to use loader
    APIs.
    
    Change-Id: Ieedd4583b66504be0e77d7f3fbadafe0d2307a69
    Reviewed-on: https://go-review.googlesource.com/c/go/+/229497
    Run-TryBot: Than McIntosh <thanm@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/link/internal/ld/errors.go          | 23 +--------------
 src/cmd/link/internal/ld/lib.go             |  2 +-
 src/cmd/link/internal/ld/sym.go             | 15 ++++++----
 src/cmd/link/internal/ld/util.go            | 10 +++----
 src/cmd/link/internal/loader/loader.go      | 45 +++++++++++++++++++++++++++--
 src/cmd/link/internal/loader/loader_test.go | 17 +++++++----
 6 files changed, 70 insertions(+), 42 deletions(-)
