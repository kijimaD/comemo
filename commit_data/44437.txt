commit a655208c9ecd2fee4de6deff35a863b1c28a091c
Author: Cherry Zhang <cherryyz@google.com>
Date:   Thu Feb 25 20:01:53 2021 -0500

    cmd/link: handle types as converted to interface when dynlink
    
    When using plugins, a type (whose value) may be pass to a plugin
    and get converted to interface there, or vice versa. We need to
    treat the type as potentially converted to interface, and retain
    its methods.
    
    Should fix #44586.
    
    Change-Id: I80dd35e68baedaa852a317543ccd78d94628d13b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/296709
    Trust: Cherry Zhang <cherryyz@google.com>
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 misc/cgo/testplugin/plugin_test.go             | 13 +++++------
 misc/cgo/testplugin/testdata/method2/main.go   | 32 ++++++++++++++++++++++++++
 misc/cgo/testplugin/testdata/method2/p/p.go    |  9 ++++++++
 misc/cgo/testplugin/testdata/method2/plugin.go | 11 +++++++++
 src/cmd/link/internal/ld/deadcode.go           |  7 ++++++
 5 files changed, 65 insertions(+), 7 deletions(-)
