commit aae7734658e5f302c0e3a10f6c5c596fd384dbd7
Author: Michael Anthony Knyszek <mknyszek@google.com>
Date:   Tue Nov 28 17:10:46 2023 +0000

    internal/trace/v2: tolerate having a P in GoCreateSyscall
    
    On non-pthread platforms, it's totally possible for the same M to
    GoCreateSyscall/GoDestroySyscall on the same thread multiple times. That
    same thread may hold onto its P through all those calls.
    
    For #64060.
    
    Change-Id: Ib968bfd439ecd5bc24fc98d78c06145b0d4b7802
    Reviewed-on: https://go-review.googlesource.com/c/go/+/545515
    Reviewed-by: Michael Pratt <mpratt@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 src/internal/trace/v2/order.go                     |  2 +-
 .../generators/go122-create-syscall-with-p.go      | 54 ++++++++++++++++++++++
 .../tests/go122-create-syscall-with-p.test         | 22 +++++++++
 3 files changed, 77 insertions(+), 1 deletion(-)
