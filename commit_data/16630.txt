commit a054028471d08b5344d5cdb2781259fed84b6f7b
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Mon Jun 24 13:27:56 2013 -0700

    net/http: Transport should return an error when response body ends early
    
    If a server response contains a Content-Length and the body is short,
    the Transport should end in io.ErrUnexpectedEOF, not io.EOF.
    
    Fixes #5738
    
    R=golang-dev, kevlar, r
    CC=golang-dev
    https://golang.org/cl/10237050

 src/pkg/net/http/response_test.go | 26 ++++++++++++++++++++++++++
 src/pkg/net/http/transfer.go      | 19 ++++++++++++++-----
 2 files changed, 40 insertions(+), 5 deletions(-)
