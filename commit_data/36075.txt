commit c65a2781be7a8029435ea3d6a3c54c601ac4ba3e
Author: Robert Griesemer <gri@golang.org>
Date:   Thu Mar 29 18:22:23 2018 -0700

    cmd/compile: better handling of incorrect type switches
    
    Don't report errors if we don't have a correct type switch
    guard; instead ignore it and leave it to the type-checker
    to report the error. This leads to better error messages
    concentrating on the type switch guard rather than errors
    around (confusing) syntactic details.
    
    Also clean up some code setting up AssertExpr (they never
    have a nil Type field) and remove some incorrect TODOs.
    
    Fixes #24470.
    
    Change-Id: I69512f36e0417e3b5ea9c8856768e04b19d654a8
    Reviewed-on: https://go-review.googlesource.com/103615
    Run-TryBot: Robert Griesemer <gri@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/gc/noder.go       |  8 +---
 src/cmd/compile/internal/syntax/nodes.go   | 18 ++++----
 src/cmd/compile/internal/syntax/parser.go  | 73 ++++++++++++------------------
 src/cmd/compile/internal/syntax/printer.go | 18 +++-----
 test/fixedbugs/issue24470.go               | 15 ++++++
 test/syntax/typesw.go                      |  2 +-
 6 files changed, 61 insertions(+), 73 deletions(-)
