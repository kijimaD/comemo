commit 989a3f5041d2055e165e363d3fb2d27e75e2fa38
Author: Russ Cox <rsc@golang.org>
Date:   Wed Dec 2 22:42:24 2020 -0500

    [dev.regabi] cmd/compile: adjustments to Copy and DeepCopy
    
    DeepCopy is not called DeepSepCopy, so it should use Copy, not SepCopy.
    
    Also, the old gc.treecopy, which became ir.DeepCopy, only copied
    the Left, Right, and List fields - not Init, Rlist, Body - and I didn't
    notice when I moved it over. A general utility function should of
    course copy the whole node, so do that.
    
    Finally, the semantics of Copy should not depend on whether a
    particular child node is held directly in a field or in a slice,
    so make Copy duplicate the slice backing arrays as well.
    (Logically, those backing arrays are part of the node storage.)
    
    Passes buildall w/ toolstash -cmp.
    
    Change-Id: I18fbe3f2b40078f566ed6370684d5585052b36a1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/275309
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/ir/copy.go | 43 ++++++++++++++++++++++++++++++++++---
 1 file changed, 40 insertions(+), 3 deletions(-)
