commit ba9c639470cb962a799116fea55c91638752fe87
Author: Jeremy Faller <jeremy@golang.org>
Date:   Wed Jun 24 14:30:16 2020 -0400

    [dev.link] cmd/link: add runtime.pcheader
    
    As of July 2020, a fair amount of the new linker's live memory, and
    runtime is spent generating pclntab. In an effort to streamline that
    code, this change starts breaking up the generation of runtime.pclntab
    into smaller chunks that can run later in a link. These changes are
    described in an (as yet not widely distributed) document that lays out
    an improved format. Largely the work consists of breaking up
    runtime.pclntab into smaller pieces, stopping much of the data
    rewriting, and getting runtime.pclntab into a form where we can reason
    about its size and look to shrink it. This change is the first part of
    that work -- just pulling out the header, and demonstrating where a
    majority of that work will be.
    
    Change-Id: I65618d0d0c780f7e5977c9df4abdbd1696fedfcb
    Reviewed-on: https://go-review.googlesource.com/c/go/+/241598
    Run-TryBot: Jeremy Faller <jeremy@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Austin Clements <austin@google.com>

 src/cmd/link/internal/ld/data.go              |   4 +
 src/cmd/link/internal/ld/pcln.go              |  95 ++++++++++++++++------
 src/cmd/link/internal/ld/symtab.go            |   6 +-
 src/cmd/link/internal/loader/symbolbuilder.go |   4 +
 src/debug/gosym/pclntab.go                    | 112 ++++++++++++++++++--------
 src/debug/gosym/pclntab_test.go               |  50 ++++++++++++
 src/debug/gosym/testdata/pcln115.gz           | Bin 0 -> 124875 bytes
 src/runtime/symtab.go                         |  22 +++--
 8 files changed, 227 insertions(+), 66 deletions(-)
