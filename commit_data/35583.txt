commit c18ff1846592194a6a894f26f782e25b816ae73e
Author: David Chase <drchase@google.com>
Date:   Fri Jun 30 16:20:10 2017 -0400

    cmd/compile: decouple emitted block order from regalloc block order
    
    While tinkering with different block orders for the preemptible
    loop experiment, crashed the register allocator with a "bad"
    one (these exist).  Realized that one knob was controlling
    two things (register allocation and branch patterns) and
    decided that life would be simpler if the two orders were
    independent.
    
    Ran some experiments and determined that we have probably,
    mostly, been optimizing for register allocation effects, not
    branch effects.  Bad block orders for register allocation are
    somewhat costly.
    
    This will also allow separate experimentation with perhaps-
    better block orders for register allocation.
    
    Change-Id: I6ecf2f24cca178b6f8acc0d3c4caaef043c11ed9
    Reviewed-on: https://go-review.googlesource.com/47314
    Run-TryBot: David Chase <drchase@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/compile/internal/ssa/layout.go   | 29 ++++++++++++++++++++++++-
 src/cmd/compile/internal/ssa/regalloc.go | 36 +++++++++++++++++++-------------
 2 files changed, 50 insertions(+), 15 deletions(-)
