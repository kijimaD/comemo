commit b89a9fff5eee0eab8cb98d3c6532a8613dfdf580
Author: Rui Ueyama <ruiu@google.com>
Date:   Fri Mar 21 17:05:57 2014 -0700

    text/scanner: handle non-io.EOF errors
    
    Currently Scan ignores an error returned from source if the number
    of bytes source has read is 0.
    
    Fixes #7594.
    
    LGTM=gri
    R=golang-codereviews, bradfitz, gri
    CC=golang-codereviews
    https://golang.org/cl/78120043

 src/pkg/text/scanner/scanner.go      |  6 +++---
 src/pkg/text/scanner/scanner_test.go | 27 +++++++++++++++++++++++++++
 2 files changed, 30 insertions(+), 3 deletions(-)
