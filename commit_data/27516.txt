commit a62ae9f62fcfca02075b70e6e0aa757f4fd8f5ec
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Wed Mar 30 16:41:18 2016 +1100

    crypto/x509: add SystemCertPool, refactor system cert pool loading
    
    This exports the system cert pool.
    
    The system cert loading was refactored to let it be run multiple times
    (so callers get a copy, and can't mutate global state), and also to
    not discard errors.
    
    SystemCertPool returns an error on Windows. Maybe it's fixable later,
    but so far we haven't used it, since the system verifies TLS.
    
    Fixes #13335
    
    Change-Id: I3dfb4656a373f241bae8529076d24c5f532f113c
    Reviewed-on: https://go-review.googlesource.com/21293
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Andrew Gerrand <adg@golang.org>

 src/crypto/x509/cert_pool.go           | 24 ++++++++++++++++++------
 src/crypto/x509/root.go                |  9 +++++++--
 src/crypto/x509/root_cgo_darwin.go     | 12 ++++++++----
 src/crypto/x509/root_darwin_arm_gen.go |  7 ++++---
 src/crypto/x509/root_darwin_armx.go    |  7 ++++---
 src/crypto/x509/root_nocgo_darwin.go   |  4 ++--
 src/crypto/x509/root_plan9.go          | 18 +++++++++++-------
 src/crypto/x509/root_unix.go           | 23 +++++++++++++++--------
 src/crypto/x509/root_windows.go        |  3 +--
 src/crypto/x509/verify.go              | 14 ++++++++++----
 10 files changed, 80 insertions(+), 41 deletions(-)
