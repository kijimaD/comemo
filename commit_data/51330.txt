commit 3d3f5d912b776424e50be276bc3a4ae02bf8d143
Author: Robert Griesemer <gri@golang.org>
Date:   Mon Jan 10 17:29:21 2022 -0800

    go/types, types2: do not run CTI before FTI
    
    Until now, CTI (constraint type inference) was run before
    FTI (function type inference). This lead to situations
    where CTI infered a type that is missing necessary methods
    even though a function argument of correct type was given.
    This can happen when constraint type inference produces a
    inferred type that is the structural type of multiple types,
    which then is an underlying type, possibly without methods.
    
    This CL removes the initial CTI step; it is only applied
    after FTI with type arguments is run, and again after FTI
    with untyped arguments is run.
    
    Various comments are adjusted to reflect the new reality.
    
    Fixes #50426.
    
    Change-Id: I700ae6e762d7aa00d742943a2880f1a1db33c2b8
    Reviewed-on: https://go-review.googlesource.com/c/go/+/377594
    Trust: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/types2/infer.go           | 34 ++++++-----------
 .../types2/testdata/fixedbugs/issue50426.go2       | 44 ++++++++++++++++++++++
 src/go/types/infer.go                              | 34 ++++++-----------
 src/go/types/testdata/fixedbugs/issue50426.go2     | 44 ++++++++++++++++++++++
 4 files changed, 112 insertions(+), 44 deletions(-)
