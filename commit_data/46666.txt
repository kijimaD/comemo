commit 6e243ce71d910876839d1bad4adf9b259c3a8e21
Author: Michael Matloob <matloob@golang.org>
Date:   Wed Jan 13 20:58:00 2021 -0500

    cmd/go: have go mod vendor copy embedded files in subdirs
    
    If a package vendored with go mod vendor depends on embedded
    files contained in subdirectories, copy them into the the
    corresponding place in the module's vendor tree. (Embeds in
    parent directories are disallowed by the embed pattern rules, and
    embeds in the same directory are copied because go mod vendor
    already copies the non-go files in the package's own directory).
    
    Export the vendor pattern expansion code in internal/load so
    internal/modcmd's vendor code can use it.
    
    Fixes #43077
    
    Change-Id: I61edb344d73df590574a6498ffb6069e8d72a147
    Reviewed-on: https://go-review.googlesource.com/c/go/+/283641
    Trust: Michael Matloob <matloob@golang.org>
    Trust: Bryan C. Mills <bcmills@google.com>
    Run-TryBot: Michael Matloob <matloob@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go/internal/list/list.go                |   2 -
 src/cmd/go/internal/load/pkg.go                 |  26 ++--
 src/cmd/go/internal/load/test.go                |   4 +-
 src/cmd/go/internal/modcmd/vendor.go            |  76 +++++++++-
 src/cmd/go/testdata/script/embed.txt            |  26 ++++
 src/cmd/go/testdata/script/mod_vendor_embed.txt | 179 ++++++++++++++++++++++++
 6 files changed, 292 insertions(+), 21 deletions(-)
