commit b3b87143f2b5da57fb87e06bab5af188c77e6bb8
Author: Russ Cox <rsc@golang.org>
Date:   Mon Aug 12 19:14:02 2013 -0400

    cmd/gc: support for "portable" optimization logic
    
    Code in gc/popt.c is compiled as part of 5g, 6g, and 8g,
    meaning it can use arch-specific headers but there's
    just one copy of the code.
    
    This is the same arrangement we use for the portable
    code generation logic in gc/pgen.c.
    
    Move fixjmp and noreturn there to get the ball rolling.
    
    R=ken2
    CC=golang-dev
    https://golang.org/cl/12789043

 src/cmd/5g/gg.h      |   2 +-
 src/cmd/5g/opt.h     |  12 +++-
 src/cmd/5g/peep.c    |   2 +-
 src/cmd/5g/prog.c    |   2 +
 src/cmd/5g/reg.c     | 153 +-----------------------------------------
 src/cmd/6g/gg.h      |   2 +-
 src/cmd/6g/opt.h     |   5 +-
 src/cmd/6g/peep.c    |   2 +-
 src/cmd/6g/prog.c    |   7 +-
 src/cmd/6g/reg.c     | 152 +-----------------------------------------
 src/cmd/8g/gg.h      |   2 +-
 src/cmd/8g/opt.h     |   5 +-
 src/cmd/8g/peep.c    |   2 +-
 src/cmd/8g/prog.c    |   6 +-
 src/cmd/8g/reg.c     | 151 +-----------------------------------------
 src/cmd/dist/build.c |   7 ++
 src/cmd/gc/pgen.c    |   4 ++
 src/cmd/gc/popt.c    | 183 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/cmd/gc/popt.h    |   6 ++
 19 files changed, 234 insertions(+), 471 deletions(-)
