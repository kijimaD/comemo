commit 8a9be4921a3cc91c80c02bb5b4cf2ad129c0c7cc
Author: Cherry Zhang <cherryyz@google.com>
Date:   Sat Sep 28 22:42:35 2019 -0400

    [dev.link] cmd/link: use index for deadcode
    
    Switch the deadcode pass to use indices instead of Symbol
    structures when using new object file format. Delay loading
    symbol relocations and contents fully after the deadcode pass.
    The next step is not to create Symbol structures until deadcode
    is done.
    
    Method tracking logic hasn't been implemented. Currently, all
    methods of a reachable type are live.
    
    Change-Id: Iffcd06ff84e6e52bd9eb24d1220d94234d18ab6b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/198199
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/link/internal/ld/deadcode.go      |   9 ++
 src/cmd/link/internal/ld/deadcode2.go     | 144 ++++++++++++++++++++++++
 src/cmd/link/internal/ld/lib.go           |   8 +-
 src/cmd/link/internal/objfile/objfile2.go | 176 ++++++++++++++++++++++++++----
 4 files changed, 312 insertions(+), 25 deletions(-)
