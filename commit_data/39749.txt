commit d949d0b9252be1fffeadd65183a6bab3acf3de7a
Author: Keith Randall <khr@google.com>
Date:   Tue Feb 5 16:22:38 2019 -0800

    cmd/compile: reorganize init functions
    
    Instead of writing an init function per package that does the same
    thing for every package, just write that implementation once in the
    runtime. Change the compiler to generate a data structure that encodes
    the required initialization operations.
    
    Reduces cmd/go binary size by 0.3%+.  Most of the init code is gone,
    including all the corresponding stack map info. The .inittask
    structures that replace them are quite a bit smaller.
    
    Most usefully to me, there is no longer an init function in every -S output.
    (There is an .inittask global there, but it's much less distracting.)
    
    After this CL we could change the name of the "init.ializers" function
    back to just "init".
    
    Update #6853
    
    R=go1.13
    
    Change-Id: Iec82b205cc52fe3ade4d36406933c97dbc9c01b1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/161337
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Josh Bleecher Snyder <josharian@gmail.com>

 src/cmd/compile/internal/gc/init.go  | 236 +++++++----------------------------
 src/cmd/link/internal/ld/data.go     |   2 +-
 src/cmd/link/internal/ld/deadcode.go |   4 +-
 src/plugin/plugin_dlopen.go          |  16 +--
 src/runtime/panic.go                 |   4 -
 src/runtime/proc.go                  |  48 +++++--
 test/fixedbugs/issue29919.dir/a.go   |   4 +-
 test/init.go                         |   4 +-
 8 files changed, 98 insertions(+), 220 deletions(-)
