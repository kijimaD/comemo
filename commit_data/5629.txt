commit 565b5dc0760baf556f83adf847f578718a1c571f
Author: Russ Cox <rsc@golang.org>
Date:   Tue Jun 8 18:50:02 2010 -0700

    gc: new typechecking rules
    
    * Code for assignment, conversions now mirrors spec.
    * Changed some snprint -> smprint.
    * Renamed runtime functions to separate
      interface conversions from type assertions:
      convT2I, assertI2T, etc.
    * Correct checking of \U sequences.
    
    Fixes #840.
    Fixes #830.
    Fixes #778.
    
    R=ken2
    CC=golang-dev
    https://golang.org/cl/1303042

 src/cmd/6g/cgen.c                  |   2 +-
 src/cmd/gc/bits.c                  |  25 +-
 src/cmd/gc/builtin.c.boot          |  28 ++-
 src/cmd/gc/closure.c               |   6 +-
 src/cmd/gc/const.c                 |  11 +-
 src/cmd/gc/dcl.c                   |  19 +-
 src/cmd/gc/export.c                |  29 ++-
 src/cmd/gc/go.h                    |  25 +-
 src/cmd/gc/lex.c                   |  26 +-
 src/cmd/gc/print.c                 |   7 +-
 src/cmd/gc/range.c                 |  10 +-
 src/cmd/gc/runtime.go              |  32 ++-
 src/cmd/gc/subr.c                  | 488 +++++++++++++++++++++----------------
 src/cmd/gc/typecheck.c             | 326 +++++--------------------
 src/cmd/gc/walk.c                  | 386 ++++++-----------------------
 src/pkg/math/fltasm_amd64.s        |  67 +++++
 src/pkg/runtime/iface.c            | 208 ++++++++++------
 test/assign1.go                    | 343 ++++++++++++++++++++++++++
 test/convert3.go                   |   5 +-
 test/fixedbugs/bug248.dir/bug3.go  |  24 +-
 test/fixedbugs/bug251.go           |   4 +-
 test/{bugs => fixedbugs}/bug284.go |   0
 test/{bugs => fixedbugs}/bug285.go |   2 +-
 test/golden.out                    |  55 -----
 test/interface/explicit.go         |  41 ++--
 test/interface/pointer.go          |  16 +-
 test/interface/receiver1.go        |  71 +++---
 test/named.go                      | 474 +++++++++++++++++------------------
 test/named1.go                     |  69 +++---
 29 files changed, 1469 insertions(+), 1330 deletions(-)
