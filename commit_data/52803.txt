commit afe2d2221969c4c7082afdd4791dd8f2540fc684
Author: Ian Lance Taylor <iant@golang.org>
Date:   Thu Apr 20 16:55:13 2023 -0700

    net: rewrite and simplify resolver configuration
    
    The resulting code behaves mostly the same. There are some minor
    differences in error cases when the cgo resolver is not available:
    instead of just falling back we keep trying to work out the right
    nsswitch.conf order.
    
    Change-Id: I17fadc940528fa2397043ac8f8ed7da3bd7a95c0
    Reviewed-on: https://go-review.googlesource.com/c/go/+/487196
    Reviewed-by: Damien Neil <dneil@google.com>
    Run-TryBot: Ian Lance Taylor <iant@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Auto-Submit: Ian Lance Taylor <iant@google.com>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    Reviewed-by: Mateusz Poliwczak <mpoliwczak34@gmail.com>

 .../script/list_cgo_compiled_importmap.txt         |   5 +-
 src/net/cgo_stub.go                                |  16 +-
 src/net/cgo_unix.go                                |   7 +
 src/net/cgo_windows.go                             |  13 -
 src/net/conf.go                                    | 363 ++++++++++++++-------
 src/net/conf_netcgo.go                             |  18 -
 src/net/conf_test.go                               |  49 ++-
 src/net/error_test.go                              |   8 +-
 src/net/lookup_plan9.go                            |   5 +
 src/net/lookup_test.go                             |   2 +-
 src/net/lookup_unix.go                             |  10 +-
 src/net/lookup_windows.go                          |   5 +
 src/net/net.go                                     |   8 -
 src/net/netcgo_off.go                              |   9 +
 src/net/netcgo_on.go                               |   9 +
 src/net/netgo.go                                   |  13 -
 src/net/netgo_netcgo.go                            |  14 +
 src/net/netgo_off.go                               |   9 +
 src/net/netgo_on.go                                |   9 +
 19 files changed, 383 insertions(+), 189 deletions(-)
