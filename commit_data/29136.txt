commit 81038d2e2b588f9df45d20a2ca0be446b0e421b2
Author: Adam Langley <agl@golang.org>
Date:   Wed Oct 26 10:05:03 2016 -0700

    crypto/tls: add GetClientCertificate callback
    
    Currently, the selection of a client certificate done internally based
    on the limitations given by the server's request and the certifcates in
    the Config. This means that it's not possible for an application to
    control that selection based on details of the request.
    
    This change adds a callback, GetClientCertificate, that is called by a
    Client during the handshake and which allows applications to select the
    best certificate at that time.
    
    (Based on https://golang.org/cl/25570/ by Bernd Fix.)
    
    Fixes #16626.
    
    Change-Id: Ia4cea03235d2aa3c9fd49c99c227593c8e86ddd9
    Reviewed-on: https://go-review.googlesource.com/32115
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>

 src/crypto/tls/common.go                |  39 ++++++-
 src/crypto/tls/handshake_client.go      | 185 ++++++++++++++++++++------------
 src/crypto/tls/handshake_client_test.go | 134 +++++++++++++++++++++++
 src/crypto/tls/tls_test.go              |   2 +-
 4 files changed, 287 insertions(+), 73 deletions(-)
