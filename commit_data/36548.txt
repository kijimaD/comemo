commit 5ac247674884a93f3a7630649ee00923724e7961
Author: Andrew Bonventre <andybons@golang.org>
Date:   Thu Aug 30 15:47:04 2018 -0600

    cmd/compile: make math/bits.RotateLeft* an intrinsic on amd64
    
    Previously, pattern matching was good enough to achieve good performance
    for the RotateLeft* functions, but the inlining cost for them was much
    too high. Make RotateLeft* intrinsic on amd64 as a stop-gap for now to
    reduce inlining costs.
    
    This should be done (or at least looked at) for other architectures
    as well.
    
    Updates golang/go#17566
    
    Change-Id: I6a106ff00b6c4e3f490650af3e083ed2be00c819
    Reviewed-on: https://go-review.googlesource.com/132435
    Run-TryBot: Andrew Bonventre <andybons@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/gc/ssa.go             | 22 +++++++++
 src/cmd/compile/internal/ssa/gen/AMD64.rules   |  5 ++
 src/cmd/compile/internal/ssa/gen/genericOps.go | 12 +++--
 src/cmd/compile/internal/ssa/opGen.go          | 24 ++++++++++
 src/cmd/compile/internal/ssa/rewriteAMD64.go   | 64 ++++++++++++++++++++++++++
 test/inline_math_bits_rotate.go                | 28 +++++++++++
 6 files changed, 151 insertions(+), 4 deletions(-)
