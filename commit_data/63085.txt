commit be0cc937ec9c109da90ec4d7da5af89606f8c0cf
Author: Shibi J M <shibisjm@gmail.com>
Date:   Tue May 20 03:59:15 2025 +0000

    net: avoid using Windows' TransmitFile on non-server machines
    
    Windows API's TransmitFile function is limited to two concurrent
    operations on workstation and client versions of Windows. This change
    modifies the net.sendFile function to perform no work in such cases
    so that TransmitFile is avoided.
    
    Fixes #73746
    
    Change-Id: Iba70d5d2758bf986e80c78254c8e9e10b39bb368
    GitHub-Last-Rev: 315ddc0cd8034f52632dc31baf35057a8bad9bcd
    GitHub-Pull-Request: golang/go#73758
    Reviewed-on: https://go-review.googlesource.com/c/go/+/673855
    Reviewed-by: Alex Brainman <alex.brainman@gmail.com>
    Auto-Submit: Damien Neil <dneil@google.com>
    Reviewed-by: Quim Muntal <quimmuntal@gmail.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: David Chase <drchase@google.com>
    Reviewed-by: Damien Neil <dneil@google.com>

 src/internal/syscall/windows/types_windows.go    |  4 +++
 src/internal/syscall/windows/version_windows.go  | 37 ++++++++++++++++++++----
 src/internal/syscall/windows/zsyscall_windows.go |  2 +-
 src/net/sendfile.go                              |  5 ++--
 src/net/sendfile_nonwindows.go                   | 12 ++++++++
 src/net/sendfile_stub.go                         |  4 ++-
 src/net/sendfile_test.go                         |  4 +--
 src/net/sendfile_windows.go                      | 16 ++++++++++
 8 files changed, 72 insertions(+), 12 deletions(-)
