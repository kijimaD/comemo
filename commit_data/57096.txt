commit 03e5d83ca7323e354dfff6ba50720302ed835b7c
Author: Cherry Mui <cherryyz@google.com>
Date:   Mon Aug 5 13:40:18 2024 -0400

    cmd/internal/obj: minor refactor of wasmimport code
    
    This CL does some minor refactoring of the code handling
    wasmimport.
    - Put the WasmImport aux reading and writing code together for
      symmetry.
    - Define WasmFuncType, embedded in WasmImport. WasmFuncType could
      also be used (later) for wasmexport.
    - Move code generation code to a separate function. The containing
      function is already pretty large.
    - Simplify linker code a little bit. The loader convention is to
      return the 0 Sym for nonexistent symbol, instead of a separate
      boolean.
    
    No change in generated code. Passes toolstash -cmp
    (GOARCH=wasm GOOS=wasip1 go build -toolexec "toolstash -cmp" -a std cmd).
    
    Change-Id: Idc2514f84a08621333841ae4034b81130e0ce411
    Reviewed-on: https://go-review.googlesource.com/c/go/+/603135
    Reviewed-by: Than McIntosh <thanm@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/internal/obj/link.go           | 114 ++++++++++++++---
 src/cmd/internal/obj/objfile.go        |  13 +-
 src/cmd/internal/obj/sym.go            |   5 +-
 src/cmd/internal/obj/wasm/wasmobj.go   | 216 +++++++++++++++++----------------
 src/cmd/link/internal/loader/loader.go |  14 +--
 src/cmd/link/internal/wasm/asm.go      |  54 +--------
 6 files changed, 222 insertions(+), 194 deletions(-)
