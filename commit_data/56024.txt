commit a6ecdf29e34ddc82b6ed2315aaedf4c4d522b96c
Author: Joel Sing <joel@sing.id.au>
Date:   Sat Dec 9 19:18:00 2023 +1100

    cmd/internal/obj/riscv: improve register MOVB/MOVH/MOVBU/MOVHU for rva22u64
    
    When GORISCV64 enables rva22u64, use SEXTB for MOVB, SEXTH for MOVH, ZEXTH
    for MOVHU and ADDUW for MOVWU. These are single instruction alternatives
    to the two instruction shift sequences that are needed otherwise.
    
    Change-Id: Iea5e394f57e238ae8771400a87287c1ee507d44c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/572736
    Reviewed-by: David Chase <drchase@google.com>
    Run-TryBot: Joel Sing <joel@sing.id.au>
    Reviewed-by: Mark Ryan <markdryan@rivosinc.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Reviewed-by: M Zhuo <mengzhuo1203@gmail.com>

 src/cmd/asm/internal/asm/testdata/riscv64.s |  8 ++---
 src/cmd/internal/obj/riscv/obj.go           | 49 +++++++++++++++++++----------
 2 files changed, 37 insertions(+), 20 deletions(-)
