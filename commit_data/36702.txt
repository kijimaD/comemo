commit 4816eface10125bc915c8a0dfff7fe1489827b8c
Author: Austin Clements <austin@google.com>
Date:   Fri Mar 23 17:25:26 2018 -0400

    cmd/compile: derive len/cap relations in factsTable.update
    
    Currently, the prove pass derives implicit relations between len and
    cap in the code that adds branch conditions. This is fine right now
    because that's the only place we can encounter len and cap, but we're
    about to add a second way to add assertions to the facts table that
    can also produce facts involving len and cap.
    
    Prepare for this by moving the fact derivation from updateRestrictions
    (where it only applies on branches) to factsTable.update, which can
    derive these facts no matter where the root facts come from.
    
    Passes toolstash -cmp.
    
    Change-Id: If09692d9eb98ffaa93f4cfa58ed2d8ba0887c111
    Reviewed-on: https://go-review.googlesource.com/102602
    Run-TryBot: Austin Clements <austin@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/ssa/prove.go | 56 +++++++++++++++++++----------------
 1 file changed, 31 insertions(+), 25 deletions(-)
