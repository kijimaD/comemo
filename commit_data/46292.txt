commit 2a463a22cee8ddbd4801acd2ef34eefa551a718a
Author: Damien Neil <dneil@google.com>
Date:   Mon Jun 21 20:23:36 2021 -0700

    net/http: close request body after recovering from a handler panic
    
    When recovering from a panic in a HTTP handler, close the request body
    before closing the *conn, ensuring that the *conn's bufio.Reader is safe
    to recycle.
    
    Fixes #46866.
    
    Change-Id: I3fe304592e3b423a0970727d68bc1229c3752939
    Reviewed-on: https://go-review.googlesource.com/c/go/+/329922
    Trust: Damien Neil <dneil@google.com>
    Run-TryBot: Damien Neil <dneil@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>

 src/net/http/server.go         | 10 ++++++++++
 src/net/http/transport_test.go | 29 +++++++++++++++++++++++++++++
 2 files changed, 39 insertions(+)
