commit c6ee8e31e3e7b01da54d241ae5a8eed350ab0e9f
Author: David Chase <drchase@google.com>
Date:   Fri Aug 11 14:38:19 2023 -0400

    runtime: profiling on Darwin cannot use blocking reads
    
    On Darwin (and assume also on iOS but not sure), notetsleepg
    cannot be called in a signal-handling context.  Avoid this
    by disabling block reads on Darwin.
    
    An alternate approach was to add "sigNote" with a pipe-based
    implementation on Darwin, but that ultimately would have required
    at least one more linkname between runtime and syscall to avoid
    racing with fork and opening the pipe, so, not.
    
    Fixes #61768.
    
    Change-Id: I0e8dd4abf9a606a3ff73fc37c3bd75f55924e07e
    Reviewed-on: https://go-review.googlesource.com/c/go/+/518836
    Run-TryBot: David Chase <drchase@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Michael Knyszek <mknyszek@google.com>

 src/runtime/cpuprof.go   | 6 +++++-
 src/runtime/os_darwin.go | 3 ++-
 src/runtime/profbuf.go   | 1 +
 3 files changed, 8 insertions(+), 2 deletions(-)
