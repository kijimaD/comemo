commit 7adfa82726280371bb4dfc710dc4168dfd9de703
Author: Ian Lance Taylor <iant@golang.org>
Date:   Thu Jun 23 15:57:10 2022 -0700

    debug/macho, internal/saferio: limit slice allocation
    
    Don't allocate slices that are too large; choose a smaller capacity
    and build the slice using append. Use this in debug/macho to avoid
    over-allocating if a fat header is incorrect.
    
    No debug/macho test case because the problem can only happen for
    invalid data. Let the fuzzer find cases like this.
    
    For #47653
    Fixes #52523
    
    Change-Id: I372c9cdbdda8626a3225e79d713650beb350ebc7
    Reviewed-on: https://go-review.googlesource.com/c/go/+/413874
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@google.com>
    Auto-Submit: Ian Lance Taylor <iant@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Reviewed-by: Tobias Klauser <tobias.klauser@gmail.com>

 src/debug/macho/fat.go          | 11 +++++++++--
 src/go/build/deps_test.go       |  6 +++---
 src/internal/saferio/io.go      | 29 ++++++++++++++++++++++++++++-
 src/internal/saferio/io_test.go | 25 +++++++++++++++++++++++++
 4 files changed, 65 insertions(+), 6 deletions(-)
