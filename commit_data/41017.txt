commit 372efbbf3170ccf260186118cd3acf7f617055ae
Author: Ian Lance Taylor <iant@golang.org>
Date:   Fri Dec 20 13:05:24 2019 -0800

    internal/syscall/unix: use fcntl64 on 32-bit GNU/Linux systems
    
    Patch up runtime testing to use the libc fcntl function on Darwin,
    which is what we should be doing anyhow. This is similar to how
    we handle fcntl on AIX and Solaris.
    
    Fixes #36211
    
    Change-Id: I47ad87e11df043ce21496a0d59523dad28960f76
    Reviewed-on: https://go-review.googlesource.com/c/go/+/212299
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Tobias Klauser <tobias.klauser@gmail.com>

 src/internal/syscall/unix/fcntl_linux_32bit.go | 16 ++++++++++++++++
 src/internal/syscall/unix/nonblocking.go       |  6 +++++-
 src/runtime/export_darwin_test.go              | 13 +++++++++++++
 src/runtime/nbpipe_fcntl_libc_test.go          |  2 +-
 src/runtime/nbpipe_fcntl_unix_test.go          |  9 ++++++---
 src/syscall/flock_linux_32bit.go               |  7 +++++--
 6 files changed, 46 insertions(+), 7 deletions(-)
