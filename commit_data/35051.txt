commit 4c800f03c9f988d5de0481de0d77d103213b295c
Author: Keith Randall <khr@google.com>
Date:   Thu Dec 7 14:11:19 2017 -0800

    cmd/compile: fix large load/store offsets on 386
    
    Pointer arithemetic is done mod 2^32 on 386, so we can just
    drop the high bits of any large constant offsets.
    
    The bounds check will make sure wraparounds are never observed.
    
    Fixes #21655
    
    Change-Id: I68ae5bbea9f02c73968ea2b21ca017e5ecb89223
    Reviewed-on: https://go-review.googlesource.com/82675
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/ssa/gen/386.rules |  78 ++++++------
 src/cmd/compile/internal/ssa/rewrite386.go | 192 ++++++++++++++---------------
 test/fixedbugs/issue21655.go               |  22 ++++
 3 files changed, 157 insertions(+), 135 deletions(-)
