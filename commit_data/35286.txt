commit d929e40e9aed54ef7cd9f8853a34334f4f3c8f8e
Author: Tobias Klauser <tklauser@distanz.ch>
Date:   Wed Jan 31 13:59:00 2018 +0100

    syscall: use SYS_GETDENTS64 on linux/mips64{,le}
    
    The getdents64 syscall is only available for mips64/mips64le starting
    with Linux kernel 3.10. Since mips64le requires at least 4.8 according
    to [1] (regarding #16848) using it should be fine.
    
    [1] https://golang.org/wiki/MinimumRequirements
    
    This CL changes the binary layout of type Dirent for mips64/mips64le,
    but not the public API. But since the currently used layout doesn't
    match the struct linux_dirent returned by the getdents syscall this
    should be fine as well.
    
    Fixes #23624
    
    Change-Id: Iaa7306fa6e4442ad2fed41c60b37627a7314f117
    Reviewed-on: https://go-review.googlesource.com/91055
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/syscall/syscall_linux.go           | 2 +-
 src/syscall/syscall_linux_386.go       | 1 -
 src/syscall/syscall_linux_amd64.go     | 1 -
 src/syscall/syscall_linux_arm.go       | 1 -
 src/syscall/syscall_linux_arm64.go     | 1 -
 src/syscall/syscall_linux_mips64x.go   | 9 +--------
 src/syscall/syscall_linux_mipsx.go     | 1 -
 src/syscall/syscall_linux_ppc64x.go    | 1 -
 src/syscall/syscall_linux_s390x.go     | 1 -
 src/syscall/zsyscall_linux_386.go      | 2 +-
 src/syscall/zsyscall_linux_amd64.go    | 2 +-
 src/syscall/zsyscall_linux_arm.go      | 2 +-
 src/syscall/zsyscall_linux_arm64.go    | 2 +-
 src/syscall/zsyscall_linux_mips.go     | 2 +-
 src/syscall/zsyscall_linux_mips64.go   | 2 +-
 src/syscall/zsyscall_linux_mips64le.go | 2 +-
 src/syscall/zsyscall_linux_mipsle.go   | 2 +-
 src/syscall/zsyscall_linux_ppc64.go    | 2 +-
 src/syscall/zsyscall_linux_ppc64le.go  | 2 +-
 src/syscall/zsyscall_linux_s390x.go    | 2 +-
 src/syscall/ztypes_linux_mips64.go     | 5 +----
 src/syscall/ztypes_linux_mips64le.go   | 5 +----
 22 files changed, 15 insertions(+), 35 deletions(-)
