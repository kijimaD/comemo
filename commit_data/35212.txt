commit 004260afdee7c2040f3b52e7517be4f172aa0d58
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Tue Mar 7 14:26:27 2017 -0800

    cmd/compile: open code select{send,recv,default}
    
    Registration now looks like:
    
            var cases [4]runtime.scases
            var order [8]uint16
            cases[0].kind = caseSend
            cases[0].c = c1
            cases[0].elem = &v1
            if raceenabled || msanenabled {
                    selectsetpc(&cases[0])
            }
            cases[1].kind = caseRecv
            cases[1].c = c2
            cases[1].elem = &v2
            if raceenabled || msanenabled {
                    selectsetpc(&cases[1])
            }
            ...
    
    Change-Id: Ib9bcf426a4797fe4bfd8152ca9e6e08e39a70b48
    Reviewed-on: https://go-review.googlesource.com/37934
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Austin Clements <austin@google.com>

 src/cmd/compile/internal/gc/builtin.go         | 110 ++++++++++++-------------
 src/cmd/compile/internal/gc/builtin/runtime.go |   4 +-
 src/cmd/compile/internal/gc/select.go          |  85 ++++++++++++++-----
 src/cmd/compile/internal/gc/ssa.go             |   2 +-
 src/runtime/select.go                          |  65 +++++----------
 test/live.go                                   |  20 ++---
 6 files changed, 151 insertions(+), 135 deletions(-)
