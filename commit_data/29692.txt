commit f0636bf6f97478aca313052a9661828d01357d75
Author: Dhananjay Nakrani <dhananjayn@google.com>
Date:   Sat Oct 1 18:01:30 2016 -0700

    cmd/cover: Fix compiler directives handling.
    
    Currently, it separates comments from rest of the AST. This causes problems when
    long counter increment statements are added before compiler directives.
    See Issue #17315.
    
    This change moves comments handling into AST Visitor so that when printer prints
    code from AST, position of compiler directives relative to the associated function
    is preserved.
    
    Tested with https://gist.github.com/dhananjay92/837df6bc1f171b1350f85d7a7d59ca1e
    and unit test.
    
    Fixes #17315
    
    Change-Id: I61a80332fc1923de6fc59ff63b953671598071fa
    Reviewed-on: https://go-review.googlesource.com/30161
    Reviewed-by: Rob Pike <r@golang.org>

 src/cmd/cover/cover.go         | 35 ++++++++++++++---------------------
 src/cmd/cover/cover_test.go    | 19 +++++++++++++++++--
 src/cmd/cover/testdata/main.go |  6 +++++-
 src/cmd/cover/testdata/test.go | 12 ++++++++++++
 4 files changed, 48 insertions(+), 24 deletions(-)
