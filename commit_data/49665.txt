commit 5bc273aca54391177ad3f43a54d22021deb99114
Author: Jay Conrod <jayconrod@google.com>
Date:   Tue Aug 17 13:25:12 2021 -0700

    [dev.fuzz] internal/fuzz: minimize inputs that expand coverage
    
    When a fuzz worker discovers an input that activates coverage counters
    that weren't previously activated, it sends that input back to the
    coordinator, as before. If the coordinator also finds that input
    provides new coverage (that is, some other input hasn't won the race),
    the coordinator now sends the input back to workers for minimization.
    
    The minimization procedure now supports minimizing these interesting
    inputs. It attempts to find smaller inputs that preserve at least one
    new coverage bit. If minimization succeeds, the coordinator adds the
    smaller input to the corpus instead of the original. If minimization
    fails, the coordinator adds the original input. If minimization finds
    that the original input didn't provide new coverage after all (for
    example, a counter was activated by an unrelated background goroutine
    and was considered flaky), the input is ignored and not recorded.
    
    Change-Id: I81d98d6ec28abb0ac2a476f73480ceeaff674c08
    Reviewed-on: https://go-review.googlesource.com/c/go/+/342997
    Trust: Jay Conrod <jayconrod@google.com>
    Trust: Katie Hockman <katie@golang.org>
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Katie Hockman <katie@golang.org>

 .../script/test_fuzz_minimize_interesting.txt      | 112 ++++++++
 src/internal/fuzz/fuzz.go                          | 301 +++++++++++++--------
 src/internal/fuzz/minimize.go                      |  16 +-
 src/internal/fuzz/minimize_test.go                 |  26 +-
 src/internal/fuzz/queue.go                         |  71 +++++
 src/internal/fuzz/queue_test.go                    |  58 ++++
 src/internal/fuzz/worker.go                        | 162 +++++++----
 7 files changed, 580 insertions(+), 166 deletions(-)
