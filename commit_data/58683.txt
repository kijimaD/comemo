commit a27a525d1b4df74989ac9f6ad10394391fe3eb88
Author: Alan Donovan <adonovan@google.com>
Date:   Mon Nov 20 17:22:37 2023 -0500

    go/types: set correct Var.scopePos for parameters/results
    
    Previously, its value was unset (NoPos), but the correct
    value is a point after the signature (FuncType.End) and
    before the body.
    
    Also, fix a bug in Scope.Innermost whereby it would return
    the wrong (outer) scope when the query position was in
    the FuncType portion of a Func{Decl,Lit}.
    The fix is to set the scope's pos/end to those of the
    complete Func{Decl,Lit}. This is now documented at
    Info.Scopes, along with other missing information.
    
    Also, fix a bug in the go/types (but not types2) scope
    test, in which comments were discarded by the parser,
    causing the entire test to be a no-op (!).
    
    Also, make failures of TestScopeLookupParent more
    informative.
    
    Also, add a release note about the change in behavior.
    
    Fixes #64292
    Fixes #64295
    
    Change-Id: Ib681f59d1b0b43de977666db08302d7524d3305f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/544035
    Reviewed-by: Robert Findley <rfindley@google.com>
    Reviewed-by: Robert Griesemer <gri@google.com>
    Auto-Submit: Robert Griesemer <gri@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Run-TryBot: Robert Griesemer <gri@google.com>

 doc/go1.22.html                              | 12 ++++++++++
 src/cmd/compile/internal/types2/api.go       |  9 +++++++
 src/cmd/compile/internal/types2/api_test.go  | 32 ++++++++++++++++++++++---
 src/cmd/compile/internal/types2/decl.go      | 18 ++++++++++----
 src/cmd/compile/internal/types2/expr.go      |  4 ++++
 src/cmd/compile/internal/types2/signature.go | 28 ++++++++++++++--------
 src/cmd/compile/internal/types2/stmt.go      |  4 ----
 src/cmd/compile/internal/types2/util_test.go |  7 +++++-
 src/go/types/api.go                          |  9 +++++++
 src/go/types/api_test.go                     | 35 ++++++++++++++++++++++++----
 src/go/types/decl.go                         | 14 +++++++----
 src/go/types/eval_test.go                    |  2 +-
 src/go/types/expr.go                         |  4 ++++
 src/go/types/signature.go                    | 27 ++++++++++++++-------
 src/go/types/stmt.go                         |  4 ----
 src/go/types/util_test.go                    |  7 +++++-
 16 files changed, 169 insertions(+), 47 deletions(-)
