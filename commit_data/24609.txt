commit 463858e6ff8cacd3bf2dafebe56272f8a863d959
Author: Josh Bleecher Snyder <josharian@gmail.com>
Date:   Tue Aug 11 09:47:45 2015 -0700

    [dev.ssa] cmd/compile: make failed nil checks panic
    
    Introduce pseudo-ops PanicMem and LoweredPanicMem.
    PanicMem could be rewritten directly into MOVL
    during lowering, but then we couldn't log nil checks.
    
    With this change, runnable nil check tests pass:
    
    GOSSAPKG=main go run run.go -- nil*.go
    
    Compiler output nil check tests fail:
    
    GOSSAPKG=p go run run.go -- nil*.go
    
    This is due to several factors:
    
    * SSA has improved elimination of unnecessary nil checks.
    * SSA is missing elimination of implicit nil checks.
    * SSA is missing extra logging about why nil checks were removed.
    
    I'm not sure how best to resolve these failures,
    particularly in a world in which the two backends
    will live side by side for some time.
    For now, punt on the problem.
    
    Change-Id: Ib2ca6824551671f92e0e1800b036f5ca0905e2a3
    Reviewed-on: https://go-review.googlesource.com/13474
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/gc/ssa.go             | 36 ++++++++++++++++++++++----
 src/cmd/compile/internal/ssa/gen/AMD64.rules   |  2 ++
 src/cmd/compile/internal/ssa/gen/AMD64Ops.go   |  3 +++
 src/cmd/compile/internal/ssa/gen/genericOps.go |  2 ++
 src/cmd/compile/internal/ssa/lower.go          |  9 +++++--
 src/cmd/compile/internal/ssa/opGen.go          | 10 +++++++
 src/cmd/compile/internal/ssa/rewriteAMD64.go   | 18 +++++++++++++
 7 files changed, 73 insertions(+), 7 deletions(-)
