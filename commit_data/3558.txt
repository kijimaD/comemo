commit 049501ce4c10093ba817f48aff4fa07c8984d796
Author: Austin Clements <aclements@csail.mit.edu>
Date:   Thu Oct 15 12:59:59 2009 -0700

    Implement error handling on process monitor exit.  Now, before
    sending any message to the monitor, the sender must check a
    "ready" channel.  Before exiting, the monitor records its exit
    error and closes this channel, ensuring that all later reads
    from the ready channel will immediately return false.
    
    Inspired by
    http://chplib.wordpress.com/2009/09/30/poison-concurrent-termination/
    
    R=rsc
    APPROVED=rsc
    DELTA=47  (27 added, 11 deleted, 9 changed)
    OCL=35782
    CL=35784

 src/pkg/debug/proc/proc_linux.go | 56 ++++++++++++++++++++++++++--------------
 1 file changed, 36 insertions(+), 20 deletions(-)
