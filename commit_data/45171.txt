commit 699a7c0fe9c1b75340f2ef05949529ec4b43dc4e
Author: Aofei Sheng <aofei@aofeisheng.com>
Date:   Fri Apr 2 14:45:26 2021 +0800

    cmd/go/internal/modconv: involve GOPROXY in ConvertLegacyConfig
    
    Fixes #33767
    
    Change-Id: Ia2d6dd32bcb0e142f59346232b3b1aa3babb034a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/306809
    Trust: Jay Conrod <jayconrod@google.com>
    Trust: Bryan C. Mills <bcmills@google.com>
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>
    Reviewed-by: Aofei Sheng <aofei@aofeisheng.com>
    Reviewed-by: Jay Conrod <jayconrod@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>

 src/cmd/go/internal/modconv/convert.go             |   9 +-
 src/cmd/go/internal/modconv/convert_test.go        | 189 ---------------------
 src/cmd/go/internal/modfetch/repo.go               |  56 ------
 src/cmd/go/internal/modload/init.go                |  13 +-
 src/cmd/go/testdata/script/mod_convert.txt         |  64 +++++++
 .../testdata/script/mod_convert_tsv_insecure.txt   |   2 +
 src/cmd/go/testdata/script/mod_init_dep.txt        |   4 -
 src/cmd/go/testdata/script/mod_init_glide.txt      |   1 +
 8 files changed, 82 insertions(+), 256 deletions(-)
