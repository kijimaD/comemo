commit 401d7e5a242f1007c2637a25111a6fa985728c08
Author: Cherry Zhang <cherryyz@google.com>
Date:   Fri Jan 29 13:46:34 2021 -0500

    [dev.regabi] cmd/compile: reserve X15 as zero register on AMD64
    
    In ABIInternal, reserve X15 as constant zero, and use it to zero
    memory. (Maybe there can be more use of it?)
    
    The register is zeroed when transition to ABIInternal from ABI0.
    
    Caveat: using X15 generates longer instructions than using X0.
    Maybe we want to use X0?
    
    Change-Id: I12d5ee92a01fc0b59dad4e5ab023ac71bc2a8b7d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/288093
    Trust: Cherry Zhang <cherryyz@google.com>
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/amd64/ggen.go       |   4 +-
 src/cmd/compile/internal/amd64/ssa.go        |  43 +++-
 src/cmd/compile/internal/ssa/config.go       |   1 +
 src/cmd/compile/internal/ssa/gen/AMD64.rules |  26 +--
 src/cmd/compile/internal/ssa/gen/AMD64Ops.go |  41 ++--
 src/cmd/compile/internal/ssa/op.go           |   4 +-
 src/cmd/compile/internal/ssa/opGen.go        | 281 ++++++++++++++-------------
 src/cmd/compile/internal/ssa/rewriteAMD64.go |  96 ++++-----
 src/cmd/compile/internal/ssagen/abi.go       |  15 +-
 src/cmd/compile/internal/ssagen/ssa.go       |   5 +-
 src/runtime/duff_amd64.s                     | 128 ++++++------
 src/runtime/mkduff.go                        |  14 +-
 test/codegen/structs.go                      |   4 +-
 13 files changed, 347 insertions(+), 315 deletions(-)
