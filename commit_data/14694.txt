commit 708db79011010549827fb18c800489a20a04b47c
Author: Joel Sing <jsing@google.com>
Date:   Fri Dec 21 01:43:19 2012 +1100

    cgo: enable cgo on openbsd
    
    Enable cgo on OpenBSD.
    
    The OpenBSD ld.so(1) does not currently support PT_TLS sections. Work
    around this by fixing up the TCB that has been provided by librthread
    and reallocating a TCB with additional space for TLS. Also provide a
    wrapper for pthread_create, allowing zeroed TLS to be allocated for
    threads created externally to Go.
    
    Joint work with Shenghou Ma (minux).
    
    Requires change 6846064.
    
    Fixes #3205.
    
    R=golang-dev, minux.ma, iant, rsc, iant
    CC=golang-dev
    https://golang.org/cl/6853059

 doc/progs/run                           |   4 +
 misc/cgo/test/basic.go                  |   8 +-
 src/pkg/go/build/build.go               |   2 +
 src/pkg/net/cgo_openbsd.go              |  14 +++
 src/pkg/net/cgo_unix.go                 |   2 +-
 src/pkg/os/user/lookup_unix.go          |   2 +-
 src/pkg/runtime/cgo/gcc_openbsd_386.c   | 170 ++++++++++++++++++++++++++++++++
 src/pkg/runtime/cgo/gcc_openbsd_amd64.c | 170 ++++++++++++++++++++++++++++++++
 src/pkg/runtime/cgo/openbsd.c           |  21 ++++
 9 files changed, 390 insertions(+), 3 deletions(-)
