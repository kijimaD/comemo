commit 861707a8c84f0b1ddbcaea0e9f439398ee2175fb
Author: David Chase <drchase@google.com>
Date:   Mon Jan 4 13:32:10 2021 -0500

    [dev.regabi] cmd/compile: added limited //go:registerparams pragma for new ABI dev
    
    This only works for functions; if you try it with a method, it will
    fail.  It does work for both local package and imports.  For now,
    it tells you when it thinks it sees either a declaration or a call of
    such a function (this will normally be silent since no existing
    code uses this pragma).
    
    Note: it appears to be really darn hard to figure out if this
    pragma was set for a method, and the method's call site.  Better
    ir.Node wranglers than I might be able to make headway, but it
    seemed unnecessary for this experiment.
    
    Change-Id: I601c2ddd124457bf6d62f714d7ac871705743c0a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/279521
    Trust: David Chase <drchase@google.com>
    Run-TryBot: David Chase <drchase@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/compile/internal/ir/node.go           |  3 +++
 src/cmd/compile/internal/noder/lex.go         |  3 +++
 src/cmd/compile/internal/ssagen/ssa.go        | 15 +++++++++++
 src/cmd/compile/internal/typecheck/iexport.go |  3 +++
 src/cmd/compile/internal/typecheck/iimport.go |  3 +++
 test/abi/regabipragma.dir/main.go             | 36 +++++++++++++++++++++++++++
 test/abi/regabipragma.dir/tmp/foo.go          | 19 ++++++++++++++
 test/abi/regabipragma.go                      |  9 +++++++
 test/abi/regabipragma.out                     |  6 +++++
 test/run.go                                   |  2 +-
 10 files changed, 98 insertions(+), 1 deletion(-)
