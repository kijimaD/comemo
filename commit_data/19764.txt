commit 086df1dc77710cb6fa06ca561e1fafd5a4c78d8e
Author: snyh <snyh@snyh.org>
Date:   Fri Jul 18 02:47:21 2014 -0400

    cmd/cgo: disable inappropriate warnings when the gcc struct is empty
    
    package main
    //#cgo CFLAGS: -Wall
    //void test() {}
    import "C"
    func main() {
        C.test()
    }
    
    This code will cause gcc issuing warnings about unused variable.
    
    This commit use offset of the second return value of
    Packages.structType to detect whether the gcc struct is empty,
    and if it's directly invoke the C function instead of writing an
    unused code.
    
    LGTM=dave, minux
    R=golang-codereviews, iant, minux, dave
    CC=golang-codereviews
    https://golang.org/cl/109640045

 misc/cgo/test/empty.go | 18 ++++++++++++++++++
 src/cmd/cgo/out.go     |  6 ++++--
 2 files changed, 22 insertions(+), 2 deletions(-)
