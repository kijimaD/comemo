commit 8221f90f1347bd96548d48b178c8bcb0607cde8f
Author: Ian Lance Taylor <iant@golang.org>
Date:   Tue Sep 12 00:07:55 2023 +0000

    Revert "os/exec: avoid calling LookPath in cmd.Start for resolved paths"
    
    This reverts CL 512155.
    
    Reason for revert: CL 512155 introduced a race in that it caused
    cmd.Start to set cmd.Path. Previously it was fine if code looked
    at cmd.Path in one goroutine while calling cmd.Start in a different
    goroutine.
    
    A test case for this race is in CL 527495.
    
    Change-Id: Ic18fdadf6763727f8ea748280d5f0e601b9bf374
    Reviewed-on: https://go-review.googlesource.com/c/go/+/527337
    Auto-Submit: Ian Lance Taylor <iant@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/os/exec/exec.go       | 36 ++++++++++++++++++++++++++++++++----
 src/os/exec/lp_plan9.go   |  6 ------
 src/os/exec/lp_unix.go    |  6 ------
 src/os/exec/lp_wasm.go    |  6 ------
 src/os/exec/lp_windows.go | 43 -------------------------------------------
 5 files changed, 32 insertions(+), 65 deletions(-)
