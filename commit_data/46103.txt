commit 70155cca81d061686d4f23b7ad59fe8213e87f9f
Author: Russ Cox <rsc@golang.org>
Date:   Sun Dec 6 13:17:03 2020 -0500

    [dev.regabi] cmd/compile: untangle FmtFlag, FmtMode
    
    It turns out that the FmtFlag is really only tracking the FmtLong and FmtShort bits,
    and the others simply mirror the state of the FmtMode and are copied out and
    back in repeatedly.
    
    Simplify to FmtFlag being the verb itself ('S', 'L', or 'v').
    
    Now there is only one formatting enumeration, making it a bit
    easier to understand what's going on.
    
    Passes buildall w/ toolstash -cmp.
    
    Change-Id: I85bde2183eb22228fcf46d19d003401d588d9825
    Reviewed-on: https://go-review.googlesource.com/c/go/+/275778
    Trust: Russ Cox <rsc@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/gc/const.go |   2 +-
 src/cmd/compile/internal/ir/fmt.go   | 181 ++++++++++-------------------------
 2 files changed, 53 insertions(+), 130 deletions(-)
