commit c801e4b10f708c180a3708bcf39881338691287c
Author: Robert Griesemer <gri@golang.org>
Date:   Thu Aug 25 16:14:43 2022 -0700

    cmd/compile/internal/syntax: use BadExpr instead of fake CallExpr in bad go/defer
    
    If the go/defer syntax is bad, using a fake CallExpr may produce
    a follow-on error in the type checker. Instead store a BadExpr
    in the syntax tree (since an error has already been reported).
    
    Adjust various tests.
    
    For #54511.
    
    Change-Id: Ib2d25f8eab7d5745275188d83d11620cad6ef47c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/425675
    Reviewed-by: Alan Donovan <adonovan@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Run-TryBot: Robert Griesemer <gri@google.com>
    Auto-Submit: Robert Griesemer <gri@google.com>
    Reviewed-by: Robert Griesemer <gri@google.com>

 src/cmd/compile/internal/syntax/nodes.go            |  2 +-
 src/cmd/compile/internal/syntax/parser.go           | 21 +++++++++++++--------
 .../compile/internal/syntax/testdata/issue20789.go  |  2 +-
 src/cmd/compile/internal/types2/stmt.go             |  2 +-
 .../compile/internal/types2/testdata/check/stmt0.go |  4 ++--
 test/fixedbugs/issue20789.go                        |  2 +-
 test/fixedbugs/issue23586.go                        |  8 +++++---
 7 files changed, 24 insertions(+), 17 deletions(-)
