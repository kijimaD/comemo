commit 48279bd567cc4d1efca9f69e713469fc6659eb26
Author: Carl Shapiro <cshapiro@google.com>
Date:   Tue Dec 3 14:42:38 2013 -0800

    runtime: add an allocation and free tracing for gc debugging
    
    Output for an allocation and free (sweep) follows
    
    MProf_Malloc(p=0xc2100210a0, size=0x50, type=0x0 <single object>)
            #0 0x46ee15 runtime.mallocgc /usr/local/google/home/cshapiro/go/src/pkg/runtime/malloc.goc:141
            #1 0x47004f runtime.settype_flush /usr/local/google/home/cshapiro/go/src/pkg/runtime/malloc.goc:612
            #2 0x45f92c gc /usr/local/google/home/cshapiro/go/src/pkg/runtime/mgc0.c:2071
            #3 0x45f89e mgc /usr/local/google/home/cshapiro/go/src/pkg/runtime/mgc0.c:2050
            #4 0x45258b runtime.mcall /usr/local/google/home/cshapiro/go/src/pkg/runtime/asm_amd64.s:179
    
    MProf_Free(p=0xc2100210a0, size=0x50)
            #0 0x46ee15 runtime.mallocgc /usr/local/google/home/cshapiro/go/src/pkg/runtime/malloc.goc:141
            #1 0x47004f runtime.settype_flush /usr/local/google/home/cshapiro/go/src/pkg/runtime/malloc.goc:612
            #2 0x45f92c gc /usr/local/google/home/cshapiro/go/src/pkg/runtime/mgc0.c:2071
            #3 0x45f89e mgc /usr/local/google/home/cshapiro/go/src/pkg/runtime/mgc0.c:2050
            #4 0x45258b runtime.mcall /usr/local/google/home/cshapiro/go/src/pkg/runtime/asm_amd64.s:179
    
    R=golang-dev, dvyukov, rsc, cshapiro
    CC=golang-dev
    https://golang.org/cl/21990045

 src/pkg/runtime/extern.go  |  3 +++
 src/pkg/runtime/malloc.goc |  5 ++++-
 src/pkg/runtime/malloc.h   |  2 +-
 src/pkg/runtime/mprof.goc  | 55 ++++++++++++++++++++++++++++++++++++++++++++--
 src/pkg/runtime/runtime.c  |  3 ++-
 src/pkg/runtime/runtime.h  |  3 ++-
 6 files changed, 65 insertions(+), 6 deletions(-)
