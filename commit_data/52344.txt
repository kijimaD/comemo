commit 89044b6d423a07bea3b6f80210f780e859dd2700
Author: Filippo Valsorda <filippo@golang.org>
Date:   Thu Apr 4 12:48:58 2019 -0400

    math/big: add comprehensive aliasing tests (and minor fixes to Exp, Rand)
    
    TestAlias checks systematically for aliasing issues, where passing the
    same value for an argument and the receiver leads to incorrect results.
    
    We had a number of issues like that over the years:
    
        - #31084: Lsh on arm64
        - #30217: GCD
        - #22830: Exp due to divLarge
        - #22265: ModSqrt
        - #20490: Add and Sub
        - #11284: GCD
    
    This CL also fixes two new minor bugs that the test found. A wrong
    result would be returned by
    
        - Exp when the modulo and the receiver alias
        - Rand when the limit is negative and it aliases the receiver
    
    The test runs in ~0.05s with the default -quickchecks value.
    
    Change-Id: I8354069ec9886e40c60f2642342ee08e604befb7
    Reviewed-on: https://go-review.googlesource.com/c/go/+/168257
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Filippo Valsorda <valsorda@google.com>
    Reviewed-by: Roland Shoemaker <roland@golang.org>
    Auto-Submit: Filippo Valsorda <filippo@golang.org>
    Run-TryBot: Filippo Valsorda <filippo@golang.org>

 src/math/big/alias_test.go | 312 +++++++++++++++++++++++++++++++++++++++++++++
 src/math/big/int.go        |  11 +-
 2 files changed, 320 insertions(+), 3 deletions(-)
