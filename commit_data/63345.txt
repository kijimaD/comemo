commit f1e6ae2f6f5424f9f5c6dc915866d4f457c1483e
Author: Joe Tsai <joetsai@digital-static.net>
Date:   Fri Jun 27 10:59:44 2025 -0700

    reflect: fix TypeAssert on nil interface values
    
    In the Go language a type assertion of a nil interface value
    will always report false:
    
            var err error
            v, ok := err.(error) // always reports (nil, false)
    
    Consequently, assertion on a reflect.Value.Interface()
    will also report false:
    
            var err error
            rv := ValueOf(&err).Elem()
            v, ok := rv.Interface().(error) // reports (nil, false)
    
    However, prior to this change, a TypeAssert would report true:
    
            var err error
            rv := ValueOf(&err).Elem()
            v, ok := TypeAssert[error](rv) // reports (nil, true)
    
    when it should report false.
    
    This fixes TypeAssert to match the Go language by
    pushing the typ != v.typ check to the very end after
    we have validated that neither v nor T are interface kinds.
    
    Fixes #74404
    
    Change-Id: Ie14d5cf18c8370c3e27ce4bdf4570c89519d8a16
    Reviewed-on: https://go-review.googlesource.com/c/go/+/684675
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Auto-Submit: Joseph Tsai <joetsai@digital-static.net>
    Reviewed-by: Mateusz Poliwczak <mpoliwczak34@gmail.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>

 src/reflect/all_test.go |  5 ++++
 src/reflect/value.go    | 72 ++++++++++++++++++++++++-------------------------
 2 files changed, 41 insertions(+), 36 deletions(-)
