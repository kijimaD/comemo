commit bdd7c01b558acdfbf10376308251cc979db066d5
Author: fanzha02 <fannie.zhang@arm.com>
Date:   Tue Jun 13 10:16:41 2017 +0000

    cmd/internal/obj/arm64: fix assemble movk bug
    
    The current code gets shift arguments value from prog.From3.Offset.
    But prog.From3.Offset is not assigned the shift arguments value in
    instructions assemble process.
    
    The fix calls movcon() function to get the correct value.
    
    Uncomment the movk/movkw  cases.
    
    Fixes #21398
    Change-Id: I78d40c33c24bd4e3688a04622e4af7ddb5333fa6
    Reviewed-on: https://go-review.googlesource.com/54990
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/asm/internal/asm/testdata/arm64enc.s |  6 +++---
 src/cmd/internal/obj/arm64/asm7.go           | 23 ++++++++++-------------
 2 files changed, 13 insertions(+), 16 deletions(-)
