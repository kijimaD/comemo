commit aa6e16848041f07b004c7247cfe6b14bf64bcd22
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Wed May 3 20:56:41 2023 +0000

    Revert "cmd/compile: enhance tighten pass for memory values"
    
    This reverts CL 458755.
    
    Reason for revert: broke make.bash on GOAMD64=v3:
    
    /workdir/go/src/crypto/sha1/sha1.go:54:35: internal compiler error: '(*digest).MarshalBinary': func (*digest).MarshalBinary, startMem[b13] has different values, old v206, new v338
    
    goroutine 34 [running]:
    runtime/debug.Stack()
            /workdir/go/src/runtime/debug/stack.go:24 +0x9f
    bootstrap/cmd/compile/internal/base.FatalfAt({0x13, 0xaa0f1}, {0xc000db4440, 0x40}, {0xc0013b0000, 0x5, 0x5})
            /workdir/go/src/cmd/compile/internal/base/print.go:234 +0x2d1
    bootstrap/cmd/compile/internal/base.Fatalf(...)
            /workdir/go/src/cmd/compile/internal/base/print.go:203
    bootstrap/cmd/compile/internal/ssagen.(*ssafn).Fatalf(0xc000d90000, {0x13, 0xaa0f1}, {0xcb7b91, 0x3a}, {0xc000d99bc0, 0x4, 0x4})
            /workdir/go/src/cmd/compile/internal/ssagen/ssa.go:7896 +0x1f8
    bootstrap/cmd/compile/internal/ssa.(*Func).Fatalf(0xc000d82340, {0xcb7b91, 0x3a}, {0xc000d99bc0, 0x4, 0x4})
            /workdir/go/src/cmd/compile/internal/ssa/func.go:716 +0x342
    bootstrap/cmd/compile/internal/ssa.memState(0xc000d82340, {0xc000ec6200, 0x22, 0x40}, {0xc001046000, 0x22, 0x40})
            /workdir/go/src/cmd/compile/internal/ssa/tighten.go:240 +0x6c5
    bootstrap/cmd/compile/internal/ssa.tighten(0xc000d82340)
    [...]
    
    Change-Id: Ic445fb48fe0f2c60ac67abe259b66594f1419152
    Reviewed-on: https://go-review.googlesource.com/c/go/+/492335
    Run-TryBot: Daniel Martí <mvdan@mvdan.cc>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/ssa/regalloc.go |   7 +--
 src/cmd/compile/internal/ssa/tighten.go  | 105 ++-----------------------------
 test/tighten.go                          |  22 -------
 3 files changed, 7 insertions(+), 127 deletions(-)
