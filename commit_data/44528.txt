commit 847b9be3f62c7c93d3faf34577675e97176f6f7d
Author: Cherry Zhang <cherryyz@google.com>
Date:   Wed Jul 29 19:32:31 2020 -0400

    [dev.link] cmd/link: make symbol attribute setting more reliable
    
    For dupOK symbols, their attributes should be OR'd. Most of the
    attributes are expected to be set consistently across multiple
    definitions, but UsedInIface must be OR'd, and for alignment we
    need to pick the largest one. Currently the attributes are not
    always OR'd, depending on addSym returning true or false. This
    doesn't cause any real problem, but it would be a problem if we
    make type descriptor symbols content-addressable.
    
    This CL removes the second result of addSym, and lets preloadSyms
    always set the attributes. Also removes the alignment handling on
    addSym, handles it in preloadSyms only.
    
    Change-Id: I06b3f0adb733f6681956ea9ef54736baa86ae7bc
    Reviewed-on: https://go-review.googlesource.com/c/go/+/245720
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/link/internal/loader/loader.go      | 78 ++++++++++++-----------------
 src/cmd/link/internal/loader/loader_test.go |  6 +--
 2 files changed, 33 insertions(+), 51 deletions(-)
