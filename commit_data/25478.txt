commit 582baae22a108e0b5f09da52c20f5ced83fe6084
Author: Keith Randall <khr@golang.org>
Date:   Mon Nov 2 21:28:13 2015 -0800

    [dev.ssa] cmd/compile: Do pointer arithmetic with int, not uintptr
    
    Be more consistent about this.  There's no reason to do the
    pointer arithmetic on a different type, as sizeof(int) >=
    sizeof(ptr) on all of our platforms.  It simplifies our
    rewrite rules also, except for a few that need duplication.
    
    Add some more constant folding to get constant indexing and
    slicing to fold down to nothing.
    
    Change-Id: I3e56cdb14b3dc1a6a0514f0333e883f92c19e3c7
    Reviewed-on: https://go-review.googlesource.com/16586
    Run-TryBot: Keith Randall <khr@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/gc/ssa.go             |  50 ++-
 src/cmd/compile/internal/ssa/func.go           |   4 -
 src/cmd/compile/internal/ssa/gen/AMD64.rules   |   2 -
 src/cmd/compile/internal/ssa/gen/generic.rules |  42 ++-
 src/cmd/compile/internal/ssa/gen/genericOps.go |  12 +-
 src/cmd/compile/internal/ssa/nilcheck_test.go  |  14 +-
 src/cmd/compile/internal/ssa/opGen.go          |  10 -
 src/cmd/compile/internal/ssa/rewrite.go        |  10 +-
 src/cmd/compile/internal/ssa/rewriteAMD64.go   |  46 ---
 src/cmd/compile/internal/ssa/rewritegeneric.go | 457 ++++++++++++++++++++-----
 10 files changed, 448 insertions(+), 199 deletions(-)
