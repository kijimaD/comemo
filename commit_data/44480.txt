commit 4f217d5aaa88536f641910e2b97b24489132ee16
Author: Cherry Zhang <cherryyz@google.com>
Date:   Mon Jul 13 15:05:09 2020 -0400

    [dev.link] cmd/internal/goobj2, cmd/link: use short hash function for short symbols
    
    For symbols of size 8 bytes or below, we can map them to 64-bit
    hash values using the identity function. There is no need to use
    longer and more expensive hash functions.
    
    For them, we introduce another pseudo-package, PkgIdxHashed64. It
    is like PkgIdxHashed except that the hash function is different.
    
    Note that the hash value is not affected with trailing zeros,
    e.g. "A" and "A\0\0\0" have the same hash value. This allows
    deduplicating a few more symbols. When deduplicating them, we
    need to keep the longer one.
    
    Change-Id: Iad0c2e9e569b6a59ca6a121fb8c8f0c018c6da03
    Reviewed-on: https://go-review.googlesource.com/c/go/+/242362
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/internal/goobj/readnew.go      |   8 ++-
 src/cmd/internal/goobj2/objfile.go     |  46 ++++++++++++---
 src/cmd/internal/obj/link.go           |   9 +--
 src/cmd/internal/obj/objfile2.go       |  23 +++++++-
 src/cmd/internal/obj/sym.go            |  25 +++++---
 src/cmd/link/internal/loader/loader.go | 102 ++++++++++++++++++++++++---------
 6 files changed, 160 insertions(+), 53 deletions(-)
