commit d6b2b35e641eeac9f764d21dcaed46973b3e2720
Author: Jay Conrod <jayconrod@google.com>
Date:   Fri Mar 15 13:41:48 2019 -0400

    cmd/go: refactor load.LoadPackage into other functions
    
    LoadPackage was used to load a *load.Package for a command line
    argument, after pattern expansion. It provided two special cases on
    top of LoadImport. First, it ensured that "cmd/" packages in GOROOT
    were installed in "$GOROOT/bin" or "$GOROOT/pkg/tool". Second, it
    translated absolute paths to packages in GOROOT and GOPATH into
    regular import paths.
    
    With this change, LoadImport now ensures "cmd/" packages have the
    right Target (without the need for a special case) and
    search.ImportPaths translates absolute paths.
    
    LoadPackage no longer handles these special cases and has been renamed
    to LoadImportWithFlags, since it's still useful for loading implicit
    dependencies.
    
    Updates #29758
    
    Change-Id: I9d54036f90c3ccd9b3a0fe0eaddaa7749593cc91
    Reviewed-on: https://go-review.googlesource.com/c/go/+/167748
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/cmd/go/internal/get/get.go       |   9 +--
 src/cmd/go/internal/load/pkg.go      | 104 ++++-------------------------------
 src/cmd/go/internal/search/search.go |  29 ++++++++--
 src/cmd/go/internal/test/test.go     |   2 +-
 src/cmd/go/internal/work/action.go   |   8 +--
 src/cmd/go/internal/work/gc.go       |   2 +-
 6 files changed, 44 insertions(+), 110 deletions(-)
