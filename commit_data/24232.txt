commit d8384e9a8f35efff15c8f62187dc793f79b7a355
Author: Russ Cox <rsc@golang.org>
Date:   Sat Aug 15 20:50:17 2015 -0400

    cmd/vet: diagnose plain assignment in copylock detector
    
    It went out of its way to look for implicit assignments
    but never checked explicit assignments.
    
    This detects the root bug for #12099.
    
    Change-Id: I6a6e774cc38749ea8be7cfd58ba6421247b67000
    Reviewed-on: https://go-review.googlesource.com/13646
    Reviewed-by: Josh Bleecher Snyder <josharian@gmail.com>
    Reviewed-by: Rob Pike <r@golang.org>

 src/cmd/vet/copylock.go                | 22 +++++++++++++++++-----
 src/cmd/vet/testdata/copylock.go       | 28 ++++++++++++++++++++++++++++
 src/cmd/vet/testdata/copylock_func.go  | 22 +++++++++++-----------
 src/cmd/vet/testdata/copylock_range.go | 26 +++++++++++++-------------
 4 files changed, 69 insertions(+), 29 deletions(-)
