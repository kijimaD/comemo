commit 5dbdd798168ecd5b594bc89c03c9d56bcc9849b3
Author: Filip Gruszczy≈Ñski <gruszczy@gmail.com>
Date:   Sat Mar 11 13:38:14 2017 -0800

    net/http: Don't write 'Connection: close' header multiple times.
    
    When writing the 'Connection: close' header based on response Close
    attribute we also check if it is already in the headers scheduled
    to be written and skip if necessary.
    
    Fixes #19499
    
    Change-Id: I92357344a37ae385454ec8006114fa4cfa585810
    Reviewed-on: https://go-review.googlesource.com/38076
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>
    Reviewed-by: Emmanuel Odeke <emm.odeke@gmail.com>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/net/http/response_test.go | 26 ++++++++++++++++++++++++++
 src/net/http/transfer.go      |  5 ++++-
 2 files changed, 30 insertions(+), 1 deletion(-)
