commit 0365b989a49077eb7917d1c4ba31f5d4b668c144
Author: Russ Cox <rsc@golang.org>
Date:   Tue Jan 19 21:14:15 2010 -0800

    runtime: wait to allocate mach semaphores backing Locks until needed
    
    need better management of mach semaphores eventually
    but this avoids allocating them for uncontended Locks.
    
    R=r
    CC=agl1, golang-dev
    https://golang.org/cl/190079

 src/pkg/runtime/darwin/thread.c | 30 ++++++++++++++++++------------
 1 file changed, 18 insertions(+), 12 deletions(-)
