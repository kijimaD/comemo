commit 0d1b44c6457bcfad611252175934e82f73440475
Author: Russ Cox <rsc@golang.org>
Date:   Thu Dec 3 12:57:38 2020 -0500

    [dev.regabi] cmd/compile: introduce IR visitors
    
    This CL introduces the general visitor functionality that will replace
    the Left, SetLeft, Right, SetRight, etc methods in the Node interface.
    
    For now, the CL defines the functionality in terms of those methods,
    but eventually the Nodes themselves will implement DoChildren
    and EditChildren and be relieved of implementing Left, SetLeft, and so on.
    
    The CL also updates Inspect (which moved to visit.go) and DeepCopy
    to use the new functionality.
    
    The Find helper is not used in this CL but will be used in a future one.
    
    Passes buildall w/ toolstash -cmp.
    
    Change-Id: Id0eea654a884ab3ea25f48bd8bdd71712b5dcb44
    Reviewed-on: https://go-review.googlesource.com/c/go/+/275311
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/ir/copy.go  |  57 ++------
 src/cmd/compile/internal/ir/node.go  |  20 ---
 src/cmd/compile/internal/ir/visit.go | 273 +++++++++++++++++++++++++++++++++++
 3 files changed, 289 insertions(+), 61 deletions(-)
