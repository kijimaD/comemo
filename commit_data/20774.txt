commit af3868f1879c7f8bef1a4ac43cfe1ab1304ad6a4
Author: Dmitriy Vyukov <dvyukov@google.com>
Date:   Wed Oct 22 20:23:49 2014 +0400

    sync: release Pool memory during second and later GCs
    
    Pool memory was only being released during the first GC after the first Put.
    
    Put assumes that p.local != nil means p is on the allPools list.
    poolCleanup (called during each GC) removed each pool from allPools
    but did not clear p.local, so each pool was cleared by exactly one GC
    and then never cleared again.
    
    This bug was introduced late in the Go 1.3 release cycle.
    
    Fixes #8979.
    
    LGTM=rsc
    R=golang-codereviews, bradfitz, r, rsc
    CC=golang-codereviews, khr
    https://golang.org/cl/162980043

 src/sync/pool.go      |  2 ++
 src/sync/pool_test.go | 54 +++++++++++++++++++++++++++++++--------------------
 2 files changed, 35 insertions(+), 21 deletions(-)
