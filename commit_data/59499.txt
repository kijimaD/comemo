commit b750841906c84e894dfa3ee43e0f65d94f989b01
Author: Andy Pan <panjf2000@gmail.com>
Date:   Wed Mar 13 10:15:19 2024 +0800

    os: kick FIFOs with O_NONBLOCK out of the kqueue on Darwin/iOS
    
    Fixes #66239
    
    Change-Id: I8210682c0cf4285b950e9fabe687b7ad2369835c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/570397
    Auto-Submit: Ian Lance Taylor <iant@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Run-TryBot: Andy Pan <panjf2000@gmail.com>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Reviewed-by: David Chase <drchase@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/os/fifo_test.go    | 55 ++++++++++++++++++++++++++++++++++++++++++++
 src/os/file_unix.go    | 62 ++++++++++++++++++++++++--------------------------
 src/os/pipe2_unix.go   |  2 +-
 src/os/pipe_unix.go    |  2 +-
 src/os/removeall_at.go |  2 +-
 5 files changed, 88 insertions(+), 35 deletions(-)
