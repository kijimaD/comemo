commit 3601a1e77d7fdd4c98c3dbd6f1bfa0028bc24fdd
Author: David Crawshaw <crawshaw@golang.org>
Date:   Mon Feb 29 13:07:50 2016 -0900

    cmd/link: write DWARF PC table without seeking
    
    This per-symbol table was written with the strategy:
    
            1. record offset and write fake header
            2. write body
            3. seek back to fake header
            4. write real header
    
    This CL collects the per-symbol body into a []byte, then writes the
    real header followed by the body to the output file. This saves two
    seeks per-symbol and overwriting the fake header.
    
    Small performance improvement (3.5%) in best-of-ten links of godoc:
    
    tip:  real 0m1.132s user 0m1.256s
    this: real 0m1.090s user 0m1.210s
    
    I'm not sure if the performance measured here alone justifies it,
    but I think this is an easier to read style of code.
    
    Change-Id: I1663901eb7c2ee330591b8b6550cdff0402ed5dc
    Reviewed-on: https://go-review.googlesource.com/20074
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/link/internal/ld/dwarf.go | 145 ++++++++++++++++----------------------
 1 file changed, 59 insertions(+), 86 deletions(-)
