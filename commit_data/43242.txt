commit 0dff5b0b9e08157e817cfd95ad240ea2509e6644
Author: Than McIntosh <thanm@google.com>
Date:   Thu Mar 12 14:10:09 2020 -0400

    [dev.link] cmd/compile, cmd/link: move away from DWARF file renumbering
    
    This patch moves the compiler and linker away from the current scheme
    used to generate file references in DWARF subprogram dies.
    
    Up until now the scheme has been to have the compiler emit a special
    relocation on a DIE file reference that points to the file symbol in
    question. The linker then reads this relocation and updates the addend
    to the index of the appropriate file in the line table of the
    compilation unit of the DIE (the linker emits the comp unit file
    table, so it knows at that point what number use). The drawback of
    this scheme is that it requires a lot of relocation processing.
    
    With this patch, we switch to having the compiler emit the file index
    directly, and then have the linker use the compiler-generated file
    table to emit the line table file section (no renumbering, no
    relocations, etc).
    
    Change-Id: Id4fbe67b28a64200a083e3c5ea358dbe091ec917
    Reviewed-on: https://go-review.googlesource.com/c/go/+/223318
    Run-TryBot: Than McIntosh <thanm@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/internal/obj/objfile.go        |  9 +++--
 src/cmd/link/internal/ld/dwarf.go      | 68 ----------------------------------
 src/cmd/link/internal/loader/loader.go | 23 ------------
 3 files changed, 6 insertions(+), 94 deletions(-)
