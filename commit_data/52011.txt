commit 44d22e75dd9a0cbffbb04c9ce6d6bf9030634cc1
Author: Keith Randall <khr@golang.org>
Date:   Sun Oct 9 19:06:23 2022 -0700

    cmd/compile: detect write barrier completion differently
    
    Instead of keeping track of in which blocks write barriers complete,
    introduce a new op that marks the exact memory state where the
    write barrier completes.
    
    For future use. This allows us to move some of the write barrier code
    to between the start of the merging block and the WBend marker.
    
    Change-Id: If3809b260292667d91bf0ee18d7b4d0eb1e929f0
    Reviewed-on: https://go-review.googlesource.com/c/go/+/447777
    Reviewed-by: Keith Randall <khr@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Run-TryBot: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/liveness/plive.go      | 170 +++++++++++++++---------
 src/cmd/compile/internal/ssa/_gen/genericOps.go |   1 +
 src/cmd/compile/internal/ssa/deadcode.go        |  14 --
 src/cmd/compile/internal/ssa/func.go            |   6 -
 src/cmd/compile/internal/ssa/lower.go           |   2 +-
 src/cmd/compile/internal/ssa/opGen.go           |   6 +
 src/cmd/compile/internal/ssa/writebarrier.go    |  35 ++---
 src/cmd/compile/internal/ssagen/ssa.go          |   2 +-
 8 files changed, 124 insertions(+), 112 deletions(-)
