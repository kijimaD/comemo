commit 42cd69f5d1a222a2e794d19e0b287dde2ee9a112
Author: Martin MoÌˆhrmann <martisch@uos.de>
Date:   Tue Mar 8 20:13:58 2016 +0100

    fmt: reuse buffer and add range checks for %c and %q
    
    Use The fmt internal buffer for character formatting instead of
    the pp Printer rune decoding buffer.
    
    Uses an uint64 instead of int64 argument to fmt_c and fmt_qc for easier
    range checks since no valid runes are represented by negative numbers or
    are above 0x10ffff.
    
    Add range checks to fmt_c and fmt_qc to guarantee that a RuneError
    character is returned by the functions for any invalid code point
    in range uint64. For invalid code points in range utf8.MaxRune
    the used utf8 and strconv functions already return a RuneError.
    
    Change-Id: I9772f804dfcd79c3826fa7f6c5ebfbf4b5304a51
    Reviewed-on: https://go-review.googlesource.com/20373
    Run-TryBot: Rob Pike <r@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Rob Pike <r@golang.org>

 src/fmt/fmt_test.go | 54 ++++++++++++++++++++++++++++++++++++-----------------
 src/fmt/format.go   | 24 ++++++++++++++++++++----
 src/fmt/print.go    | 19 ++++---------------
 3 files changed, 61 insertions(+), 36 deletions(-)
