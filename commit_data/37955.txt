commit 2db1a7f929892695696eebf685fc484841c08cb4
Author: Michael Munday <mike.munday@ibm.com>
Date:   Wed Sep 12 12:16:50 2018 +0100

    cmd/compile: avoid more float32 <-> float64 conversions in compiler
    
    Use the new custom truncate/extension code when storing or extracting
    float32 values from AuxInts to avoid the value being changed by the
    host platform's floating point conversion instructions (e.g. sNaN ->
    qNaN).
    
    Updates #27516.
    
    Change-Id: Id39650f1431ef74af088c895cf4738ea5fa87974
    Reviewed-on: https://go-review.googlesource.com/134855
    Run-TryBot: Michael Munday <mike.munday@ibm.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/ssa/gen/386.rules     |   4 +-
 src/cmd/compile/internal/ssa/gen/AMD64.rules   |   4 +-
 src/cmd/compile/internal/ssa/gen/PPC64.rules   |  10 +-
 src/cmd/compile/internal/ssa/gen/Wasm.rules    |   4 +-
 src/cmd/compile/internal/ssa/gen/generic.rules |  79 ++++----
 src/cmd/compile/internal/ssa/rewrite.go        |  23 ++-
 src/cmd/compile/internal/ssa/rewrite386.go     |   8 +-
 src/cmd/compile/internal/ssa/rewriteAMD64.go   |   8 +-
 src/cmd/compile/internal/ssa/rewritePPC64.go   |  20 +--
 src/cmd/compile/internal/ssa/rewriteWasm.go    |   8 +-
 src/cmd/compile/internal/ssa/rewritegeneric.go | 240 ++++++++++++-------------
 src/cmd/compile/internal/ssa/softfloat.go      |   2 +-
 12 files changed, 209 insertions(+), 201 deletions(-)
