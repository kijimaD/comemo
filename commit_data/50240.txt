commit 9b80d3d3db126bda3eb976778cca4eb03a5a229b
Author: Robert Griesemer <gri@golang.org>
Date:   Thu Aug 25 15:28:52 2022 -0700

    go/parser: remove validation of expression syntax, leave to type checker
    
    Remove the code that verifies that an expression is a type or non-type
    expression. For one, it cannot be done perfectly accurate
    (e.g., consider *p which could be an indirection or a pointer type),
    it also unnecessarily slows down parsing. It's simpler to leave the
    verification to the type checker which has all the information needed.
    
    Remove short compiler tests that tested the expression/type property.
    Adjust a couple of go/types tests which now trigger because the parser
    doesn't complain anymore.
    
    Change file for benchmark from "parser.go" to "../printer/nodes.go"
    to avoid a moving target when benchmarking.
    
    The parser may be marginally faster when tested on nodes.go:
    
    name          old time/op    new time/op    delta
    ParseOnly-12    1.35ms ± 0%    1.31ms ± 0%   ~     (p=0.100 n=3+3)
    
    name          old speed      new speed      delta
    ParseOnly-12  39.9MB/s ± 0%  41.0MB/s ± 0%   ~     (p=0.100 n=3+3)
    
    For #54511.
    
    Change-Id: I9a32c24c2c6e843c3d1af4587651c352f378b490
    Reviewed-on: https://go-review.googlesource.com/c/go/+/425716
    Reviewed-by: Robert Griesemer <gri@google.com>
    Run-TryBot: Robert Griesemer <gri@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Alan Donovan <adonovan@google.com>
    Auto-Submit: Robert Griesemer <gri@google.com>

 src/go/parser/interface.go                    |   2 +-
 src/go/parser/parser.go                       | 134 +++++---------------------
 src/go/parser/performance_test.go             |   4 +-
 src/go/parser/short_test.go                   |  19 ----
 src/go/types/testdata/check/stmt0.go          |   2 +-
 src/go/types/testdata/fixedbugs/issue42987.go |   4 +-
 6 files changed, 30 insertions(+), 135 deletions(-)
