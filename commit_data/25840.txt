commit d1eedfe1321eec4da1c68f711f8bf0de6b926ef1
Author: Caleb Spare <cespare@gmail.com>
Date:   Wed Oct 21 23:03:54 2015 -0700

    regexp: fix LiteralPrefix for certain onepass progs
    
    The prefix computation for onepass was incorrectly returning
    complete=true when it encountered a beginning-of-text empty width match
    (^) in the middle of an expression.
    
    Fix by returning complete only when the prefix is followed by $ and then
    an accepting state.
    
    Fixes #11175.
    
    Change-Id: Ie9c4cf5f76c1d2c904a6fb2f016cedb265c19fde
    Reviewed-on: https://go-review.googlesource.com/16200
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/regexp/all_test.go | 15 ++++++++++++++-
 src/regexp/onepass.go  |  7 ++++++-
 2 files changed, 20 insertions(+), 2 deletions(-)
