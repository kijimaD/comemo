commit f510cddcd153ea83890b89227275648c04e65a1a
Author: Josh Bleecher Snyder <josharian@gmail.com>
Date:   Sat Feb 22 21:47:49 2020 -0800

    cmd/compile: constant fold SHLxconst of a constant on amd64
    
    These rules fire in particular when comparing to a constant
    string of length two. They should trigger even more after CL 220499.
    
    file    before    after     Î”       %
    compile 20639976  20635880  -4096   -0.020%
    total   116003456 115999360 -4096   -0.004%
    
    Change-Id: I21c1c02cf32d710d7a4eb12efab00f02796ccb84
    Reviewed-on: https://go-review.googlesource.com/c/go/+/220694
    Run-TryBot: Josh Bleecher Snyder <josharian@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/ssa/gen/AMD64.rules |  3 +++
 src/cmd/compile/internal/ssa/rewriteAMD64.go | 24 ++++++++++++++++++++++++
 2 files changed, 27 insertions(+)
