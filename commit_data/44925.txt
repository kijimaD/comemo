commit dac136f87b9d5fdda9b5c33dfa0f94dc8c9880c7
Author: Tom Thorogood <me+google@tomthorogood.co.uk>
Date:   Sat Mar 13 00:27:30 2021 +1030

    archive/zip: fix character device handling in fileModeToUnixMode
    
    The switch case for fs.ModeDevice can only be reached for block devices
    while character devices match fs.ModeDevice | fs.ModeCharDevice. This
    would cause character devices to wrongly be reported as regular files.
    
    This bug has existed since the switch was first introduced in CL 5624048.
    
    Change-Id: Icdbedb015e5376b385b3115d2e4574daa052f796
    Reviewed-on: https://go-review.googlesource.com/c/go/+/300891
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    Trust: Emmanuel Odeke <emmanuel@orijtech.com>

 src/archive/zip/struct.go      |  8 +++-----
 src/archive/zip/writer_test.go | 12 ++++++++++++
 2 files changed, 15 insertions(+), 5 deletions(-)
