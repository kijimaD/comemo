commit a62b5723be15849656279c244834064b951801fc
Author: Michael Anthony Knyszek <mknyszek@google.com>
Date:   Mon Apr 29 20:58:39 2019 +0000

    runtime: scavenge huge spans first
    
    This change adds two new treap iteration types: one for large
    unscavenged spans (contain at least one huge page) and one for small
    unscavenged spans. This allows us to scavenge the huge spans first by
    first iterating over the large ones, then the small ones.
    
    Also, since we now depend on physHugePageSize being a power of two,
    ensure that that's the case when it's retrieved from the OS.
    
    For #30333.
    
    Change-Id: I51662740205ad5e4905404a0856f5f2b2d2a5680
    Reviewed-on: https://go-review.googlesource.com/c/go/+/174399
    Run-TryBot: Michael Knyszek <mknyszek@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Austin Clements <austin@google.com>

 src/runtime/export_test.go |  1 +
 src/runtime/mgclarge.go    |  6 ++++-
 src/runtime/mheap.go       | 60 +++++++++++++++++++++++++++++++---------------
 src/runtime/os_linux.go    |  7 ++++--
 src/runtime/treap_test.go  |  8 ++++---
 5 files changed, 57 insertions(+), 25 deletions(-)
