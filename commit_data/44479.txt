commit 3c54069907de8470b7ffa1cba8eae48e446feced
Author: Cherry Zhang <cherryyz@google.com>
Date:   Sun Jul 12 17:57:11 2020 -0400

    [dev.link] cmd/internal/obj: make integer/float constant symbols content-addressable
    
    Fill in the data at compile time, and get rid of the preprocess
    function in the linker.
    
    We need to be careful with symbol alignment: data symbols are
    generally naturally aligned, except for string symbols which are
    not aligned. When deduplicating two symbols with same content but
    different alignments, we need to keep the biggest alignment.
    
    Change-Id: I4bd96adfdc5f704b5bf3a0e723457c9bfe16a684
    Reviewed-on: https://go-review.googlesource.com/c/go/+/242081
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/internal/obj/link.go                |  6 +++
 src/cmd/internal/obj/objfile2.go            | 19 ++++++++
 src/cmd/internal/obj/sym.go                 | 20 ++++++++
 src/cmd/link/internal/loader/loader.go      | 75 +++++++++++------------------
 src/cmd/link/internal/loader/loader_test.go |  3 +-
 5 files changed, 74 insertions(+), 49 deletions(-)
