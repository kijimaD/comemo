commit fe9b292b11355af6b5f6e1d9247b88fa134657ed
Author: Rob Findley <rfindley@google.com>
Date:   Fri Mar 7 18:13:51 2025 +0000

    go/types,types2: allocate the used* maps in initFiles
    
    As described in the associated comment, we need to reallocate usedVars
    and usedPkgNames in initFiles, as they are nilled out at the end of
    Checker.Files, which may be called multiple times.
    
    Fixes #72122
    
    Change-Id: I9f6eb86e072d9d43a8720f6a5e86d827de6006a9
    Reviewed-on: https://go-review.googlesource.com/c/go/+/655437
    Auto-Submit: Robert Findley <rfindley@google.com>
    Reviewed-by: Robert Griesemer <gri@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Alan Donovan <adonovan@google.com>

 src/cmd/compile/internal/types2/check.go | 7 +++++++
 src/go/types/check.go                    | 7 +++++++
 2 files changed, 14 insertions(+)
