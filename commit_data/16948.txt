commit 6ee69a97269eb26186d08832dcafd9432945f5ad
Author: Dmitriy Vyukov <dvyukov@google.com>
Date:   Wed Jul 31 20:03:05 2013 +0400

    undo CL 12167043 / 475e11851fc1
    
    Submitted with some unrelated changes that were not intended to go in.
    
    ««« original CL description
    runtime: do not park sysmon thread if any goroutines are running
    Sysmon thread parks if no goroutines are running (runtime.sched.npidle == runtime.gomaxprocs).
    Currently it's unparked when a goroutine enters syscall, it was enough
    to retake P's from blocking syscalls.
    But it's not enough for reliable goroutine preemption. We need to ensure that
    sysmon runs if any goroutines are running.
    
    R=golang-dev, rsc
    CC=golang-dev
    https://golang.org/cl/12167043
    »»»
    
    R=rsc
    CC=golang-dev
    https://golang.org/cl/12171044

 src/pkg/runtime/proc.c | 30 ++++--------------------------
 1 file changed, 4 insertions(+), 26 deletions(-)
