commit b44e73eacbce790a1dfcad293604a4b9f5f6976f
Author: isharipo <iskander.sharipov@intel.com>
Date:   Mon Apr 2 22:50:20 2018 +0300

    test/fixedbugs: fix bug248 and bug345
    
    When test/run script was removed, these two tests
    were changed to be executed by test/run.go.
    Because errchk does not exit with non-zero status on
    errors, they were silently failing for a while.
    
    This change makes 2 things:
    
    1. Compile tested packages in GOROOT/test to match older runner script
       behavior (strictly required only in bug345, optional in bug248)
    
    2. Check command output with "(?m)^BUG" regexp.
       It approximates older `grep -q '^BUG' that was used before.
    
    See referenced issue for detailed explanation.
    
    Fixes #24629
    
    Change-Id: Ie888dcdb4e25cdbb19d434bbc5cb03eb633e9ee8
    Reviewed-on: https://go-review.googlesource.com/104095
    Run-TryBot: Iskander Sharipov <iskander.sharipov@intel.com>
    Reviewed-by: Emmanuel Odeke <emm.odeke@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 test/fixedbugs/bug248.go | 17 +++++++++--------
 test/fixedbugs/bug345.go | 12 +++++++-----
 2 files changed, 16 insertions(+), 13 deletions(-)
