commit b9c52302ff50e1299becd13f1b8c60fd69d30496
Merge: 41c6b84342 829b286f2c
Author: Russ Cox <rsc@golang.org>
Date:   Fri Dec 5 11:43:41 2014 -0500

    all: merge dev.cc (81884b89bd88) into default
    
    With this change, default now contains Go 1.5 work.
    Any future bug fixes for Go 1.4 in the compilers or
    the runtime will have to be made directly to the
    release branch.

 .hgignore                                          |    6 +-
 dev.cc                                             |    0
 include/link.h                                     |   41 +-
 lib/codereview/codereview.cfg                      |    1 +
 lib/codereview/codereview.py                       |   12 +-
 src/cmd/5a/a.h                                     |    3 +
 src/cmd/5a/a.y                                     |   26 +-
 src/cmd/5a/y.tab.c                                 | 2049 +++++------
 src/cmd/5a/y.tab.h                                 |   68 +-
 src/cmd/5c/cgen.c                                  | 1213 -------
 src/cmd/5c/doc.go                                  |   16 -
 src/cmd/5c/gc.h                                    |  333 --
 src/cmd/5c/mul.c                                   |  640 ----
 src/cmd/5c/peep.c                                  | 1478 --------
 src/cmd/5c/reg.c                                   | 1210 -------
 src/cmd/5c/sgen.c                                  |  265 --
 src/cmd/5c/swt.c                                   |  461 ---
 src/cmd/5c/txt.c                                   | 1361 -------
 src/cmd/5g/gobj.c                                  |    2 +-
 src/cmd/5g/gsubr.c                                 |    3 +-
 src/cmd/5g/opt.h                                   |   44 +-
 src/cmd/5g/reg.c                                   |   95 +-
 src/cmd/5l/5.out.h                                 |    2 +
 src/cmd/6a/a.h                                     |    3 +
 src/cmd/6a/a.y                                     |   25 +-
 src/cmd/6a/y.tab.c                                 | 1054 +++---
 src/cmd/6c/Makefile                                |    5 -
 src/cmd/6c/cgen.c                                  | 2046 -----------
 src/cmd/6c/div.c                                   |  236 --
 src/cmd/6c/doc.go                                  |   16 -
 src/cmd/6c/gc.h                                    |  359 --
 src/cmd/6c/list.c                                  |   38 -
 src/cmd/6c/machcap.c                               |  107 -
 src/cmd/6c/mul.c                                   |  458 ---
 src/cmd/6c/peep.c                                  |  902 -----
 src/cmd/6c/reg.c                                   | 1523 --------
 src/cmd/6c/sgen.c                                  |  483 ---
 src/cmd/6c/swt.c                                   |  353 --
 src/cmd/6c/txt.c                                   | 1674 ---------
 src/cmd/6g/gobj.c                                  |    2 +-
 src/cmd/6g/opt.h                                   |   46 +-
 src/cmd/6g/reg.c                                   |  140 +-
 src/cmd/6l/6.out.h                                 |    2 +
 src/cmd/8a/a.h                                     |    3 +
 src/cmd/8a/a.y                                     |   25 +-
 src/cmd/8a/y.tab.c                                 | 1050 +++---
 src/cmd/8c/Makefile                                |    5 -
 src/cmd/8c/cgen.c                                  | 1939 ----------
 src/cmd/8c/cgen64.c                                | 2657 --------------
 src/cmd/8c/div.c                                   |  236 --
 src/cmd/8c/doc.go                                  |   16 -
 src/cmd/8c/gc.h                                    |  364 --
 src/cmd/8c/list.c                                  |   38 -
 src/cmd/8c/machcap.c                               |  116 -
 src/cmd/8c/mul.c                                   |  458 ---
 src/cmd/8c/peep.c                                  |  807 -----
 src/cmd/8c/reg.c                                   | 1438 --------
 src/cmd/8c/sgen.c                                  |  483 ---
 src/cmd/8c/swt.c                                   |  341 --
 src/cmd/8c/txt.c                                   | 1537 --------
 src/cmd/8g/gobj.c                                  |    2 +-
 src/cmd/8g/opt.h                                   |   46 +-
 src/cmd/8g/reg.c                                   |  141 +-
 src/cmd/8l/8.out.h                                 |    2 +
 src/cmd/{cc => 9a}/Makefile                        |    6 +-
 src/cmd/9a/a.h                                     |  170 +
 src/cmd/9a/a.y                                     |  991 +++++
 src/cmd/9a/doc.go                                  |   21 +
 src/cmd/9a/lex.c                                   |  726 ++++
 src/cmd/9a/y.tab.c                                 | 3398 +++++++++++++++++
 src/cmd/9a/y.tab.h                                 |  188 +
 src/cmd/9g/cgen.c                                  | 1763 +++++++++
 src/cmd/9g/doc.go                                  |   16 +
 src/cmd/9g/galign.c                                |   54 +
 src/cmd/9g/gg.h                                    |  117 +
 src/cmd/9g/ggen.c                                  | 1040 ++++++
 src/cmd/9g/gobj.c                                  |  240 ++
 src/cmd/9g/gsubr.c                                 | 1707 +++++++++
 src/cmd/9g/opt.h                                   |  244 ++
 src/cmd/9g/peep.c                                  |  984 +++++
 src/cmd/9g/prog.c                                  |  307 ++
 src/cmd/9g/reg.c                                   | 1346 +++++++
 src/cmd/9l/9.out.h                                 |  516 +++
 src/cmd/{5c => 9l}/Makefile                        |    0
 src/cmd/9l/asm.c                                   |  342 ++
 src/cmd/{cc => 9l}/doc.go                          |    7 +-
 src/cmd/9l/l.h                                     |  100 +
 src/cmd/{5c => 9l}/list.c                          |   11 +-
 src/cmd/9l/obj.c                                   |  108 +
 src/cmd/cc/acid.c                                  |  344 --
 src/cmd/cc/bits.c                                  |  120 -
 src/cmd/cc/cc.h                                    |  835 -----
 src/cmd/cc/cc.y                                    | 1220 -------
 src/cmd/cc/com.c                                   | 1384 -------
 src/cmd/cc/com64.c                                 |  644 ----
 src/cmd/cc/dcl.c                                   | 1707 ---------
 src/cmd/cc/dpchk.c                                 |  793 ----
 src/cmd/cc/funct.c                                 |  431 ---
 src/cmd/cc/godefs.c                                |  367 --
 src/cmd/cc/lex.c                                   | 1593 --------
 src/cmd/cc/lexbody                                 |   25 +
 src/cmd/cc/mac.c                                   |   34 -
 src/cmd/cc/omachcap.c                              |   40 -
 src/cmd/cc/pgen.c                                  |  622 ----
 src/cmd/cc/pswt.c                                  |  140 -
 src/cmd/cc/scon.c                                  |  640 ----
 src/cmd/cc/sub.c                                   | 2068 -----------
 src/cmd/cc/y.tab.c                                 | 3822 --------------------
 src/cmd/cc/y.tab.h                                 |  230 --
 src/cmd/cgo/main.go                                |   21 +-
 src/cmd/cgo/out.go                                 |  154 +-
 src/cmd/dist/build.c                               |  190 +-
 src/cmd/dist/buildgc.c                             |   89 +-
 src/cmd/dist/buildruntime.c                        |  359 --
 src/cmd/dist/unix.c                                |    4 +
 src/cmd/gc/bits.c                                  |   34 +-
 src/cmd/gc/export.c                                |   41 +
 src/cmd/gc/go.h                                    |   19 +-
 src/cmd/gc/lex.c                                   |  200 +
 src/cmd/gc/obj.c                                   |   12 +
 src/cmd/gc/pgen.c                                  |    4 +-
 src/cmd/gc/plive.c                                 |   19 +-
 src/cmd/gc/reflect.c                               |   14 +-
 src/cmd/gc/subr.c                                  |   46 +-
 src/cmd/gc/walk.c                                  |    8 +-
 src/cmd/go/build.go                                |   54 +-
 src/cmd/ld/data.c                                  |    4 +-
 src/cmd/ld/doc.go                                  |    6 +-
 src/cmd/ld/dwarf.c                                 |    4 +-
 src/cmd/ld/elf.c                                   |   29 +-
 src/cmd/ld/ldelf.c                                 |    6 +
 src/cmd/ld/lib.c                                   |   60 +-
 src/cmd/ld/macho.c                                 |    1 +
 src/cmd/ld/symtab.c                                |    1 +
 src/cmd/objdump/objdump_test.go                    |    8 +
 src/debug/elf/elf.go                               |  178 +
 src/debug/elf/file.go                              |   50 +-
 src/debug/elf/file_test.go                         |    6 +
 .../testdata/go-relocation-test-gcc482-ppc64le.obj |  Bin 0 -> 3016 bytes
 src/go/build/build.go                              |    2 +
 src/go/build/syslist.go                            |    2 +-
 src/hash/crc32/crc32_generic.go                    |    2 +-
 src/liblink/asm6.c                                 |    5 +-
 src/liblink/asm9.c                                 | 2783 ++++++++++++++
 src/liblink/list6.c                                |   38 +
 src/liblink/list9.c                                |  451 +++
 src/liblink/obj9.c                                 | 1083 ++++++
 src/liblink/objfile.c                              |   42 +-
 src/liblink/pass.c                                 |    4 +-
 src/liblink/sched9.c                               |  835 +++++
 src/math/abs_power64x.s                            |   14 +
 src/math/big/arith_power64x.s                      |   46 +
 src/math/stubs_power64x.s                          |   91 +
 src/os/signal/sig.s                                |    8 +-
 src/reflect/all_test.go                            |    5 +
 src/reflect/asm_power64x.s                         |   32 +
 src/reflect/type.go                                |   13 +-
 src/run.bash                                       |    4 +-
 src/run.bat                                        |    8 +-
 src/runtime/alg.go                                 |    3 -
 src/runtime/arch1_386.go                           |   15 +
 src/runtime/arch1_amd64.go                         |   15 +
 src/runtime/arch1_amd64p32.go                      |   15 +
 src/runtime/arch1_arm.go                           |   15 +
 src/runtime/arch1_power64.go                       |   15 +
 src/runtime/arch1_power64le.go                     |   15 +
 src/runtime/arch_386.h                             |   17 -
 src/runtime/arch_amd64.h                           |   25 -
 src/runtime/arch_amd64p32.h                        |   17 -
 src/runtime/arch_arm.h                             |   17 -
 src/runtime/arch_power64.go                        |    8 +
 src/runtime/arch_power64le.go                      |    8 +
 src/runtime/asm.s                                  |    5 +
 src/runtime/asm_386.s                              |  129 +-
 src/runtime/asm_amd64.s                            |  147 +-
 src/runtime/asm_amd64p32.s                         |  118 +-
 src/runtime/asm_arm.s                              |   84 +-
 src/runtime/asm_power64x.s                         |  979 +++++
 src/runtime/atomic_386.c                           |   46 -
 src/runtime/atomic_386.go                          |   91 +
 src/runtime/atomic_amd64x.c                        |   29 -
 src/runtime/atomic_amd64x.go                       |   82 +
 src/runtime/atomic_arm.go                          |   10 +-
 src/runtime/{atomic.go => atomic_power64x.go}      |   30 +-
 src/runtime/atomic_power64x.s                      |   40 +
 src/runtime/cgo.go                                 |   23 +
 src/runtime/cgo/callbacks.c                        |   83 -
 src/runtime/cgo/callbacks.go                       |   95 +
 src/runtime/cgo/{dragonfly.c => dragonfly.go}      |   14 +-
 src/runtime/cgo/{freebsd.c => freebsd.go}          |   17 +-
 src/runtime/cgo/{iscgo.c => iscgo.go}              |   11 +-
 src/runtime/cgo/{netbsd.c => netbsd.go}            |   14 +-
 src/runtime/cgo/{openbsd.c => openbsd.go}          |   24 +-
 src/runtime/cgo/setenv.c                           |   13 -
 src/runtime/cgo/setenv.go                          |   21 +
 src/runtime/cgocall.go                             |   20 +-
 src/runtime/chan.go                                |    2 +-
 src/runtime/chan.h                                 |   68 -
 src/runtime/chan1.go                               |   61 +
 src/runtime/complex.go                             |   39 +-
 src/runtime/cpuprof.go                             |    8 +-
 src/runtime/cputicks.go                            |   11 +
 src/runtime/debug.go                               |   18 +-
 src/runtime/debug/stubs.s                          |    6 +
 src/runtime/defs.c                                 |   15 -
 src/runtime/defs1_linux.go                         |    6 +-
 src/runtime/defs1_netbsd_386.go                    |  183 +
 src/runtime/defs1_netbsd_amd64.go                  |  195 +
 src/runtime/defs1_netbsd_arm.go                    |  170 +
 src/runtime/defs1_solaris_amd64.go                 |  245 ++
 src/runtime/defs3_linux.go                         |   43 +
 src/runtime/defs_android_arm.h                     |    3 -
 src/runtime/defs_darwin_386.go                     |  382 ++
 src/runtime/defs_darwin_386.h                      |  392 --
 src/runtime/defs_darwin_amd64.go                   |  385 ++
 src/runtime/defs_darwin_amd64.h                    |  395 --
 src/runtime/defs_dragonfly_386.go                  |  198 +
 src/runtime/defs_dragonfly_386.h                   |  198 -
 src/runtime/defs_dragonfly_amd64.go                |  208 ++
 src/runtime/defs_dragonfly_amd64.h                 |  208 --
 src/runtime/defs_freebsd_386.go                    |  213 ++
 src/runtime/defs_freebsd_386.h                     |  213 --
 src/runtime/defs_freebsd_amd64.go                  |  224 ++
 src/runtime/defs_freebsd_amd64.h                   |  224 --
 src/runtime/defs_freebsd_arm.go                    |  186 +
 src/runtime/defs_freebsd_arm.h                     |  186 -
 src/runtime/defs_linux.go                          |   11 +-
 src/runtime/defs_linux_386.go                      |  218 ++
 src/runtime/defs_linux_386.h                       |  211 --
 src/runtime/defs_linux_amd64.go                    |  253 ++
 src/runtime/defs_linux_amd64.h                     |  254 --
 src/runtime/defs_linux_arm.go                      |  168 +
 src/runtime/defs_linux_arm.h                       |  168 -
 src/runtime/defs_linux_power64.go                  |  198 +
 src/runtime/defs_linux_power64le.go                |  198 +
 src/runtime/defs_nacl_386.go                       |   42 +
 src/runtime/defs_nacl_386.h                        |   63 -
 src/runtime/defs_nacl_amd64p32.go                  |   63 +
 src/runtime/defs_nacl_amd64p32.h                   |   90 -
 src/runtime/defs_nacl_arm.go                       |   49 +
 src/runtime/defs_nacl_arm.h                        |   70 -
 src/runtime/defs_netbsd_386.h                      |  182 -
 src/runtime/defs_netbsd_amd64.h                    |  194 -
 src/runtime/defs_netbsd_arm.h                      |  184 -
 src/runtime/defs_openbsd_386.go                    |  170 +
 src/runtime/defs_openbsd_386.h                     |  168 -
 src/runtime/defs_openbsd_amd64.go                  |  181 +
 src/runtime/defs_openbsd_amd64.h                   |  179 -
 src/runtime/defs_plan9_386.go                      |   25 +
 src/runtime/defs_plan9_386.h                       |   26 -
 src/runtime/defs_plan9_amd64.go                    |   34 +
 src/runtime/defs_plan9_amd64.h                     |   34 -
 src/runtime/defs_solaris_amd64.h                   |  254 --
 src/runtime/defs_windows_386.go                    |  109 +
 src/runtime/defs_windows_386.h                     |  116 -
 src/runtime/defs_windows_amd64.go                  |  124 +
 src/runtime/defs_windows_amd64.h                   |  131 -
 src/runtime/env_plan9.go                           |    3 +
 src/runtime/env_posix.go                           |   10 +-
 src/runtime/export_test.go                         |   80 +-
 src/runtime/extern.go                              |    3 +-
 src/runtime/float.c                                |   10 -
 src/runtime/funcdata.h                             |   10 +-
 src/runtime/futex_test.go                          |    4 +-
 src/runtime/gcinfo_test.go                         |   11 +-
 src/runtime/gengoos.go                             |   84 +
 src/runtime/go_tls.h                               |   22 +
 src/runtime/heapdump.c                             |  864 -----
 src/runtime/heapdump.go                            |  729 ++++
 src/runtime/lfstack.c                              |   87 -
 src/runtime/lfstack.go                             |   44 +
 src/runtime/lfstack_32bit.go                       |   21 +
 src/runtime/lfstack_amd64.go                       |   24 +
 src/runtime/lfstack_linux_power64x.go              |   32 +
 src/runtime/lock_futex.go                          |    7 +-
 src/runtime/lock_sema.go                           |    8 +-
 src/runtime/malloc.c                               |  396 --
 src/runtime/malloc.go                              |  101 +-
 src/runtime/malloc.h                               |  621 ----
 src/runtime/malloc1.go                             |  318 ++
 src/runtime/malloc2.go                             |  475 +++
 src/runtime/mcache.c                               |  115 -
 src/runtime/mcache.go                              |   86 +
 src/runtime/mcentral.c                             |  214 --
 src/runtime/mcentral.go                            |  199 +
 src/runtime/mem.go                                 |   24 +-
 src/runtime/mem_bsd.go                             |   88 +
 src/runtime/mem_darwin.c                           |   82 -
 src/runtime/mem_darwin.go                          |   58 +
 src/runtime/mem_dragonfly.c                        |  105 -
 src/runtime/mem_freebsd.c                          |  100 -
 src/runtime/mem_linux.c                            |  162 -
 src/runtime/mem_linux.go                           |  135 +
 src/runtime/mem_nacl.c                             |  120 -
 src/runtime/mem_netbsd.c                           |  100 -
 src/runtime/mem_openbsd.c                          |  100 -
 src/runtime/mem_plan9.c                            |  121 -
 src/runtime/mem_plan9.go                           |   70 +
 src/runtime/mem_solaris.c                          |  101 -
 src/runtime/mem_windows.c                          |  132 -
 src/runtime/mem_windows.go                         |  119 +
 src/runtime/memclr_386.s                           |   46 +-
 src/runtime/memclr_amd64.s                         |   44 +-
 src/runtime/memclr_plan9_386.s                     |   24 +-
 src/runtime/memclr_power64x.s                      |   20 +
 src/runtime/memmove_power64x.s                     |   40 +
 src/runtime/mfixalloc.c                            |   64 -
 src/runtime/mfixalloc.go                           |   59 +
 src/runtime/mgc.go                                 | 1798 +++++++++
 src/runtime/mgc0.c                                 | 2010 ----------
 src/runtime/mgc0.go                                |    6 +-
 src/runtime/mgc0.h                                 |   74 +-
 src/runtime/mgc1.go                                |   77 +
 src/runtime/mheap.c                                |  889 -----
 src/runtime/mheap.go                               |  785 ++++
 src/runtime/mprof.go                               |   33 +-
 src/runtime/msize.c                                |  184 -
 src/runtime/msize.go                               |  174 +
 src/runtime/netpoll.go                             |   53 +-
 .../{netpoll_solaris.c => netpoll_solaris.go}      |  259 +-
 src/runtime/{netpoll_stub.c => netpoll_stub.go}    |    9 +-
 src/runtime/netpoll_windows.c                      |  163 -
 src/runtime/netpoll_windows.go                     |  156 +
 src/runtime/{noasm_arm.go => noasm.go}             |    2 +
 src/runtime/norace_test.go                         |    4 +-
 src/runtime/os1_darwin.go                          |  423 +++
 src/runtime/os1_dragonfly.go                       |  220 ++
 src/runtime/os1_freebsd.go                         |  221 ++
 src/runtime/os1_linux.go                           |  287 ++
 src/runtime/os1_nacl.go                            |  197 +
 src/runtime/os1_netbsd.go                          |  265 ++
 src/runtime/os1_netbsd_386.go                      |   16 +
 src/runtime/os1_netbsd_amd64.go                    |   16 +
 src/runtime/os1_openbsd.go                         |  235 ++
 src/runtime/os1_plan9.go                           |  270 ++
 src/runtime/os1_windows.go                         |  564 +++
 src/runtime/os1_windows_386.go                     |  118 +
 src/runtime/os1_windows_amd64.go                   |  137 +
 src/runtime/os2_darwin.go                          |   14 +
 src/runtime/os2_dragonfly.go                       |   12 +
 src/runtime/os2_freebsd.go                         |   12 +
 src/runtime/os2_linux.go                           |   23 +
 src/runtime/os2_nacl.go                            |  154 +
 src/runtime/os2_netbsd.go                          |   18 +
 src/runtime/os2_openbsd.go                         |   14 +
 src/runtime/os2_plan9.go                           |   72 +
 src/runtime/os2_solaris.go                         |   13 +
 src/runtime/os2_windows.go                         |   25 +
 src/runtime/os3_solaris.go                         |  493 +++
 src/runtime/os_android.h                           |    1 -
 src/runtime/{os_android.c => os_android_arm.go}    |   11 +-
 src/runtime/os_darwin.c                            |  567 ---
 src/runtime/os_darwin.go                           |   30 +-
 src/runtime/os_darwin.h                            |   43 -
 src/runtime/os_dragonfly.c                         |  312 --
 src/runtime/os_dragonfly.go                        |   34 +-
 src/runtime/os_dragonfly.h                         |   30 -
 src/runtime/os_freebsd.c                           |  320 --
 src/runtime/os_freebsd.go                          |   29 +-
 src/runtime/os_freebsd.h                           |   29 -
 .../{os_freebsd_arm.c => os_freebsd_arm.go}        |   17 +-
 src/runtime/os_linux.c                             |  342 --
 src/runtime/os_linux.go                            |   26 +-
 src/runtime/os_linux.h                             |   41 -
 src/runtime/os_linux_386.c                         |   38 -
 src/runtime/os_linux_386.go                        |   37 +
 src/runtime/os_linux_arm.c                         |   80 -
 src/runtime/os_linux_arm.go                        |   78 +
 src/runtime/os_nacl.c                              |  312 --
 src/runtime/os_nacl.go                             |   21 +-
 src/runtime/os_nacl.h                              |  162 -
 src/runtime/{os_nacl_arm.c => os_nacl_arm.go}      |   19 +-
 src/runtime/os_netbsd.c                            |  368 --
 src/runtime/os_netbsd.go                           |   32 +-
 src/runtime/os_netbsd.h                            |   31 -
 src/runtime/os_netbsd_386.c                        |   17 -
 src/runtime/os_netbsd_amd64.c                      |   18 -
 src/runtime/os_openbsd.c                           |  309 --
 src/runtime/os_openbsd.go                          |   30 +-
 src/runtime/os_openbsd.h                           |   26 -
 src/runtime/os_plan9.c                             |  362 --
 src/runtime/os_plan9.go                            |   27 +
 src/runtime/os_plan9.h                             |   93 -
 src/runtime/os_plan9_386.c                         |  150 -
 src/runtime/os_plan9_386.go                        |  131 +
 src/runtime/os_plan9_amd64.c                       |  158 -
 src/runtime/os_plan9_amd64.go                      |  139 +
 src/runtime/os_solaris.c                           |  557 ---
 src/runtime/os_solaris.go                          |   52 +-
 src/runtime/os_solaris.h                           |   55 -
 src/runtime/os_windows.c                           |  636 ----
 src/runtime/os_windows.go                          |   20 -
 src/runtime/os_windows.h                           |   42 -
 src/runtime/os_windows_386.c                       |  128 -
 src/runtime/os_windows_amd64.c                     |  150 -
 src/runtime/panic.c                                |  200 -
 src/runtime/panic.go                               |   56 +-
 src/runtime/panic1.go                              |  161 +
 src/runtime/parfor.c                               |  226 --
 src/runtime/parfor.go                              |  186 +
 src/runtime/pprof/pprof_test.go                    |    2 +-
 src/runtime/proc.c                                 | 3521 ------------------
 src/runtime/proc.go                                |   44 +-
 src/runtime/proc1.go                               | 3193 ++++++++++++++++
 src/runtime/race.c                                 |  347 --
 src/runtime/race.go                                |   42 +-
 src/runtime/race.h                                 |   34 -
 src/runtime/race0.go                               |    2 +-
 src/runtime/race1.go                               |  335 ++
 src/runtime/race_amd64.s                           |   21 +-
 src/runtime/rdebug.go                              |   18 -
 src/runtime/rt0_linux_power64.s                    |   17 +
 src/runtime/rt0_linux_power64le.s                  |   14 +
 src/runtime/rt0_windows_amd64.s                    |    3 +-
 src/runtime/runtime.c                              |  399 --
 src/runtime/runtime.h                              | 1132 ------
 src/runtime/runtime1.go                            |  417 +++
 src/runtime/runtime2.go                            |  606 ++++
 src/runtime/runtime2_windows.go                    |    8 +
 src/runtime/select.go                              |    6 +-
 src/runtime/signal.c                               |   25 -
 src/runtime/signal1_unix.go                        |  111 +
 src/runtime/signal_386.c                           |  122 -
 src/runtime/signal_386.go                          |  131 +
 src/runtime/signal_amd64x.c                        |  156 -
 src/runtime/signal_amd64x.go                       |  163 +
 src/runtime/signal_android_386.h                   |    1 -
 src/runtime/signal_android_arm.h                   |    1 -
 src/runtime/signal_arm.c                           |  121 -
 src/runtime/signal_arm.go                          |  126 +
 src/runtime/signal_darwin.go                       |   45 +
 src/runtime/signal_darwin_386.go                   |   34 +
 src/runtime/signal_darwin_386.h                    |   23 -
 src/runtime/signal_darwin_amd64.go                 |   42 +
 src/runtime/signal_darwin_amd64.h                  |   31 -
 src/runtime/signal_dragonfly.go                    |   46 +
 src/runtime/signal_dragonfly_386.go                |   34 +
 src/runtime/signal_dragonfly_386.h                 |   23 -
 src/runtime/signal_dragonfly_amd64.go              |   44 +
 src/runtime/signal_dragonfly_amd64.h               |   31 -
 src/runtime/signal_freebsd.go                      |   46 +
 src/runtime/signal_freebsd_386.go                  |   34 +
 src/runtime/signal_freebsd_386.h                   |   23 -
 src/runtime/signal_freebsd_amd64.go                |   44 +
 src/runtime/signal_freebsd_amd64.h                 |   31 -
 src/runtime/signal_freebsd_arm.go                  |   48 +
 src/runtime/signal_freebsd_arm.h                   |   28 -
 src/runtime/signal_linux.go                        |   78 +
 src/runtime/signal_linux_386.go                    |   36 +
 src/runtime/signal_linux_386.h                     |   24 -
 src/runtime/signal_linux_amd64.go                  |   46 +
 src/runtime/signal_linux_amd64.h                   |   32 -
 src/runtime/signal_linux_arm.go                    |   48 +
 src/runtime/signal_linux_arm.h                     |   28 -
 src/runtime/signal_linux_power64x.go               |   71 +
 src/runtime/signal_nacl.go                         |   45 +
 src/runtime/signal_nacl_386.go                     |   34 +
 src/runtime/signal_nacl_386.h                      |   23 -
 src/runtime/signal_nacl_amd64p32.go                |   44 +
 src/runtime/signal_nacl_amd64p32.h                 |   31 -
 src/runtime/signal_nacl_arm.go                     |   47 +
 src/runtime/signal_nacl_arm.h                      |   28 -
 src/runtime/signal_netbsd.go                       |   46 +
 src/runtime/signal_netbsd_386.go                   |   38 +
 src/runtime/signal_netbsd_386.h                    |   23 -
 src/runtime/signal_netbsd_amd64.go                 |   48 +
 src/runtime/signal_netbsd_amd64.h                  |   31 -
 src/runtime/signal_openbsd.go                      |   46 +
 src/runtime/signal_openbsd_386.go                  |   41 +
 src/runtime/signal_openbsd_386.h                   |   23 -
 src/runtime/signal_openbsd_amd64.go                |   49 +
 src/runtime/signal_openbsd_amd64.h                 |   31 -
 src/runtime/{signals_plan9.h => signal_plan9.go}   |   57 +-
 src/runtime/signal_power64x.go                     |  144 +
 src/runtime/signal_solaris.go                      |   88 +
 src/runtime/signal_solaris_amd64.go                |   46 +
 src/runtime/signal_solaris_amd64.h                 |   31 -
 src/runtime/signal_unix.c                          |  119 -
 src/runtime/signal_unix.go                         |    4 +-
 src/runtime/signals_android.h                      |    1 -
 src/runtime/signals_darwin.h                       |   53 -
 src/runtime/signals_dragonfly.h                    |   54 -
 src/runtime/signals_freebsd.h                      |   54 -
 src/runtime/signals_linux.h                        |   86 -
 src/runtime/signals_nacl.h                         |   53 -
 src/runtime/signals_netbsd.h                       |   54 -
 src/runtime/signals_openbsd.h                      |   54 -
 src/runtime/signals_solaris.h                      |   97 -
 src/runtime/sigpanic_unix.go                       |    9 +-
 src/runtime/sigqueue.go                            |   21 +-
 src/runtime/slice.go                               |    8 +-
 src/runtime/softfloat64.go                         |   22 +-
 src/runtime/softfloat64_test.go                    |    2 +-
 src/runtime/softfloat_arm.c                        |  687 ----
 src/runtime/softfloat_arm.go                       |  645 ++++
 src/runtime/sqrt.go                                |    9 +-
 src/runtime/stack.c                                |  892 -----
 src/runtime/stack.go                               |   13 -
 src/runtime/stack.h                                |   97 +-
 src/runtime/stack1.go                              |  801 ++++
 src/runtime/stack2.go                              |  106 +
 src/runtime/string.c                               |  226 --
 src/runtime/string.go                              |   18 +-
 src/runtime/string1.go                             |  108 +
 src/runtime/stubs.go                               |  155 +-
 src/runtime/stubs2.go                              |   30 +
 src/runtime/stubs3.go                              |   12 +
 src/runtime/symtab.go                              |   22 +-
 src/runtime/sys_arm.c                              |   35 -
 src/runtime/sys_arm.go                             |   35 +
 src/runtime/sys_darwin_386.s                       |    7 +-
 src/runtime/sys_darwin_amd64.s                     |    7 +-
 src/runtime/sys_dragonfly_386.s                    |    7 +-
 src/runtime/sys_dragonfly_amd64.s                  |    3 +-
 src/runtime/sys_freebsd_386.s                      |    7 +-
 src/runtime/sys_freebsd_amd64.s                    |    3 +-
 src/runtime/sys_freebsd_arm.s                      |    5 +-
 src/runtime/sys_linux_386.s                        |    3 +-
 src/runtime/sys_linux_amd64.s                      |   11 +-
 src/runtime/sys_linux_arm.s                        |   13 +-
 src/runtime/sys_linux_power64x.s                   |  384 ++
 src/runtime/sys_nacl_386.s                         |    7 +-
 src/runtime/sys_nacl_amd64p32.s                    |    4 +-
 src/runtime/sys_nacl_arm.s                         |    6 +-
 src/runtime/sys_netbsd_386.s                       |    3 +-
 src/runtime/sys_netbsd_amd64.s                     |    3 +-
 src/runtime/sys_netbsd_arm.s                       |    5 +-
 src/runtime/sys_openbsd_386.s                      |    7 +-
 src/runtime/sys_openbsd_amd64.s                    |    3 +-
 src/runtime/sys_plan9_386.s                        |    3 +-
 src/runtime/sys_plan9_amd64.s                      |    3 +-
 src/runtime/sys_power64x.go                        |   37 +
 src/runtime/sys_solaris_amd64.s                    |   27 +-
 src/runtime/sys_windows_386.s                      |   31 +-
 src/runtime/sys_windows_amd64.s                    |   29 +-
 src/runtime/{sys_x86.c => sys_x86.go}              |   57 +-
 src/runtime/syscall2_solaris.go                    |   47 +
 src/runtime/syscall_solaris.c                      |   23 -
 src/runtime/syscall_solaris.go                     |   79 +-
 src/runtime/syscall_windows.go                     |   18 +-
 src/runtime/thunk.s                                |   22 +-
 src/runtime/thunk_solaris_amd64.s                  |   88 -
 src/runtime/thunk_windows.s                        |    3 +-
 src/runtime/tls_arm.s                              |    3 +-
 src/runtime/traceback.go                           |   28 +-
 src/runtime/type.go                                |   99 +
 src/runtime/type.h                                 |  113 -
 src/runtime/typekind.h                             |   12 +-
 src/runtime/typekind1.go                           |   39 +
 src/runtime/vdso_linux_amd64.c                     |  371 --
 src/runtime/vdso_linux_amd64.go                    |  328 ++
 src/runtime/vdso_none.go                           |   10 +
 src/runtime/vlop_arm.s                             |    5 +-
 src/runtime/vlrt.c                                 |  914 -----
 src/runtime/zgoarch_386.go                         |   12 +
 src/runtime/zgoarch_amd64.go                       |   12 +
 src/runtime/zgoarch_amd64p32.go                    |   12 +
 src/runtime/zgoarch_arm.go                         |   12 +
 src/runtime/zgoarch_power64.go                     |   12 +
 src/runtime/zgoarch_power64le.go                   |   12 +
 src/runtime/zgoos_android.go                       |   17 +
 src/runtime/zgoos_darwin.go                        |   17 +
 src/runtime/zgoos_dragonfly.go                     |   17 +
 src/runtime/zgoos_freebsd.go                       |   17 +
 src/runtime/zgoos_linux.go                         |   19 +
 src/runtime/zgoos_nacl.go                          |   17 +
 src/runtime/zgoos_netbsd.go                        |   17 +
 src/runtime/zgoos_openbsd.go                       |   17 +
 src/runtime/zgoos_plan9.go                         |   17 +
 src/runtime/zgoos_solaris.go                       |   17 +
 src/runtime/zgoos_windows.go                       |   17 +
 src/sync/atomic/asm_power64x.s                     |  184 +
 src/syscall/asm.s                                  |    7 +
 src/syscall/asm_linux_power64x.s                   |  104 +
 src/syscall/mkall.sh                               |   17 +-
 src/syscall/mkerrors.sh                            |    1 +
 src/syscall/syscall_linux_power64x.go              |   97 +
 src/syscall/types_linux.go                         |  110 +-
 src/syscall/zerrors_linux_power64.go               | 1878 ++++++++++
 src/syscall/zerrors_linux_power64le.go             | 1902 ++++++++++
 src/syscall/zsyscall_linux_power64.go              | 1931 ++++++++++
 src/syscall/zsyscall_linux_power64le.go            | 1931 ++++++++++
 src/syscall/zsysnum_linux_power64.go               |  351 ++
 src/syscall/zsysnum_linux_power64le.go             |  351 ++
 src/syscall/ztypes_linux_power64.go                |  602 +++
 src/syscall/ztypes_linux_power64le.go              |  602 +++
 test/clearfat.go                                   |   68 +
 test/live.go                                       |    2 +-
 test/nilptr3.go                                    |    2 +
 test/nosplit.go                                    |   21 +-
 590 files changed, 60113 insertions(+), 74993 deletions(-)
