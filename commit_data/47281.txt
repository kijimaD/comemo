commit 6ee1506769b24d99e27f9a6a9c99e9b7143112bf
Author: Jay Conrod <jayconrod@google.com>
Date:   Wed Feb 17 17:31:22 2021 -0500

    [dev.fuzz] internal/fuzz: fix deadlock with multiple workers
    
    CoordinateFuzzing now continues to run after discovering a crasher. It
    waits until all workers have terminated before returning.
    
    This fixes a deadlock that occurred when multiple workers discovered
    crashers concurrently. CoordinateFuzzing would receive one crasher,
    close doneC (telling workers to stop), then wait for workers to stop
    without receiving more crashers. Other workers would block sending
    crashers.
    
    Change-Id: I55a64aac0e6e43f5e36b9d03c15051c3d5debb20
    Reviewed-on: https://go-review.googlesource.com/c/go/+/293369
    Trust: Jay Conrod <jayconrod@google.com>
    Trust: Katie Hockman <katie@golang.org>
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    Reviewed-by: Katie Hockman <katie@golang.org>

 src/cmd/go/testdata/script/test_fuzz.txt           |  8 +--
 src/cmd/go/testdata/script/test_fuzz_cache.txt     |  2 +-
 src/cmd/go/testdata/script/test_fuzz_fuzztime.txt  |  2 +-
 src/cmd/go/testdata/script/test_fuzz_match.txt     |  6 +-
 .../go/testdata/script/test_fuzz_mutate_crash.txt  | 30 ++++-----
 src/internal/fuzz/fuzz.go                          | 74 ++++++++++------------
 src/internal/fuzz/sys_posix.go                     |  2 +-
 src/internal/fuzz/worker.go                        |  3 +-
 8 files changed, 60 insertions(+), 67 deletions(-)
