commit 7994da4cc143fa16803bf80188b849457b7d55c3
Author: Paul E. Murphy <murp@ibm.com>
Date:   Fri Apr 26 09:26:52 2024 -0500

    cmd/compile/internal/ssa: on PPC64, try combining CLRLSLDI and SRDconst into RLWINM
    
    This provides a small performance bump to crc64 as measured on ppc64le/power10:
    
    name              old time/op    new time/op    delta
    Crc64/ISO64KB       49.6µs ± 0%    46.6µs ± 0%  -6.18%
    Crc64/ISO4KB        3.16µs ± 0%    2.97µs ± 0%  -5.83%
    Crc64/ISO1KB         840ns ± 0%     794ns ± 0%  -5.46%
    Crc64/ECMA64KB      49.6µs ± 0%    46.5µs ± 0%  -6.20%
    Crc64/Random64KB    53.1µs ± 0%    49.9µs ± 0%  -6.04%
    Crc64/Random16KB    15.9µs ± 1%    15.0µs ± 0%  -5.73%
    
    Change-Id: I302b5431c7dc46dfd2d211545c483bdcdfe011f1
    Cq-Include-Trybots: luci.golang.try:gotip-linux-ppc64_power10,gotip-linux-ppc64_power8,gotip-linux-ppc64le_power8,gotip-linux-ppc64le_power9,gotip-linux-ppc64le_power10
    Reviewed-on: https://go-review.googlesource.com/c/go/+/581937
    Reviewed-by: Lynn Boger <laboger@linux.vnet.ibm.com>
    Reviewed-by: Eli Bendersky <eliben@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/ssa/_gen/PPC64.rules |  1 +
 src/cmd/compile/internal/ssa/rewrite.go       | 27 ++++++++++++++++++++++++++-
 src/cmd/compile/internal/ssa/rewritePPC64.go  | 18 ++++++++++++++++++
 test/codegen/shift.go                         | 21 +++++++++++++++++++++
 4 files changed, 66 insertions(+), 1 deletion(-)
