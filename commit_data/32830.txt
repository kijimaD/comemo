commit 9f7fd893dc455339233a8e081f5fb5e2c51e7b5d
Author: Ian Lance Taylor <iant@golang.org>
Date:   Sat Sep 23 22:00:53 2017 -0700

    os: don't refer directly to Sysfd in epipecheck
    
    Instead record in the File whether it is stdout/stderr. This avoids a
    race between a call to epipecheck and closing the file.
    
    Fixes #21994
    
    Change-Id: Ic3d552ffa83402136276bcb5029ec3e6691042c2
    Reviewed-on: https://go-review.googlesource.com/65750
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Daniel Mart√≠ <mvdan@mvdan.cc>
    Reviewed-by: David Crawshaw <crawshaw@golang.org>

 src/os/file_unix.go | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)
