commit 6da8bdd2cc7a10f037a2025ffed57627d97a990c
Author: Lynn Boger <laboger@linux.vnet.ibm.com>
Date:   Wed Oct 12 07:50:30 2016 -0500

    cmd/asm: recognize CR1-CR7 on ppc64x branch instructions
    
    Some of the branch instructions (BEQ, BNE, BLT, etc.) accept
    all the valid CR values as operands, but the CR register value is
    not parsed and not put into the instruction, so that CR0 is always
    used regardless of what was specified on the instruction.  For example
    BEQ CR2,label becomes beq cr0,label.
    
    This adds the change to the PPC64 assembler to recognize the CR value
    and set the approppriate field in the instruction so the correct
    CR is used.  This also adds some general comments on the branch
    instruction BC and its operand values.
    
    Fixes #17408
    
    Change-Id: I8e956372a42846a4c09a7259e9172eaa29118e71
    Reviewed-on: https://go-review.googlesource.com/30930
    Run-TryBot: Lynn Boger <laboger@linux.vnet.ibm.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/internal/obj/ppc64/a.out.go | 37 +++++++++++++++++++++++++++++++++++++
 src/cmd/internal/obj/ppc64/asm9.go  | 31 +++++++++++++++++++++++++++----
 2 files changed, 64 insertions(+), 4 deletions(-)
