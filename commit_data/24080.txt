commit 38519e69d05e21909e12f6149beb3fbd3808b3f3
Author: Michael Hudson-Doyle <michael.hudson@canonical.com>
Date:   Fri Aug 21 14:54:55 2015 +1200

    cmd/compile, runtime: stop returning t.zero on hashmap miss
    
    Previously t.zero always pointed to runtime.zerovalue. Change the hashmap code
    to always return a runtime pointer directly, and change that pointer to point
    to a larger buffer if one is needed.
    
    (It might be better to only copy from the pointer returned by the mapaccess
    functions when the value type is small enough and have the compiler insert
    explicit zeroing for larger value types, but I tried and failed to do this).
    
    This removes all uses of the zero field of the type data; the field itself can
    be removed in a separate change.
    
    Fixes #11491
    
    Change-Id: I5b81752ff4067d74a5a281c41e88f151bae0171e
    Reviewed-on: https://go-review.googlesource.com/13784
    Reviewed-by: Keith Randall <khr@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/compile/internal/gc/go.go      |  2 -
 src/cmd/compile/internal/gc/obj.go     |  3 --
 src/cmd/compile/internal/gc/reflect.go |  9 +---
 src/cmd/compile/internal/gc/walk.go    |  9 ----
 src/reflect/type.go                    |  2 +-
 src/runtime/hashmap.go                 | 76 +++++++++++++---------------------
 src/runtime/hashmap_fast.go            | 32 +++++++-------
 src/runtime/type.go                    |  2 +-
 8 files changed, 47 insertions(+), 88 deletions(-)
