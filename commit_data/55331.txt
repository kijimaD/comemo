commit ee5ce77c62483933ae4d5dbdbcbadf6f82dd3f6c
Author: Keith Randall <khr@golang.org>
Date:   Thu Jan 26 17:25:44 2023 -0800

    cmd/asm: reject avx512 .Z instructions without a mask register
    
    Zeroing requires a non-K0 mask register be specified.
    (gcc enforces this when assembling.)
    
    The non-K0 restriction is already handled by the Yknot0 restriction.
    But if the mask register is missing altogether, we misassemble the
    instruction.
    
    Fixes #57952
    
    Not sure if this is really worth mentioning in the release notes,
    but just in case I'll mark it.
    RELNOTE=yes
    
    Change-Id: I8f05d3155503f1f16d1b5ab9d67686fe5b64dfea
    Reviewed-on: https://go-review.googlesource.com/c/go/+/463229
    Auto-Submit: Keith Randall <khr@golang.org>
    Reviewed-by: Keith Randall <khr@google.com>
    Run-TryBot: Keith Randall <khr@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Илья Токарь <tocarip@gmail.com>
    Reviewed-by: Iskander Sharipov <quasilyte@gmail.com>

 src/cmd/asm/internal/asm/testdata/amd64enc_extra.s |  2 +-
 src/cmd/asm/internal/asm/testdata/amd64error.s     |  4 ++++
 src/cmd/internal/obj/x86/asm6.go                   | 10 ++++++++++
 3 files changed, 15 insertions(+), 1 deletion(-)
