commit 53900cea1b0e603b36ed533e012f86e95d2144b5
Author: Klaus Post <klauspost@gmail.com>
Date:   Thu Mar 10 16:46:25 2016 +0100

    compress/flate: forward upstream Writer errors
    
    If the upstream writer has returned an error, it may not
    be returned by subsequent calls.
    
    This makes sure that if an error has been returned, the
    Writer will keep returning an error on all subsequent calls,
    and not silently "swallow" them.
    
    Change-Id: I2c9f614df72e1f4786705bf94e119b66c62abe5e
    Reviewed-on: https://go-review.googlesource.com/20515
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Joe Tsai <thebrokentoaster@gmail.com>

 src/compress/flate/deflate.go     | 14 +++++++-
 src/compress/flate/writer_test.go | 68 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 81 insertions(+), 1 deletion(-)
