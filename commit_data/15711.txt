commit e64f3f211ac03f270a2db476e01b34fd1d1c5301
Author: Russ Cox <rsc@golang.org>
Date:   Tue Mar 12 01:48:48 2013 -0400

    net: never use backlog > 65535
    
    The system call takes an int, but the kernel stores it in a uint16.
    At least one Linux system sets /proc/sys/net/core/somaxconn
    to 262144, which ends up being 0 in the uint16. Avoid being tricked.
    
    FreeBSD sources also store the backlog in a uint16.
    Assume the problem is systemic and fix it everywhere.
    
    Fixes #5030.
    
    R=golang-dev, bradfitz
    CC=golang-dev
    https://golang.org/cl/7480046

 src/pkg/net/sock_bsd.go     | 6 ++++++
 src/pkg/net/sock_linux.go   | 6 ++++++
 src/pkg/net/sock_windows.go | 1 +
 3 files changed, 13 insertions(+)
