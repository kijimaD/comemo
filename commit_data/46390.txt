commit a4f335f42033bc1ef9b948a9bff6f14aa6eb1aa8
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Sat Dec 26 17:51:16 2020 -0800

    [dev.regabi] cmd/compile: always use a Field for ODOTPTR expressions
    
    During walk, we create ODOTPTR expressions to access runtime struct
    fields. But rather than using an actual Field for the selection, we
    were just directly setting the ODOTPTR's Offset field.
    
    This CL changes walk to create proper struct fields (albeit without
    the rest of their enclosing struct type) and use them for creating the
    ODOTPTR expressions.
    
    Passes toolstash -cmp.
    
    Change-Id: I08dbac3ed29141587feb0905d15adbcbcc4ca49e
    Reviewed-on: https://go-review.googlesource.com/c/go/+/280432
    Trust: Matthew Dempsky <mdempsky@google.com>
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Cuong Manh Le <cuong.manhle.vn@gmail.com>

 src/cmd/compile/internal/walk/switch.go | 36 ++++++++++++++++++++++++---------
 src/cmd/compile/internal/walk/walk.go   | 31 ++++++++++++++++++++++------
 2 files changed, 52 insertions(+), 15 deletions(-)
