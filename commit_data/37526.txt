commit 9f5336d8d055e5768b5316bf6d32b1a5a705702e
Author: Russ Cox <rsc@golang.org>
Date:   Thu Aug 9 16:36:48 2018 -0400

    cmd/go: fix install target name for versioned binaries
    
    For a package in the module root, using the containing directory name
    might mean the directory in the module cache, in which case the
    executable has a final @v1.2.3 in it, which is no good. Fix that.
    
    While we're here, change go install example.com/cmd/foo/v2 to
    install foo instead of the less useful "v2".
    
    Fixes #24667.
    Fixes #26869.
    
    Change-Id: Ie40ca1bc9e27955441f1cdb7abd3a1f69034c9f5
    Reviewed-on: https://go-review.googlesource.com/128900
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/cmd/go/internal/load/pkg.go                    | 31 ++++++++++++++++++++++
 src/cmd/go/testdata/mod/rsc.io_fortune_v1.0.0.txt  | 15 +++++++++++
 .../go/testdata/mod/rsc.io_fortune_v2_v2.0.0.txt   | 15 +++++++++++
 src/cmd/go/testdata/script/mod_install.txt         | 16 -----------
 .../go/testdata/script/mod_install_versioned.txt   | 12 +++++++++
 5 files changed, 73 insertions(+), 16 deletions(-)
