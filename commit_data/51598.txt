commit 851ecea4cc99ab276109493477b2c7e30c253ea8
Author: hopehook <hopehook.com@gmail.com>
Date:   Sun Feb 13 22:03:56 2022 +0800

    encoding/xml: embedded reference to substruct causes XML marshaller to panic on encoding
    
    When encoding a xml attribute is zero value (IsValid == false), we need
    a `continue` to jump over the attribute. If not, followed marshalAttr
    function will panic.
    
    Fixes: #50164
    Change-Id: I42e064558e7becfbf47728b14cbf5c7afa1e8798
    Reviewed-on: https://go-review.googlesource.com/c/go/+/385514
    Reviewed-by: Daniel Martí <mvdan@mvdan.cc>
    Trust: Daniel Martí <mvdan@mvdan.cc>
    Run-TryBot: Daniel Martí <mvdan@mvdan.cc>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/encoding/xml/marshal.go      |  2 +-
 src/encoding/xml/marshal_test.go | 36 ++++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+), 1 deletion(-)
