commit 7ce257147fe0ab3413c8e36909c2408c833efdb8
Author: Michael Matloob <matloob@golang.org>
Date:   Tue Jun 8 17:07:10 2021 -0400

    [dev.cmdgo] cmd/go: add the workspace mode
    
    This change adds the outline of the implementation of the workspace mode.
    The go command will now locate go.work files, and read them to determine
    which modules are in the workspace. It will then put those modules in
    the root of the workspace when building the build list. It supports
    building, running, testing, and listing in workspaces. There are still
    many TODOs for undone work and other changes to fix certain cases. Some
    of these undone parts include: replaces and go.work.sum files, as well
    as go mod {test,why,verify}, excludes in workspaces, updating work files
    to include module names in comments and setting the GOWORK variable.
    
    For #45713
    
    Change-Id: I72716af7a300a2896087fc8a79c04e951d248278
    Reviewed-on: https://go-review.googlesource.com/c/go/+/334934
    Trust: Michael Matloob <matloob@golang.org>
    Run-TryBot: Michael Matloob <matloob@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go/alldocs.go                  |   8 ++
 src/cmd/go/internal/base/flag.go       |   7 ++
 src/cmd/go/internal/cfg/cfg.go         |   6 +-
 src/cmd/go/internal/envcmd/env.go      |   1 +
 src/cmd/go/internal/list/list.go       |   3 +
 src/cmd/go/internal/modcmd/download.go |   3 +
 src/cmd/go/internal/modcmd/graph.go    |   3 +
 src/cmd/go/internal/modcmd/verify.go   |   3 +
 src/cmd/go/internal/modcmd/why.go      |   2 +
 src/cmd/go/internal/modload/init.go    | 224 +++++++++++++++++++++++++--------
 src/cmd/go/internal/run/run.go         |   3 +
 src/cmd/go/internal/test/test.go       |   2 +
 src/cmd/go/internal/test/testflag.go   |   1 +
 src/cmd/go/internal/work/build.go      |  10 ++
 src/cmd/go/testdata/script/work.txt    |  71 +++++++++++
 15 files changed, 296 insertions(+), 51 deletions(-)
