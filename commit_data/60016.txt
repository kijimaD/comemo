commit 6cd066f8b22290a1737a19d25f5dd899f720180a
Author: qiulaidongfeng <2645477756@qq.com>
Date:   Thu May 9 22:11:00 2024 +0000

    cmd/go: add -changed to query for non-defaults in the env
    
    Fixes #34208
    
    Change-Id: I8ec2d96262dcd7cbf870f6173690143c54190722
    GitHub-Last-Rev: 6543df4784cff1ba5751dc9885ef502e69679118
    GitHub-Pull-Request: golang/go#65655
    Reviewed-on: https://go-review.googlesource.com/c/go/+/563137
    Reviewed-by: Alan Donovan <adonovan@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Michael Matloob <matloob@golang.org>

 doc/next/3-tools.md                        |   4 +
 src/cmd/go/alldocs.go                      |   6 +-
 src/cmd/go/go_test.go                      |   2 +-
 src/cmd/go/internal/bug/bug.go             |   2 +-
 src/cmd/go/internal/cache/default.go       |  24 +++--
 src/cmd/go/internal/cfg/cfg.go             | 122 +++++++++++++---------
 src/cmd/go/internal/clean/clean.go         |   4 +-
 src/cmd/go/internal/envcmd/env.go          | 161 ++++++++++++++++++++---------
 src/cmd/go/internal/envcmd/env_test.go     |   2 +-
 src/cmd/go/internal/load/pkg.go            |   2 +-
 src/cmd/go/internal/modindex/read.go       |   3 +-
 src/cmd/go/internal/test/test.go           |   2 +-
 src/cmd/go/internal/work/exec.go           |  18 ++--
 src/cmd/go/internal/work/shell.go          |   3 +-
 src/cmd/go/testdata/script/env_changed.txt |  45 ++++++++
 src/go/build/build.go                      |   1 +
 16 files changed, 272 insertions(+), 129 deletions(-)
