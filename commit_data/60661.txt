commit 8aa2eed8fb90303c0876e51e097105eca7299734
Author: Sam Thanawalla <samthanawalla@google.com>
Date:   Mon Jul 15 14:37:52 2024 +0000

    cmd/go: stamp the version for binaries built with go build
    
    This CL will set the binary version using local tag information if
    present.
    
    For #50603
    
    Cq-Include-Trybots: luci.golang.try:gotip-linux-amd64-longtest,gotip-windows-amd64-longtest
    Change-Id: I58bed345c7eea20e51a7b24ff6e943d9d1ed240d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/596035
    Reviewed-by: Michael Matloob <matloob@golang.org>
    Reviewed-by: Karam Moore <bigjimhilljameel@gmail.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 src/cmd/go/go_test.go                              |   2 +-
 src/cmd/go/internal/load/pkg.go                    |  13 ++
 src/cmd/go/internal/modfetch/codehost/codehost.go  |  42 ++++--
 src/cmd/go/internal/modfetch/codehost/git.go       | 165 ++++++++++-----------
 src/cmd/go/internal/modfetch/codehost/git_test.go  |   7 +-
 src/cmd/go/internal/modfetch/codehost/vcs.go       |  11 +-
 src/cmd/go/internal/modfetch/repo.go               |  33 ++++-
 src/cmd/go/script_test.go                          |   6 +-
 .../testdata/script/build_version_stamping_git.txt | 126 ++++++++++++++++
 9 files changed, 287 insertions(+), 118 deletions(-)
