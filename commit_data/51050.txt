commit a3559f3301b54468c14d4997af0d617db60f4915
Author: Russ Cox <rsc@golang.org>
Date:   Fri Oct 28 10:54:37 2022 -0400

    net: use libc (not cgo) for DNS on macOS
    
    Change the macOS implementation to use libc calls.
    Using libc calls directly is what we do for all the runtime and os syscalls.
    Doing so here as well improves consistency and also makes it possible
    to cross-compile (from non-Mac systems) macOS binaries that use the
    native name resolver.
    
    Fixes #12524.
    
    Change-Id: I011f4fcc5c50fbb5396e494889765dcbb9342336
    Reviewed-on: https://go-review.googlesource.com/c/go/+/446178
    Run-TryBot: Russ Cox <rsc@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@google.com>

 src/internal/syscall/unix/asm_darwin.s         |  12 +++
 src/internal/syscall/unix/getentropy_darwin.go |   4 -
 src/internal/syscall/unix/net_darwin.go        | 116 +++++++++++++++++++++++++
 src/net/cgo_resnew.go                          |   2 +-
 src/net/cgo_sockold.go                         |   2 +-
 src/net/cgo_unix.go                            | 116 +++++++++++--------------
 src/net/cgo_unix_cgo.go                        |  71 +++++++++++++++
 src/net/cgo_unix_syscall.go                    |  85 ++++++++++++++++++
 src/runtime/sys_darwin.go                      |  13 ++-
 src/runtime/sys_darwin_amd64.s                 |  59 +++++++++++++
 src/runtime/sys_darwin_arm64.s                 |  57 ++++++++++++
 11 files changed, 467 insertions(+), 70 deletions(-)
