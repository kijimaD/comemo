commit 96ec09da4885f0c09f0b1bb94d0a1e2b483495ca
Author: Than McIntosh <thanm@google.com>
Date:   Wed May 20 13:51:59 2020 -0400

    [dev.link] cmd/{compile,link}: split SDWARFINFO symtype into sub-types
    
    This change splits the SDWARFINFO symbol type (a generic container of
    DWARF content) into separate sub-classes. The new symbol types are
    
     SDWARFCUINFO    comp unit DIE, also CU info and CU packagename syms
     SDWARFCONST     constant DIE
     SDWARFFCN       subprogram DIE (default and concrete)
     SDWARFABSFCN    abstract function DIE
     SDWARFTYPE      type DIE
     SDWARFVAR       global variable DIE
    
    Advantage of doing this: in the linker there are several places where
    we have to iterate over a symbol's relocations to pick out references
    to specific classes of DWARF sub-symbols (for example, looking for all
    abstract function DIEs referenced by a subprogram DIE, or looking at
    all the type DIEs used in a subprogram DIE). By splitting SDWARFINFO
    into parts clients can now look only at the relocation target's sym
    type as opposed to having to materialize the target sym name, or do a
    lookup.
    
    Change-Id: I4e0ee3216d3c8f1a78bec3d296c01e95b3d025b5
    Reviewed-on: https://go-review.googlesource.com/c/go/+/234684
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/compile/internal/gc/main.go         |  4 +-
 src/cmd/internal/obj/objfile.go             |  6 +--
 src/cmd/internal/obj/objfile2.go            |  3 +-
 src/cmd/internal/objabi/symkind.go          |  7 ++-
 src/cmd/internal/objabi/symkind_string.go   | 21 +++++----
 src/cmd/link/internal/ld/dwarf.go           | 68 +++++++++++++++++------------
 src/cmd/link/internal/loader/loader.go      |  4 +-
 src/cmd/link/internal/sym/symkind.go        | 15 ++++++-
 src/cmd/link/internal/sym/symkind_string.go | 21 +++++----
 9 files changed, 95 insertions(+), 54 deletions(-)
