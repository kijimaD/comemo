commit 3aa2823d8b2c96d01980cca277f6cf7923db229f
Author: qmuntal <quimmuntal@gmail.com>
Date:   Wed Oct 11 16:52:40 2023 +0200

    cmd/internal/link: merge .pdata and .xdata sections from host object files
    
    The Go linker doesn't currently merge .pdata/.xdata sections from the
    host object files generated by the C compiler when using internal
    linking. This means that the stack can't be unwind in C -> Go.
    
    This CL fixes that and adds a test to ensure that the stack can be
    unwind in C -> Go and Go -> C transitions, which was not well tested.
    
    Updates #57302
    
    Change-Id: Ie86a5e6e30b80978277e66ccc2c48550e51263c8
    Reviewed-on: https://go-review.googlesource.com/c/go/+/534555
    Reviewed-by: Heschi Kreinick <heschi@google.com>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/cgo/internal/test/callback_windows.go | 133 ++++++++++++++++++++++++++
 src/cmd/cgo/internal/test/cgo_windows_test.go |  11 +++
 src/cmd/link/internal/ld/data.go              |  21 ++--
 src/cmd/link/internal/ld/lib.go               |  14 ++-
 src/cmd/link/internal/ld/pe.go                |   8 +-
 src/cmd/link/internal/ld/seh.go               |   8 +-
 src/cmd/link/internal/loadpe/ldpe.go          | 117 +++++++++++++++-------
 src/cmd/link/internal/loadpe/seh.go           | 109 +++++++++++++++++++++
 8 files changed, 368 insertions(+), 53 deletions(-)
