commit 94e720059f902339699b8bf7b2b10897311b50f8
Author: Kunpei Sakai <namusyaka@gmail.com>
Date:   Tue Aug 21 19:30:30 2018 +0900

    net/http: introduce DialerAndTLSConfigSupportsHTTP2 in Transport
    
    Even when a custom TLS config or custom dialer is specified,
    enables HTTP/2 if DialerAndTLSConfigSupportsHTTP2 is true.
    By this change, avoid automatically enabling HTTP/2 if DialContext is set.
    
    This change also ensures that DefaultTransport still automatically
    enable HTTP/2 as discussed in #14391.
    
    Updates #14391
    Fixes #27011
    
    Change-Id: Icc46416810bee61dbd65ebc96468335030b80573
    Reviewed-on: https://go-review.googlesource.com/c/go/+/130256
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>
    Run-TryBot: Kunpei Sakai <namusyaka@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/net/http/transport.go      | 18 +++++++++++++-----
 src/net/http/transport_test.go | 14 ++++++++++++++
 2 files changed, 27 insertions(+), 5 deletions(-)
