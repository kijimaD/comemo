commit 48151b3f0ffda8a38ca71c8f1b8a72d5f90d7061
Author: Cherry Zhang <cherryyz@google.com>
Date:   Tue Sep 24 18:12:55 2019 -0400

    [dev.link] cmd/link: add symbols to Textp after deadcode pass
    
    Currently we add all text symbols to ctxt.Textp at load time,
    then the deadcode pass filters out unreachable ones. This CL
    delays adding symbols to ctxt.Textp to the end of the deadcode
    pass, where we only add reachable ones.
    
    Change-Id: Ie83b2958f915c5aaa004b8c5ed1f1bc275f4d1db
    Reviewed-on: https://go-review.googlesource.com/c/go/+/197257
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/link/internal/ld/deadcode.go | 62 ++++++++++++++++++++++++++++++------
 src/cmd/link/internal/ld/lib.go      | 38 ----------------------
 2 files changed, 53 insertions(+), 47 deletions(-)
