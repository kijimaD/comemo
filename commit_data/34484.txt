commit 070cc8eb02248698480957dd7cd6ada07de309de
Author: Austin Clements <austin@google.com>
Date:   Sun Oct 22 18:10:08 2017 -0400

    runtime: allow write barriers in startpanic_m
    
    We're about to start tracking nowritebarrierrec through systemstack
    calls, which will reveal write barriers in startpanic_m prohibited by
    various callers.
    
    We actually can allow write barriers here because the write barrier is
    a no-op when we're panicking. Let the compiler know.
    
    Updates #22384.
    For #22460.
    
    Change-Id: Ifb3a38d3dd9a4125c278c3680f8648f987a5b0b8
    Reviewed-on: https://go-review.googlesource.com/72770
    Run-TryBot: Austin Clements <austin@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Rick Hudson <rlh@golang.org>

 src/runtime/mbarrier.go | 2 ++
 src/runtime/panic.go    | 6 ++++++
 2 files changed, 8 insertions(+)
