commit 642542cb3c4b672cb34cde44a415c05bf1560a5e
Author: Keith Randall <khr@golang.org>
Date:   Thu Mar 9 16:31:41 2023 +0000

    Revert "cmd/link: establish dependable package initialization order"
    
    This reverts commit ce2a609909d9de3391a99a00fe140506f724f933.
    aka CL 462035
    
    Reason for revert: this CL is causing some problems in some internal Google programs.
    
    Change-Id: I4476b8d8d2c3d7b5703d1d85c93baebb4b4e5d26
    Reviewed-on: https://go-review.googlesource.com/c/go/+/474976
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/compile/internal/pkginit/init.go |  18 ++--
 src/cmd/internal/objabi/reloctype.go     |   6 --
 src/cmd/link/internal/ld/deadcode.go     |   8 --
 src/cmd/link/internal/ld/heap.go         |  47 ---------
 src/cmd/link/internal/ld/inittask.go     | 175 -------------------------------
 src/cmd/link/internal/ld/lib.go          |   4 -
 src/cmd/link/internal/ld/main.go         |   3 -
 src/cmd/link/internal/ld/symtab.go       |  16 ---
 src/plugin/plugin_dlopen.go              |  20 ++--
 src/runtime/plugin.go                    |  10 +-
 src/runtime/proc.go                      |  60 +++++------
 src/runtime/symtab.go                    |   4 -
 test/fixedbugs/issue31636.out            |   4 +-
 test/noinit.go                           |   5 +-
 14 files changed, 56 insertions(+), 324 deletions(-)
