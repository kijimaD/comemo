commit 7fe3f30bbbcb89ced4fb2cd4cbb93c8a0986a973
Author: Jeremy Faller <jeremy@golang.org>
Date:   Thu Apr 16 23:33:11 2020 +0000

    Revert "[dev.link] cmd/link: remove buffered file I/O from OutBuf"
    
    This reverts commit b2def42d9efcf4540656e26632b744f8e7436814.
    
    Reason for revert: trybots failing
    
    Change-Id: I920be6d8de158b1e513154ac0eb0c8fa0cffa9f4
    Reviewed-on: https://go-review.googlesource.com/c/go/+/228657
    Reviewed-by: Than McIntosh <thanm@google.com>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/link/internal/amd64/asm.go      |  5 ++
 src/cmd/link/internal/arm/asm.go        |  4 ++
 src/cmd/link/internal/arm64/asm.go      |  4 ++
 src/cmd/link/internal/ld/data.go        |  8 +--
 src/cmd/link/internal/ld/main.go        | 34 +++++++-----
 src/cmd/link/internal/ld/outbuf.go      | 95 ++++++++++++++++++++++++---------
 src/cmd/link/internal/ld/outbuf_test.go |  1 -
 src/cmd/link/internal/ld/xcoff.go       |  3 ++
 src/cmd/link/internal/mips/asm.go       |  2 +
 src/cmd/link/internal/mips64/asm.go     |  4 ++
 src/cmd/link/internal/ppc64/asm.go      |  5 ++
 src/cmd/link/internal/riscv64/asm.go    |  2 +
 src/cmd/link/internal/s390x/asm.go      |  2 +
 src/cmd/link/internal/wasm/asm.go       |  2 +
 src/cmd/link/internal/x86/asm.go        |  5 ++
 15 files changed, 135 insertions(+), 41 deletions(-)
