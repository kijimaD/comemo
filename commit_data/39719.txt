commit d56a86e01f2e771a4706f0a5cfbe2d87cd888f05
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 31 14:33:57 2019 +0200

    runtime: don't forward SIGPIPE on macOS
    
    macOS and iOS deliver SIGPIPE signals to the main thread and not
    the thread that raised it by writing to a closed socket or pipe.
    
    SIGPIPE signals can be suppressed for sockets with the SO_NOSIGPIPE
    option, but there is no similar option for pipes. We have no other
    choice but to never forward SIGPIPE on macOS.
    
    Fixes #33384
    
    Change-Id: Ice3de75b121f00006ee11c26d560e619536460be
    Reviewed-on: https://go-review.googlesource.com/c/go/+/188297
    Run-TryBot: Elias Naur <mail@eliasnaur.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 misc/cgo/testcarchive/testdata/main3.c | 21 +++++++++++++++++++++
 src/runtime/signal_unix.go             |  7 +++++++
 2 files changed, 28 insertions(+)
