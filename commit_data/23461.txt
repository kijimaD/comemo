commit 4302fd0409da5e4f1d71471a6770dacdc3301197
Author: HÃ¥vard Haugen <havard.haugen@gmail.com>
Date:   Sun Apr 26 23:52:42 2015 +0200

    encoding/json: fix decoding of types with '[]byte' as underlying type
    
    All slice types which have elements of kind reflect.Uint8 are marshalled
    into base64 for compactness. When decoding such data into a custom type
    based on []byte the decoder checked the slice kind instead of the slice
    element kind, so no appropriate decoder was found.
    
    Fixed by letting the decoder check slice element kind like the encoder.
    This guarantees that already encoded data can still be successfully
    decoded.
    
    Fixes #8962.
    
    Change-Id: Ia320d4dc2c6e9e5fe6d8dc15788c81da23d20c4f
    Reviewed-on: https://go-review.googlesource.com/9371
    Reviewed-by: Peter Waldschmidt <peter@waldschmidt.com>
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/encoding/json/decode.go      |  2 +-
 src/encoding/json/decode_test.go | 21 +++++++++++++++++++++
 src/encoding/json/encode.go      |  2 --
 3 files changed, 22 insertions(+), 3 deletions(-)
