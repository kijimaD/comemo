commit db40d1a4c434e319e70af87ef1024a211a9e5a98
Author: Cuong Manh Le <cuong.manhle.vn@gmail.com>
Date:   Wed Sep 18 22:39:05 2024 +0700

    cmd/compile: fix wrong esacpe analysis for rangefunc
    
    CL 584596 "-range<N>" suffix to the name of closure generated for a
    rangefunc loop body. However, this breaks the condition that escape
    analysis uses for checking whether a closure contains within function,
    which is "F.funcN" for outer function "F" and closure "funcN".
    
    Fixing this by adding new "-rangeN" to the condition.
    
    Fixes #69434
    Fixes #69507
    
    Change-Id: I411de8f63b69a6514a9e9504d49d62e00ce4115d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/614096
    Reviewed-by: David Chase <drchase@google.com>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Auto-Submit: Cuong Manh Le <cuong.manhle.vn@gmail.com>

 src/cmd/compile/internal/escape/solve.go |   4 +-
 test/fixedbugs/issue69434.go             | 173 +++++++++++++++++++++++++++++++
 test/fixedbugs/issue69507.go             | 133 ++++++++++++++++++++++++
 3 files changed, 308 insertions(+), 2 deletions(-)
