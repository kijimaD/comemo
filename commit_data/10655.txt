commit 4349effb15b5de82bfa8435c562a01c3d5c116e4
Author: RÃ©my Oudompheng <oudomphe@phare.normalesup.org>
Date:   Wed Dec 7 16:18:50 2011 -0500

    gc: keep pointer to original node in constant rewrites.
    
    This allows printing meaningful expressions in error messages
    instead of evaluated constants.
    Fixes #2276.
    
    R=golang-dev, rsc
    CC=golang-dev, remy
    https://golang.org/cl/5432082

 src/cmd/gc/const.c       |  8 ++++++--
 src/cmd/gc/unsafe.c      |  2 ++
 test/fixedbugs/bug379.go |  4 ++--
 test/fixedbugs/bug381.go | 20 ++++++++++++++++++++
 4 files changed, 30 insertions(+), 4 deletions(-)
