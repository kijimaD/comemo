commit 510fb6397dfc93067dc90d42c58dfc5f8b995285
Author: Joe Tsai <joetsai@digital-static.net>
Date:   Sat Jul 16 02:42:52 2016 -0700

    fmt: properly handle early io.EOF Reads in readRune.readByte
    
    Change https://golang.org/cl/19895 caused a regression
    where the last character in a string would be dropped if it was
    accompanied by an io.EOF.
    
    This change fixes the logic so that the last byte is still returned
    without a problem.
    
    Fixes #16393
    
    Change-Id: I7a4d0abf761c2c15454136a79e065fe002d736ea
    Reviewed-on: https://go-review.googlesource.com/24981
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/fmt/scan.go      |   6 +--
 src/fmt/scan_test.go | 101 ++++++++++++++++++++++-----------------------------
 2 files changed, 46 insertions(+), 61 deletions(-)
