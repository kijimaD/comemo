commit fa98f46741f818913a8c11b877520a548715131f
Author: Russ Cox <rsc@golang.org>
Date:   Mon Jul 13 13:27:22 2020 -0400

    net/http: synchronize "100 Continue" write and Handler writes
    
    The expectContinueReader writes to the connection on the first
    Request.Body read. Since a Handler might be doing a read in parallel or
    before a write, expectContinueReader needs to synchronize with the
    ResponseWriter, and abort if a response already went out.
    
    The tests will land in a separate CL.
    
    Fixes #34902
    Fixes CVE-2020-15586
    
    Change-Id: Icdd8dd539f45e8863762bd378194bb4741e875fc
    Reviewed-on: https://team-review.git.corp.google.com/c/golang/go-private/+/793350
    Reviewed-by: Filippo Valsorda <valsorda@google.com>
    Reviewed-on: https://go-review.googlesource.com/c/go/+/242598
    Run-TryBot: Katie Hockman <katie@golang.org>
    Reviewed-by: Filippo Valsorda <filippo@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/net/http/server.go | 43 ++++++++++++++++++++++++++++++++++++-------
 1 file changed, 36 insertions(+), 7 deletions(-)
