commit ceb982e0049d7464413528ffab87ed0b34bfb56a
Author: Russ Cox <rsc@golang.org>
Date:   Tue May 27 23:59:06 2014 -0400

    cmd/gc: fix defer copy(x, <-c)
    
    In the first very rough draft of the reordering code
    that was introduced in the Go 1.3 cycle, the pre-allocated
    temporary for a ... argument was held in n->right.
    It moved to n->alloc but the code avoiding n->right
    was left behind in order.c. In copy(x, <-c), the receive
    is in n->right and must be processed. Delete the special
    case code, removing the bug.
    
    Fixes #8039.
    
    LGTM=iant
    R=golang-codereviews, iant
    CC=golang-codereviews
    https://golang.org/cl/100820044

 src/cmd/gc/order.c          | 15 +++++++--------
 test/fixedbugs/issue8039.go | 23 +++++++++++++++++++++++
 2 files changed, 30 insertions(+), 8 deletions(-)
