commit cc62bed075ed2a7d1f65f2d65e55af1ffab7cdba
Author: Russ Cox <rsc@golang.org>
Date:   Tue Apr 27 10:17:17 2010 -0700

    pipe: implementation #3; this time for sure!
    Added goroutine; got simpler.
    
    Fixes deadlock when doing Read+Close
    or Write+Close on same end.
    
    R=r, cw
    CC=golang-dev
    https://golang.org/cl/994043

 src/pkg/io/pipe.go      | 326 ++++++++++++++++++++++++++++++------------------
 src/pkg/io/pipe_test.go |  12 ++
 2 files changed, 220 insertions(+), 118 deletions(-)
