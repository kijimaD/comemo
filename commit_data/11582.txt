commit 44122ed06997f1355c6660efb302d867f13877c4
Author: Mikio Hara <mikioh.mikioh@gmail.com>
Date:   Fri Feb 3 12:22:40 2012 +0900

    syscall: update bootstrap scripts to sync with new go command
    
    R=rsc
    CC=golang-dev
    https://golang.org/cl/5615054
---
 src/pkg/syscall/mkall.sh    | 22 +++++++++++-----------
 src/pkg/syscall/mkerrors.sh |  4 ++--
 2 files changed, 13 insertions(+), 13 deletions(-)

diff --git a/src/pkg/syscall/mkall.sh b/src/pkg/syscall/mkall.sh
index 4a3e432374..853c3f7a08 100755
--- a/src/pkg/syscall/mkall.sh
+++ b/src/pkg/syscall/mkall.sh
@@ -113,52 +113,52 @@ darwin_386)
 	mkerrors="$mkerrors -m32"
 	mksyscall="./mksyscall.pl -l32"
 	mksysnum="./mksysnum_darwin.pl /usr/include/sys/syscall.h"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 darwin_amd64)
 	mkerrors="$mkerrors -m64"
 	mksysnum="./mksysnum_darwin.pl /usr/include/sys/syscall.h"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 freebsd_386)
 	mkerrors="$mkerrors -m32"
 	mksyscall="./mksyscall.pl -l32"
 	mksysnum="curl -s 'http://svn.freebsd.org/base/head/sys/kern/syscalls.master' | ./mksysnum_freebsd.pl"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 freebsd_amd64)
 	mkerrors="$mkerrors -m64"
 	mksysnum="curl -s 'http://svn.freebsd.org/base/head/sys/kern/syscalls.master' | ./mksysnum_freebsd.pl"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 linux_386)
 	mkerrors="$mkerrors -m32"
 	mksyscall="./mksyscall.pl -l32"
 	mksysnum="./mksysnum_linux.pl /usr/include/asm/unistd_32.h"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 linux_amd64)
 	mkerrors="$mkerrors -m64"
 	mksysnum="./mksysnum_linux.pl /usr/include/asm/unistd_64.h"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 linux_arm)
 	mkerrors="$mkerrors"
 	mksyscall="./mksyscall.pl -b32"
 	mksysnum="./mksysnum_linux.pl /usr/include/asm/unistd.h"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 netbsd_386)
 	mkerrors="$mkerrors -m32"
 	mksyscall="./mksyscall.pl -l32 -netbsd"
 	mksysnum="curl -s 'http://cvsweb.netbsd.org/bsdweb.cgi/~checkout~/src/sys/kern/syscalls.master' | ./mksysnum_netbsd.pl"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 netbsd_amd64)
 	mkerrors="$mkerrors -m64"
 	mksyscall="./mksyscall.pl -netbsd"
 	mksysnum="curl -s 'http://cvsweb.netbsd.org/bsdweb.cgi/~checkout~/src/sys/kern/syscalls.master' | ./mksysnum_netbsd.pl"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 openbsd_386)
 	mkerrors="$mkerrors -m32"
@@ -166,7 +166,7 @@ openbsd_386)
 	mksysctl="./mksysctl_openbsd.pl"
 	zsysctl="zsysctl_openbsd.go"
 	mksysnum="curl -s 'http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/sys/kern/syscalls.master' | ./mksysnum_openbsd.pl"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 openbsd_amd64)
 	mkerrors="$mkerrors -m64"
@@ -174,7 +174,7 @@ openbsd_amd64)
 	mksysctl="./mksysctl_openbsd.pl"
 	zsysctl="zsysctl_openbsd.go"
 	mksysnum="curl -s 'http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/sys/kern/syscalls.master' | ./mksysnum_openbsd.pl"
-	mktypes="GOARCH=$GOARCH cgo -godefs"
+	mktypes="GOARCH=$GOARCH go tool cgo -godefs"
 	;;
 plan9_386)
 	mkerrors=
diff --git a/src/pkg/syscall/mkerrors.sh b/src/pkg/syscall/mkerrors.sh
index 9a50cdf8b1..8666667f01 100755
--- a/src/pkg/syscall/mkerrors.sh
+++ b/src/pkg/syscall/mkerrors.sh
@@ -146,7 +146,7 @@ includes='
 
 ccflags="$@"
 
-# Write cgo -godefs input.
+# Write go tool cgo -godefs input.
 (
 	echo package syscall
 	echo
@@ -224,7 +224,7 @@ echo '#include <errno.h>' | $GCC -x c - -E -dM $ccflags |
 echo '// mkerrors.sh' "$@"
 echo '// MACHINE GENERATED BY THE COMMAND ABOVE; DO NOT EDIT'
 echo
-cgo -godefs -- "$@" _const.go >_error.out
+go tool cgo -godefs -- "$@" _const.go >_error.out
 cat _error.out | grep -vf _error.grep
 echo
 echo '// Errors'
