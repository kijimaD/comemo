commit 1aa9c31ffc8af3fd33bfa995ecf55f08daf33f81
Author: Damien Neil <dneil@google.com>
Date:   Wed Mar 19 09:26:31 2025 -0700

    net/http/httputil: don't call WriteHeader after Hijack
    
    CL 637939 changed ReverseProxy to report errors encountered when
    copying data on an hijacked connection. This is generally not useful,
    and when using the default error handler results in WriteHeader
    being called on a hijacked connection.
    
    While this is harmless with standard net/http ResponseWriter
    implementations, it can confuse middleware layers.
    
    Fixes #72954
    
    Change-Id: I21f3d3d515e114dc5c298d7dbc3796c505d3c82f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/659255
    Reviewed-by: Jonathan Amsterdam <jba@google.com>
    Auto-Submit: Damien Neil <dneil@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 src/net/http/httputil/reverseproxy.go      |  3 --
 src/net/http/httputil/reverseproxy_test.go | 80 ++++++++++++++++++++++++++++++
 2 files changed, 80 insertions(+), 3 deletions(-)
