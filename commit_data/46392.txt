commit b9e1a24581b6282ee930a50bbe498d24ef77f486
Author: Dan Scales <danscales@google.com>
Date:   Wed Sep 8 08:41:54 2021 -0700

    cmd/compile: fix case where init info of OAS node is dropped
    
    When an OAS node is converted to an OSELRECV2 node in tcSelect(), the
    possible DCL node in the Init field was being dropped, since a
    completely new node was being created and the Init field was not set. I
    don't expect n.Init() to be set for the ORECV case, but the code now
    deals with that too.
    
    Fixed bug in both tcSelect() and transformSelect().
    
    Fixes #48289
    
    Change-Id: I09918a70f7cbaa4aa9a17546169f908a8787df15
    Reviewed-on: https://go-review.googlesource.com/c/go/+/348569
    Trust: Dan Scales <danscales@google.com>
    Run-TryBot: Dan Scales <danscales@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>
    Reviewed-by: Robert Griesemer <gri@golang.org>

 src/cmd/compile/internal/noder/transform.go |  1 +
 src/cmd/compile/internal/typecheck/stmt.go  |  9 +++++----
 test/fixedbugs/issue48289.go                | 28 ++++++++++++++++++++++++++++
 3 files changed, 34 insertions(+), 4 deletions(-)
