commit 1161d190243ea2849299d3384a2b19e32530789a
Author: Robert Griesemer <gri@golang.org>
Date:   Mon Jan 24 14:12:20 2011 -0800

    scanner: error handler must be provided to Init
    
    Init may report an error on the first character and
    thus one needs an ability to set the error handler
    for Init. Was a design bug.
    
    Added corresponding test cases and better documentation.
    Also: Fixed a subtle infinite loop exposed by one of the
    new test cases.
    
    Fixes #1380.
    
    R=rsc, gri
    CC=golang-dev
    https://golang.org/cl/4094041

 src/pkg/scanner/scanner.go      | 38 ++++++++++++++++++++++++++------------
 src/pkg/scanner/scanner_test.go |  6 +++++-
 2 files changed, 31 insertions(+), 13 deletions(-)
