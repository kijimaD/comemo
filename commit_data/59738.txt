commit 4742c52e101ecf4aacebe5148a1cb172bdadb1d4
Author: Michael Anthony Knyszek <mknyszek@google.com>
Date:   Fri Mar 22 21:42:02 2024 +0000

    internal/abi: define EmptyInterface, TypeOf, and NoEscape
    
    This change defines two commonly-defined functions and a
    commonly-defined type in internal/abi to try and deduplicate some
    definitions. This is motivated by a follow-up CL which will want access
    to TypeOf in yet another package.
    
    There still exist duplicate definitions of all three of these things in
    the runtime, and this CL doesn't try to handle that yet. There are far
    too many uses in the runtime to handle manually in a way that feels
    comfortable; automated refactoring will help.
    
    For #62483.
    
    Change-Id: I02fc64a28f11af618f6071f94d27f45c135fa8ac
    Reviewed-on: https://go-review.googlesource.com/c/go/+/573955
    Auto-Submit: Michael Knyszek <mknyszek@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: David Chase <drchase@google.com>

 src/internal/abi/escape.go        | 22 ++++++++++++++++++++++
 src/internal/abi/iface.go         | 10 ++++++++++
 src/internal/abi/type.go          | 11 +++++++++++
 src/internal/reflectlite/type.go  |  5 +----
 src/internal/reflectlite/value.go | 30 +++++++++---------------------
 src/reflect/type.go               |  8 ++------
 src/reflect/value.go              | 38 ++++++++++++++++++--------------------
 src/strings/builder.go            | 16 ++--------------
 8 files changed, 75 insertions(+), 65 deletions(-)
