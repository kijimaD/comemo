commit 8d4330742c1866faa8b1ef575877e5afb8a4355c
Author: Klaus Post <klauspost@gmail.com>
Date:   Thu May 7 12:50:00 2020 +0000

    compress/flate: fix deflate Reset consistency
    
    Modify the overflow detection logic to shuffle the contents
    of the table to a lower offset to avoid leaking the effects
    of a previous use of compress.Writer past Reset calls.
    
    Fixes #34121
    
    Change-Id: I9963eadfa5482881e7b7adbad4c2cae146b669ab
    GitHub-Last-Rev: 8b35798cdd4d5a901d6422647b12984d7e500ba3
    GitHub-Pull-Request: golang/go#34128
    Reviewed-on: https://go-review.googlesource.com/c/go/+/193605
    Reviewed-by: Joe Tsai <thebrokentoaster@gmail.com>
    Run-TryBot: Joe Tsai <thebrokentoaster@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/compress/flate/deflatefast.go | 49 ++++++++++++++++++++----------
 src/compress/flate/writer_test.go | 63 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 97 insertions(+), 15 deletions(-)
