commit 91a6a2a30f95da8ae3fb6329a71c49ed13aa12ad
Author: Joe Tsai <joetsai@digital-static.net>
Date:   Tue Dec 5 22:53:48 2017 -0800

    encoding/json: make error capture logic in recover more type safe
    
    Rather than only ignoring runtime.Error panics, which are a very
    narrow set of possible panic values, switch it such that the json
    package only captures panic values that have been properly wrapped
    in a jsonError struct. This ensures that only intentional panics
    originating from the json package are captured.
    
    Fixes #23012
    
    Change-Id: I5e85200259edd2abb1b0512ce6cc288849151a6d
    Reviewed-on: https://go-review.googlesource.com/94019
    Run-TryBot: Joe Tsai <thebrokentoaster@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>

 src/encoding/json/decode.go      | 15 ++++++++++-----
 src/encoding/json/decode_test.go | 14 ++++++++++++++
 src/encoding/json/encode.go      | 12 +++++-------
 src/encoding/json/encode_test.go | 14 ++++++++++++++
 4 files changed, 43 insertions(+), 12 deletions(-)
