commit 37feacf623dc95a3c6332640689f53a5baa85dbc
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Mon Aug 5 15:43:45 2013 -0700

    net: use F_DUPFD_CLOEXEC when duping fds
    
    This means that in the common case (modern kernel), we only
    make 1 system call to dup instead of two, and we also avoid
    grabbing the syscall.ForkLock.
    
    R=golang-dev, iant
    CC=golang-dev
    https://golang.org/cl/12476043

 src/pkg/net/fd_unix.go                   | 40 ++++++++++++++++++++++++++++----
 src/pkg/net/file_unix.go                 |  7 ++----
 src/pkg/syscall/zerrors_freebsd_386.go   |  2 ++
 src/pkg/syscall/zerrors_freebsd_amd64.go |  2 ++
 4 files changed, 42 insertions(+), 9 deletions(-)
