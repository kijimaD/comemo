commit 1ff2fdaaf189e0d7ec73bdbff72558363239f48b
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Feb 3 14:56:13 2021 -0800

    [dev.typeparams] cmd/compile/internal/types2: add support for language version checking
    
    Add the Config.Lang field which may be set to a Go version string,
    such as "go1.12". This is a string rather than explicit semantic
    version numbers (such as {1, 12}) for API robustness; a string
    is more flexible should we need more or different information.
    
    Add -lang flag to types2 package for use with (manual) testing
    when running "go test -run Check$ -lang=... -files=...".
    
    While changing flags, look for comma-separated (rather than space-
    separated) files when providing the -file flag.
    
    Check that numeric constant literals, signed shift counts are
    accepted according to the selected language version.
    
    Type alias declarations and overlapping embedded interfaces are
    not yet checked.
    
    Updates #31793.
    
    Change-Id: I9ff238ed38a88f377eb2267dc3e8816b89a40635
    Reviewed-on: https://go-review.googlesource.com/c/go/+/289509
    Trust: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/types2/api.go             |  7 ++
 src/cmd/compile/internal/types2/check.go           | 37 ++++++----
 src/cmd/compile/internal/types2/check_test.go      | 32 +++++++--
 src/cmd/compile/internal/types2/expr.go            |  5 ++
 src/cmd/compile/internal/types2/stdlib_test.go     | 10 ++-
 .../compile/internal/types2/testdata/go1_12.src    | 34 +++++++++
 src/cmd/compile/internal/types2/version.go         | 81 ++++++++++++++++++++++
 7 files changed, 183 insertions(+), 23 deletions(-)
