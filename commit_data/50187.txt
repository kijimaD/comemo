commit ecb2f231fa41b581319505139f8d5ac779763bee
Author: Meng Zhuo <mzh@golangcn.org>
Date:   Thu Sep 30 22:46:09 2021 +0800

    runtime,sync: using fastrandn instead of modulo reduction
    
    fastrandn is ~50% faster than fastrand() % n.
    `ack -v 'fastrand\(\)\s?\%'` finds all modulo on fastrand()
    
    name              old time/op  new time/op  delta
    Fastrandn/2       2.86ns ± 0%  1.59ns ± 0%  -44.35%  (p=0.000 n=9+10)
    Fastrandn/3       2.87ns ± 1%  1.59ns ± 0%  -44.41%  (p=0.000 n=10+9)
    Fastrandn/4       2.87ns ± 1%  1.58ns ± 1%  -45.10%  (p=0.000 n=10+10)
    Fastrandn/5       2.86ns ± 1%  1.58ns ± 1%  -44.84%  (p=0.000 n=10+10)
    
    Change-Id: Ic91f5ca9b9e3b65127bc34792b62fd64fbd13b5c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/353269
    Trust: Meng Zhuo <mzh@golangcn.org>
    Run-TryBot: Meng Zhuo <mzh@golangcn.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/runtime/malloc.go  | 4 ++--
 src/runtime/mbitmap.go | 2 +-
 src/runtime/proc.go    | 2 +-
 src/runtime/stubs.go   | 4 ++--
 src/runtime/symtab.go  | 2 +-
 src/sync/pool.go       | 4 ++--
 6 files changed, 9 insertions(+), 9 deletions(-)
