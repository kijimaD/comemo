commit 317c1ca9f2bc8b52807171020eb47e988699cf6a
Author: Cherry Zhang <cherryyz@google.com>
Date:   Tue Jul 28 21:35:53 2020 -0400

    [dev.link] cmd/link: refactor ExtReloc data structures
    
    We used to generate all external relocations in memory, then emit
    the relocation records at a later pass. The data structures were
    chosen so that it takes as little memory as possible. Now we just
    stream out external relocations, and ExtReloc is just a local
    variable. Change the data structure to avoid repeated read of
    some fields. Also get rid of ExtRelocView, as it is no longer
    necessary.
    
    Change-Id: I40209bbe4387af231b29788125c3b4ebb0ff4a33
    Reviewed-on: https://go-review.googlesource.com/c/go/+/245479
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/link/internal/amd64/asm.go     | 18 +++++++++---------
 src/cmd/link/internal/arm/asm.go       | 18 +++++++++++-------
 src/cmd/link/internal/arm64/asm.go     | 12 ++++++------
 src/cmd/link/internal/ld/data.go       | 13 +++++++++----
 src/cmd/link/internal/ld/elf.go        |  5 ++---
 src/cmd/link/internal/ld/lib.go        |  8 ++++----
 src/cmd/link/internal/ld/macho.go      |  5 ++---
 src/cmd/link/internal/ld/pe.go         |  5 ++---
 src/cmd/link/internal/ld/xcoff.go      |  5 ++---
 src/cmd/link/internal/loader/loader.go | 11 ++---------
 src/cmd/link/internal/mips/asm.go      |  8 ++++----
 src/cmd/link/internal/mips64/asm.go    |  8 ++++----
 src/cmd/link/internal/ppc64/asm.go     | 18 +++++++++---------
 src/cmd/link/internal/riscv64/asm.go   |  4 ++--
 src/cmd/link/internal/s390x/asm.go     | 14 +++++++-------
 src/cmd/link/internal/x86/asm.go       | 12 ++++++------
 16 files changed, 81 insertions(+), 83 deletions(-)
