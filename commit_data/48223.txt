commit fadad851a3222867b374e901ede9c4919594837f
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Wed Apr 21 02:11:15 2021 -0700

    cmd/compile: implement unsafe.Add and unsafe.Slice
    
    Updates #19367.
    Updates #40481.
    
    Change-Id: Iabd2afdd0d520e5d68fd9e6dedd013335a4b3886
    Reviewed-on: https://go-review.googlesource.com/c/go/+/312214
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    Trust: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/escape/escape.go          |   7 +-
 src/cmd/compile/internal/ir/expr.go                |   2 +-
 src/cmd/compile/internal/ir/fmt.go                 | 132 ++++++++--------
 src/cmd/compile/internal/ir/node.go                |   2 +
 src/cmd/compile/internal/ir/op_string.go           |  90 +++++------
 src/cmd/compile/internal/noder/expr.go             |   8 +
 src/cmd/compile/internal/noder/transform.go        |   4 +-
 src/cmd/compile/internal/ssagen/ssa.go             |   6 +
 src/cmd/compile/internal/typecheck/builtin.go      | 176 +++++++++++----------
 .../compile/internal/typecheck/builtin/runtime.go  |   3 +
 src/cmd/compile/internal/typecheck/const.go        |   4 +-
 src/cmd/compile/internal/typecheck/func.go         |  38 ++++-
 src/cmd/compile/internal/typecheck/iexport.go      |   2 +-
 src/cmd/compile/internal/typecheck/iimport.go      |   4 +-
 src/cmd/compile/internal/typecheck/typecheck.go    |  37 +++++
 src/cmd/compile/internal/typecheck/universe.go     |   2 +
 src/cmd/compile/internal/walk/builtin.go           |  39 +++++
 src/cmd/compile/internal/walk/expr.go              |   7 +-
 src/runtime/slice.go                               |  19 +++
 test/unsafebuiltins.go                             |  61 +++++++
 20 files changed, 439 insertions(+), 204 deletions(-)
