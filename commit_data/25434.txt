commit c34fb3cfc69c81c9671c097b599e9e642a9d1fed
Author: Michael Hudson-Doyle <michael.hudson@canonical.com>
Date:   Thu Oct 29 12:17:43 2015 +1300

    cmd/link: always resolve functions locally when linking dynamically
    
    When dynamically linking, we want references to functions defined
    in this module to always be to the function object, not to the
    PLT. We force this by writing an additional local symbol for
    every global function symbol and making all relocations against
    the global symbol refer to this local symbol instead. This is
    approximately equivalent to the ELF linker -Bsymbolic-functions
    option, but that is buggy on several platforms.
    
    Change-Id: Ie6983eb4d1947f8543736fd349f9a90df3cce91a
    Reviewed-on: https://go-review.googlesource.com/16436
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/link/internal/amd64/asm.go |  2 +-
 src/cmd/link/internal/arm/asm.go   |  2 +-
 src/cmd/link/internal/arm64/asm.go |  2 +-
 src/cmd/link/internal/ld/elf.go    |  2 +-
 src/cmd/link/internal/ld/lib.go    |  8 --------
 src/cmd/link/internal/ld/link.go   | 11 +++++++++++
 src/cmd/link/internal/ld/symtab.go | 24 ++++++++++++++++++------
 src/cmd/link/internal/x86/asm.go   |  2 +-
 8 files changed, 34 insertions(+), 19 deletions(-)
