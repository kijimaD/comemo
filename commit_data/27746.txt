commit b5f0aff49503e31002b33198e06708e263c445a7
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Mon Jun 27 16:39:40 2016 -0700

    net/http: conditionally configure HTTP/2 in Server.Serve(Listener)
    
    Don't configure HTTP/2 in http.Server.Serve(net.Listener) if the
    Server's TLSConfig is set and doesn't include the "h2" NextProto
    value. This avoids mutating a *tls.Config already in use if
    previously passed to tls.NewListener.
    
    Also document this. (it's come up a few times now)
    
    Fixes #15908
    
    Change-Id: I283eed82fdb29a791f80d801aadd9f75db244de0
    Reviewed-on: https://go-review.googlesource.com/24508
    Reviewed-by: Andrew Gerrand <adg@golang.org>
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/net/http/serve_test.go | 35 ++++++++++++++++++++++++++++++++++-
 src/net/http/server.go     | 36 ++++++++++++++++++++++++++++++++++--
 2 files changed, 68 insertions(+), 3 deletions(-)
