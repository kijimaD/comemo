commit 55c458e05f35d0d5d539107da07b744ad96f268e
Author: Keith Randall <khr@golang.org>
Date:   Mon Sep 8 17:42:21 2014 -0700

    runtime: on bigger maps, start iterator at a random bucket.
    
    This change brings the iter/delete pattern down to O(n lgn) from O(n^2).
    
    Fixes #8412.
    
    before:
    BenchmarkMapPop100         50000             32498 ns/op
    BenchmarkMapPop1000          500           3244851 ns/op
    BenchmarkMapPop10000           5         270276855 ns/op
    
    after:
    BenchmarkMapPop100        100000             16169 ns/op
    BenchmarkMapPop1000         5000            300416 ns/op
    BenchmarkMapPop10000         300           5990814 ns/op
    
    LGTM=iant
    R=golang-codereviews, iant, khr
    CC=golang-codereviews
    https://golang.org/cl/141270043

 src/runtime/hashmap.go  | 33 +++++++++++++++++++++++----------
 src/runtime/map_test.go | 21 +++++++++++++++++++++
 2 files changed, 44 insertions(+), 10 deletions(-)
