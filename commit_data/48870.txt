commit c510cd92cf69df3cdc224b930490274ce1b6e2ac
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Sat Apr 16 07:59:23 2022 -0700

    net: permit use of Resolver.PreferGo, netgo on Windows and Plan 9
    
    Fixes #33097
    
    Change-Id: I2e55c7c113683814521f2068e0922b63c62ea5d8
    Reviewed-on: https://go-review.googlesource.com/c/go/+/400654
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>
    Reviewed-by: Damien Neil <dneil@google.com>
    Auto-Submit: Brad Fitzpatrick <bradfitz@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@google.com>

 src/net/addrselect.go            |   2 -
 src/net/cgo_stub.go              |   2 -
 src/net/conf.go                  |  36 ++++-
 src/net/dnsclient_unix.go        |  24 ++-
 src/net/dnsconfig.go             |  43 +++++
 src/net/dnsconfig_unix.go        |  36 +----
 src/net/dnsconfig_windows.go     |  58 +++++++
 src/net/lookup.go                | 226 +++++++++++++++++++++++++++
 src/net/lookup_plan9.go          |  52 ++++++-
 src/net/lookup_unix.go           | 205 +-----------------------
 src/net/lookup_windows.go        |  93 +++++++----
 src/net/net.go                   |   9 +-
 src/net/net_fake.go              |   6 +
 src/net/netgo.go                 |   9 ++
 src/net/nss.go                   |   2 -
 src/net/resolverdialfunc_test.go | 328 +++++++++++++++++++++++++++++++++++++++
 16 files changed, 838 insertions(+), 293 deletions(-)
