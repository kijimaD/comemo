commit c9211577eb77df9c51f0565f1da7d20ff91d59df
Author: Bryan C. Mills <bcmills@google.com>
Date:   Fri Oct 2 16:25:17 2020 -0400

    cmd/go/internal/modfetch: remove error return from Lookup
    
    We generally don't care about errors in resolving a repo if the result
    we're looking for is already in the module cache. Moreover, we can
    avoid some expense in initializing the repo if all of the methods we
    plan to call on it hit in the cache â€” especially when using
    GOPROXY=direct.
    
    This also incidentally fixes a possible (but rare) bug in Download:
    we had forgotten to reset the downloaded file in case the Zip method
    returned an error after writing a nonzero number of bytes.
    
    For #37438
    
    Change-Id: Ib64f10f763f6d1936536b8e1f7d31ed1b463e955
    Reviewed-on: https://go-review.googlesource.com/c/go/+/259158
    Trust: Bryan C. Mills <bcmills@google.com>
    Trust: Jay Conrod <jayconrod@google.com>
    Run-TryBot: Bryan C. Mills <bcmills@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Michael Matloob <matloob@golang.org>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go/internal/modfetch/cache.go         | 70 ++++++++++++---------------
 src/cmd/go/internal/modfetch/coderepo_test.go | 28 +++--------
 src/cmd/go/internal/modfetch/fetch.go         | 22 +++++++--
 src/cmd/go/internal/modfetch/repo.go          | 38 ++++++++++-----
 src/cmd/go/internal/modload/mvs.go            |  6 +--
 src/cmd/go/internal/modload/query.go          | 10 ++--
 6 files changed, 87 insertions(+), 87 deletions(-)
