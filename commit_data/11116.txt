commit 3fc327b33bede4445ff01072b8cc91c88fbd10fa
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Jan 11 14:20:32 2012 -0800

    go/scanner: 17% faster scanning
    
    - Changed the Scan API semantics slightly:
    The token literal string is only returned
    if the token is a literal, comment, semicolon,
    or illegal character. In all other cases, the
    token literal value is determined by the token
    value.
    
    Clients that care about the token literal value
    when not present can always use the following
    piece of code:
    
    pos, tok, lit := scanner.Scan()
    if lit == "" {
       lit = tok.String()
    }
    
    - Changed token.Lookup API to use a string instead
    of a []byte argument.
    
    - Both these changes were long-standing TODOs.
    
    - Added BenchmarkScan.
    
    This change permits a faster implementation of Scan
    with much fewer string creations:
    
    benchmark                old ns/op    new ns/op    delta
    scanner.BenchmarkScan        74404        61457  -17.40%
    
    R=golang-dev, rsc
    CC=golang-dev
    https://golang.org/cl/5532076

 src/cmd/cgo/gcc.go                 |   2 +-
 src/pkg/go/scanner/scanner.go      | 125 +++++++++++++++++++++----------------
 src/pkg/go/scanner/scanner_test.go |  38 +++++++++--
 src/pkg/go/token/token.go          |  12 ++--
 4 files changed, 110 insertions(+), 67 deletions(-)
