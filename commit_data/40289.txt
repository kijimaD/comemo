commit b6b984fcff9b6b3b8789c0b628e3226c1edc8b81
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Thu Oct 17 12:31:07 2019 -0700

    cmd/compile: escape unsafe.Pointer conversions when -d=checkptr
    
    This CL tweaks escape analysis to treat unsafe.Pointer(ptr) as an
    escaping operation when -d=checkptr is enabled. This allows better
    detection of unsafe pointer arithmetic and conversions, because the
    runtime checkptr instrumentation can currently only detect object
    boundaries for heap objects, not stack objects.
    
    Updates #22218.
    Fixes #34959.
    
    Change-Id: I856812cc23582fe4d0d401592583323e95919f28
    Reviewed-on: https://go-review.googlesource.com/c/go/+/201781
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    Reviewed-by: Keith Randall <khr@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/compile/internal/gc/escape.go | 10 +++++++++-
 src/cmd/compile/internal/gc/walk.go   |  8 +++++++-
 2 files changed, 16 insertions(+), 2 deletions(-)
