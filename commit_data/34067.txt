commit ee4fbbc6211cd978f199dd26ab73ff72cc8d95fd
Author: Russ Cox <rsc@golang.org>
Date:   Fri Jun 9 15:46:47 2017 -0400

    cmd/go: stop creating nested temp directory trees
    
    Now that we have -importcfg, there's no need for the
    temporary directory trees that mirror the import path structure,
    and we can drop a bunch of complex code that was building
    and maintaining that structure.
    
    This should fix "file name too long" errors on systems with low limits.
    (For example #10651 and #17070, although we fixed those by
    adding code to deal with very long file names on Windows instead.)
    
    Change-Id: I11e221c6c1edeb81c3b2f1d89988f5235aa2bbb9
    Reviewed-on: https://go-review.googlesource.com/56280
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/go/internal/test/test.go  | 100 +++++++++++++---------------------
 src/cmd/go/internal/work/build.go | 109 +++++++++++++-------------------------
 2 files changed, 72 insertions(+), 137 deletions(-)
