commit ceb849dd97aebf08eee5f3683619494c56190f81
Author: Robert Griesemer <gri@golang.org>
Date:   Sat Jan 12 20:33:58 2019 -0800

    cmd/compile: accept new Go2 number literals
    
    This CL introduces compiler support for the new binary and octal integer
    literals, hexadecimal floats, and digit separators for all number literals.
    
    The new Go 2 number literal scanner accepts the following liberal format:
    
    number   = [ prefix ] digits [ "." digits ] [ exponent ] [ "i" ] .
    prefix   = "0" [ "b" |"B" | "o" | "O" | "x" | "X" ] .
    digits   = { digit | "_" } .
    exponent = ( "e" | "E" | "p" | "P" ) [ "+" | "-" ] digits .
    
    If the number starts with "0x" or "0X", digit is any hexadecimal digit;
    otherwise, digit is any decimal digit. If the accepted number is not valid,
    errors are reported accordingly.
    
    See the new test cases in scanner_test.go for a selection of valid and
    invalid numbers and the respective error messages.
    
    R=Go1.13
    
    Updates #12711.
    Updates #19308.
    Updates #28493.
    Updates #29008.
    
    Change-Id: Ic8febc7bd4dc5186b16a8c8897691e81125cf0ca
    Reviewed-on: https://go-review.googlesource.com/c/157677
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/compile/internal/gc/mpfloat.go          |   6 +-
 src/cmd/compile/internal/gc/mpint.go            |   7 +
 src/cmd/compile/internal/syntax/scanner.go      | 233 +++++++++++++++++-------
 src/cmd/compile/internal/syntax/scanner_test.go | 224 ++++++++++++++++++++++-
 src/go/types/stdlib_test.go                     |   1 +
 test/fixedbugs/issue9036.go                     |  16 +-
 test/literal2.go                                |  88 +++++++++
 7 files changed, 487 insertions(+), 88 deletions(-)
