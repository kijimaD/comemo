commit 10e2ffdf2ca657567fc1708f6387fef69a8445b6
Author: Andrew Gerrand <adg@golang.org>
Date:   Thu Aug 29 14:41:44 2013 +1000

    os/exec: return idempotent Closer from StdinPipe
    
    Before this fix, it was always an error to use the Close method on the
    io.WriteCloser obtained from Cmd.StdinPipe, as it would race with the
    Close performed by Cmd.Wait.
    
    Fixes #6270.
    
    R=golang-dev, r, remyoudompheng, bradfitz, dsymonds
    CC=golang-dev
    https://golang.org/cl/13329043

 src/pkg/os/exec/exec.go      | 22 ++++++++++++++++++++--
 src/pkg/os/exec/exec_test.go | 39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 59 insertions(+), 2 deletions(-)
