commit 8bc5ef6cd7627eb6fe41e4f60cb33221d681927d
Author: Mike Samuel <mikesamuel@gmail.com>
Date:   Mon Sep 19 19:52:31 2011 -0700

    exp/template/html: allow commenting out of actions
    
    Instead of erroring on actions inside comments, use existing escaping
    pipeline to quash the output of actions inside comments.
    
    If a template maintainer uses a comment to disable template code:
    
      {{if .}}Hello, {{.}}!{{end}}
    
    ->
    
      <!--{{if true}}Hello, {{.}}!{{end}}-->
    
    will result in
    
      <!--Hello, !-->
    
    regardless of the value of {{.}}.
    
    In a later CL, comment elision will result in the entire commented-out
    section being dropped from the template output.
    
    Any side-effects in pipelines, such as panics, will still be realized.
    
    R=nigeltao
    CC=golang-dev
    https://golang.org/cl/5078041

 src/pkg/exp/template/html/error.go       |  13 ----
 src/pkg/exp/template/html/escape.go      |   9 ++-
 src/pkg/exp/template/html/escape_test.go | 105 ++++++++++++++++++++++++-------
 src/pkg/exp/template/html/html.go        |  10 +++
 4 files changed, 98 insertions(+), 39 deletions(-)
