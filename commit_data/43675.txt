commit 8ab37b1bafdd0040530f976f45c417029cda6965
Author: Jeremy Faller <jeremy@golang.org>
Date:   Fri Apr 17 16:11:28 2020 -0400

    [dev.link] cmd/link: fallocate space, and remove all msync calls
    
    The fallocate calls will lower the chances of SIGBUS in the linker, but
    it might still happen on other unsupported platforms and filesystems.
    
    Darwin cmd/compile stats:
    
    Munmap                    16.0ms ± 8%     0.8ms ± 3%   -95.19%  (p=0.000 n=8+10)
    TotalTime                  484ms ± 2%     462ms ± 2%    -4.52%  (p=0.000 n=10+9)
    
    Updates #37310
    
    Change-Id: I41c6e490adec26fa1ebee49a5b268828f5ba05e1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/228385
    Run-TryBot: Jeremy Faller <jeremy@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/link/internal/ld/outbuf.go             |  9 +++++++-
 src/cmd/link/internal/ld/outbuf_darwin.go      | 26 +++++++++++++++++++++
 src/cmd/link/internal/ld/outbuf_linux.go       | 11 +++++++++
 src/cmd/link/internal/ld/outbuf_mmap.go        | 31 +++++++++-----------------
 src/cmd/link/internal/ld/outbuf_nofallocate.go | 13 +++++++++++
 src/cmd/link/internal/ld/outbuf_nommap.go      |  3 +--
 src/cmd/link/internal/ld/outbuf_test.go        |  3 +++
 src/cmd/link/internal/ld/outbuf_windows.go     |  7 ------
 8 files changed, 73 insertions(+), 30 deletions(-)
