commit b788fd80e68addd181983ca589d28bc1075f4a36
Author: Russ Cox <rsc@golang.org>
Date:   Thu Feb 9 13:58:48 2017 -0500

    runtime: new profile buffer implementation supporting label pointers
    
    The existing CPU profiling buffer is a slice of uintptr, but we want to
    start including profiling label data in the profiles, and those labels need
    to be pointers in order to let them describe rich information.
    
    This CL implements a new profBuf type that holds both a slice of uint64
    for data and a slice of unsafe.Pointer for profiling labels (aka tags).
    Making the runtime use these buffers will happen in followup CLs.
    
    Change-Id: I9ff16b532d8edaf4ce0cbba1098229a561834efc
    Reviewed-on: https://go-review.googlesource.com/36713
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Austin Clements <austin@google.com>

 src/runtime/export_test.go  |  23 ++
 src/runtime/mbarrier.go     |   5 +
 src/runtime/profbuf.go      | 548 ++++++++++++++++++++++++++++++++++++++++++++
 src/runtime/profbuf_test.go | 182 +++++++++++++++
 src/runtime/runtime2.go     |   7 +-
 5 files changed, 761 insertions(+), 4 deletions(-)
