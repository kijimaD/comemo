commit c751e2e6ba30fc319c93b9cfe207dc7d1b48c3fb
Author: Robert Griesemer <gri@golang.org>
Date:   Mon Jul 26 14:50:57 2021 -0700

    [dev.typeparams] cmd/compile/internal/types2: use comparable bit rather than ==() method
    
    This removes the special "==" methods from comparable interfaces in
    favor of a "comparable" flag in TypeSets indicating that the interface
    is or embeds comparable. Fixes various related implementation
    inaccuracies.
    
    While at it, fix setup of the predeclared error and comparable
    interface types by associating their respective type name objects
    with them.
    
    For #47411.
    
    Change-Id: I409f880c8c8f2fe345621401267e4aaabd17124d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/337354
    Trust: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/types2/instantiate.go     | 16 +++++++++----
 src/cmd/compile/internal/types2/interface.go       |  2 +-
 src/cmd/compile/internal/types2/lookup.go          | 10 +-------
 src/cmd/compile/internal/types2/predicates.go      | 17 +-------------
 src/cmd/compile/internal/types2/sizeof_test.go     |  2 +-
 .../internal/types2/testdata/check/issues.go2      |  6 ++---
 .../types2/testdata/fixedbugs/issue47411.go2       | 26 +++++++++++++++++++++
 src/cmd/compile/internal/types2/typeset.go         | 27 ++++++++++++++++++----
 src/cmd/compile/internal/types2/universe.go        | 12 ++++------
 9 files changed, 71 insertions(+), 47 deletions(-)
