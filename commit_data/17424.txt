commit 66c8935f732db28632b75aea456c682487febf15
Author: RÃ©my Oudompheng <oudomphe@phare.normalesup.org>
Date:   Thu Aug 29 10:16:09 2013 +0200

    cmd/gc: fix detection of initialization loop.
    
    The compiler computes initialization order by finding
    a spanning tree between a package's global variables.
    But it does so by walking both variables and functions
    and stops detecting cycles between variables when they
    mix with a cycle of mutually recursive functions.
    
    Fixes #4847.
    
    R=golang-dev, daniel.morsing, rsc
    CC=golang-dev
    https://golang.org/cl/9663047

 src/cmd/gc/sinit.c          | 78 ++++++++++++++++++++++++++++-----------------
 test/fixedbugs/issue4847.go | 24 ++++++++++++++
 2 files changed, 73 insertions(+), 29 deletions(-)
