commit 7e9f911ec4fd08ce9b4296f0aea4864b53064573
Author: Dan Scales <danscales@google.com>
Date:   Thu Aug 12 09:58:54 2021 -0700

    [dev.typeparams] cmd/compile:  remove some shape checks in type substituter, other cleanups
    
    The type substituter (typecheck.Typ()) was temporarily substituting from
    shapes back to concrete types, but doesn't need to anymore. So, remove
    two shape checks, so the type substituter is now only for substituting
    type params again.
    
    Several other cleanups:
    
     - renamed makeGenericName() to makeInstName1(), since that function is
       a helper to MakeInstName() and MakeDictName() that definitely makes
       instantiated names, not generic names.
    
     - removed the logic in makeInstName1() that adds the ".inst." prefix
       for concrete type args. We are only specifying concrete type args (as
       opposed to shape args) when we are calling from MakeDictName, and
       then we immediately strip of the .inst prefix anyway.
    
     - Added a comment on types.Identical that a shape type is considered
       identicall to another type if their underlying types are the same, or
       they are both pointers.
    
    Change-Id: I3e0206dbd403897797ae7bec3c527ae16b0b930a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/341729
    Run-TryBot: Dan Scales <danscales@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>
    Trust: Dan Scales <danscales@google.com>

 src/cmd/compile/internal/typecheck/subr.go | 40 ++++++++----------------------
 src/cmd/compile/internal/types/identity.go |  7 ++++--
 2 files changed, 15 insertions(+), 32 deletions(-)
