commit 23943a67378040340d835734a55dee7cb639e586
Author: Cuong Manh Le <cuong.manhle.vn@gmail.com>
Date:   Fri Feb 26 10:17:09 2021 +0700

    cmd/compile: fix mishandling of unsafe-uintptr arguments with call method in go/defer
    
    In CL 253457, we did the same fix for direct function calls. But for
    method calls, the receiver argument also need to be passed through the
    wrapper function, which we are not doing so the compiler crashes with
    the code in #44415.
    
    It will be nicer if we can rewrite OCALLMETHOD to normal OCALLFUNC, but
    that will be for future CL. The passing receiver argument to wrapper
    function is easier for backporting to go1.16 branch.
    
    Fixes #44415
    
    Change-Id: I03607a64429042c6066ce673931db9769deb3124
    Reviewed-on: https://go-review.googlesource.com/c/go/+/296490
    Trust: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Run-TryBot: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>

 src/cmd/compile/internal/walk/stmt.go | 21 +++++++++++++++++----
 test/fixedbugs/issue24491a.go         | 31 +++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+), 4 deletions(-)
