commit dc00dc6c6bf3b5554e37f60799aec092276ff807
Author: Filippo Valsorda <filippo@golang.org>
Date:   Mon Jun 7 08:24:22 2021 -0400

    crypto/tls: let HTTP/1.1 clients connect to servers with NextProtos "h2"
    
    Fixes #46310
    
    Change-Id: Idd5e30f05c439f736ae6f3904cbb9cc2ba772315
    Reviewed-on: https://go-review.googlesource.com/c/go/+/325432
    Trust: Filippo Valsorda <filippo@golang.org>
    Run-TryBot: Filippo Valsorda <filippo@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Roland Shoemaker <roland@golang.org>

 src/crypto/tls/handshake_client.go                 |  44 +++++----
 src/crypto/tls/handshake_client_tls13.go           |  14 +--
 src/crypto/tls/handshake_server.go                 |  42 +++++++--
 src/crypto/tls/handshake_server_test.go            |  21 +++++
 src/crypto/tls/handshake_server_tls13.go           |  15 ++--
 .../tls/testdata/Server-TLSv12-ALPN-Fallback       |  91 +++++++++++++++++++
 .../tls/testdata/Server-TLSv13-ALPN-Fallback       | 100 +++++++++++++++++++++
 7 files changed, 277 insertions(+), 50 deletions(-)
