commit 5b9207ff67bd3df43a95fd403b2e06e2aa4c33bf
Author: Dan Scales <danscales@google.com>
Date:   Mon Dec 13 12:42:38 2021 -0800

    cmd/compile: avoid re-instantiating method that is already imported
    
    We can import an shape-instantiated function/method for inlining
    purposes. If we are instantiating the methods of a instantiated type
    that we have seen, and it happens to need a shape instantiation that we
    have imported, then don't re-create the instantiation, since we will end
    up with conflicting/duplicate definitions for the instantiation symbol.
    Instead, we can just use the existing imported instantation, and enter
    it in the instInfoMap[].
    
    Fixes #50121
    
    Change-Id: I6eeb8786faad71106e261e113048b579afad04fa
    Reviewed-on: https://go-review.googlesource.com/c/go/+/371414
    Trust: Dan Scales <danscales@google.com>
    Run-TryBot: Dan Scales <danscales@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/noder/stencil.go | 19 +++++++++++++++++--
 test/typeparam/issue50121.dir/a.go        | 22 ++++++++++++++++++++++
 test/typeparam/issue50121.dir/main.go     | 18 ++++++++++++++++++
 test/typeparam/issue50121.go              |  7 +++++++
 4 files changed, 64 insertions(+), 2 deletions(-)
