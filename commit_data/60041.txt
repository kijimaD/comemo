commit 41aab30bd260297ad8ddad47e98fdf8390a9a67e
Author: Cherry Mui <cherryyz@google.com>
Date:   Thu May 16 17:19:15 2024 -0400

    all: add push linknames to allow legacy pull linknames
    
    CL 585358 adds restrictions to disallow pull-only linknames
    (currently off by default). Currently, there are quite some pull-
    only linknames in user code in the wild. In order not to break
    those, we add push linknames to allow them to be pulled. This CL
    includes linknames found in a large code corpus (thanks Matthew
    Dempsky and Michael Pratt for the analysis!), that are not
    currently linknamed.
    
    Updates #67401.
    
    Change-Id: I32f5fc0c7a6abbd7a11359a025cfa2bf458fe767
    Reviewed-on: https://go-review.googlesource.com/c/go/+/586137
    Reviewed-by: Russ Cox <rsc@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 src/cmd/link/link_test.go                     |   1 +
 src/cmd/link/testdata/linkname/badlinkname.go |  24 ++++++
 src/crypto/tls/badlinkname.go                 |  27 ++++++
 src/crypto/x509/badlinkname.go                |  15 ++++
 src/database/sql/badlinkname.go               |  16 ++++
 src/go/build/badlinkname.go                   |  23 +++++
 src/go/types/badlinkname.go                   |  20 +++++
 src/internal/cpu/badlinkname_linux_arm64.go   |  15 ++++
 src/internal/poll/badlinkname.go              |  15 ++++
 src/internal/testlog/badlinkname.go           |  15 ++++
 src/math/big/badlinkname.go                   |  21 +++++
 src/mime/multipart/badlinkname.go             |  15 ++++
 src/net/badlinkname.go                        |  16 ++++
 src/net/http/badlinkname.go                   |  36 ++++++++
 src/net/url/badlinkname.go                    |  20 +++++
 src/reflect/badlinkname.go                    | 118 ++++++++++++++++++++++++++
 src/runtime/badlinkname.go                    |  44 ++++++++++
 src/runtime/badlinkname_linux_amd64.go        |  15 ++++
 src/runtime/time_nofake.go                    |   4 +
 src/sync/badlinkname.go                       |  15 ++++
 src/syscall/badlinkname_unix.go               |  18 ++++
 src/time/badlinkname.go                       |  17 ++++
 22 files changed, 510 insertions(+)
