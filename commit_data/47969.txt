commit 985d97e602cb39c7739c072250e09ba61e440318
Author: Michael Pratt <mpratt@google.com>
Date:   Tue Dec 7 12:01:04 2021 -0500

    runtime/pprof: assert that labels never appear on unexpected samples
    
    This makes TestLabelSystemstack much more strict, enabling it to detect
    any misplacement of labels.
    
    Unfortunately, there are several edge cases where we may not have an
    obviously correct stack trace, so we generally except the runtime
    package, with the exception of background goroutines that we know should
    not be labeled.
    
    For #50007
    For #50032
    
    Change-Id: I8dce7e7da04f278ce297422227901efe52782ca0
    Reviewed-on: https://go-review.googlesource.com/c/go/+/369984
    Trust: Michael Pratt <mpratt@google.com>
    Run-TryBot: Michael Pratt <mpratt@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Austin Clements <austin@google.com>

 src/runtime/pprof/pprof_test.go | 107 +++++++++++++++++++++++++++++++---------
 1 file changed, 83 insertions(+), 24 deletions(-)
