commit 92bbecc518533867a9bb381e261196111db2dd80
Author: Damien Neil <dneil@google.com>
Date:   Thu Aug 24 10:58:51 2023 -0700

    net/http: deflake TestRequestBodyLimit
    
    This test can return with a Transport still processing
    an in-flight request, resulting in a test failure due
    to the leaked Transport.
    
    Avoid this by waiting for the Transport to close the
    request body before returning.
    
    Fixes #60264
    
    Change-Id: I8d8b54f633c2e28da2b1bf1bc01ce09dd77769de
    Reviewed-on: https://go-review.googlesource.com/c/go/+/522695
    Reviewed-by: Bryan Mills <bcmills@google.com>
    Auto-Submit: Damien Neil <dneil@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Run-TryBot: Damien Neil <dneil@google.com>

 src/net/http/serve_test.go | 49 +++++++++++++++++++++++++++++++++++-----------
 1 file changed, 38 insertions(+), 11 deletions(-)
