commit 2f09b599c31428720f23f284d56dbb9a3d4b1afa
Merge: 412944484c 919a6fbeab
Author: Keith Randall <khr@golang.org>
Date:   Wed Apr 1 13:51:08 2015 -0700

    [dev.ssa] Merge remote-tracking branch 'origin/master' into merge
    
    Semi-regular merge of tip into dev.ssa.
    
    Change-Id: I6f96b3b2b1b52e0e2ae5451767051fbd42ae0dbe

 .gitignore                                         |   14 +-
 api/next.txt                                       |   80 -
 doc/contribute.html                                |   78 +-
 doc/effective_go.html                              |    2 +-
 doc/go1.4.html                                     |    2 +-
 doc/go1.5.txt                                      |   40 +-
 doc/go_mem.html                                    |    8 +-
 doc/go_spec.html                                   |   23 +-
 misc/cgo/errors/test.bash                          |    2 +
 misc/cgo/testgodefs/test.bash                      |    2 +
 misc/cgo/testso/test.bat                           |    2 +-
 misc/ios/go_darwin_arm_exec.go                     |  597 +++
 misc/nacl/README                                   |   19 +-
 misc/swig/callback/callback_test.go                |   13 +-
 src/archive/zip/struct.go                          |    2 +-
 src/archive/zip/writer.go                          |   11 +
 src/archive/zip/writer_test.go                     |   35 +
 src/bootstrap.bash                                 |   71 +
 src/bufio/scan.go                                  |    2 +-
 src/bytes/bytes.go                                 |    2 +-
 src/bytes/compare_test.go                          |    3 +
 src/cmd/5g/cgen.go                                 | 1891 +--------
 src/cmd/5g/cgen64.go                               |  140 +-
 src/cmd/5g/galign.go                               |   34 +-
 src/cmd/5g/gg.go                                   |   32 -
 src/cmd/5g/ggen.go                                 |  473 +--
 src/cmd/5g/gsubr.go                                |  522 +--
 src/cmd/5g/peep.go                                 |   91 +-
 src/cmd/5g/prog.go                                 |  177 +-
 src/cmd/5l/asm.go                                  |   94 +-
 src/cmd/5l/l.go                                    |    4 +-
 src/cmd/5l/obj.go                                  |   11 +-
 src/cmd/6g/cgen.go                                 | 1758 +--------
 src/cmd/6g/galign.go                               |   40 +-
 src/cmd/6g/ggen.go                                 |  614 +--
 src/cmd/6g/gsubr.go                                |  530 +--
 src/cmd/6g/peep.go                                 |  107 +-
 src/cmd/6g/prog.go                                 |  425 +-
 src/cmd/6g/reg.go                                  |   12 +-
 src/cmd/6l/asm.go                                  |  155 +-
 src/cmd/6l/l.go                                    |   38 +-
 src/cmd/6l/obj.go                                  |    6 +-
 src/cmd/7g/cgen.go                                 |  157 +
 src/cmd/7g/galign.go                               |   90 +
 src/cmd/{9g => 7g}/gg.go                           |    4 +-
 src/cmd/7g/ggen.go                                 |  534 +++
 src/cmd/7g/gsubr.go                                |  977 +++++
 src/cmd/{internal/gc/bits.go => 7g/peep.go}        |  150 +-
 src/cmd/7g/prog.go                                 |  171 +
 src/cmd/7g/reg.go                                  |  164 +
 src/cmd/{internal/obj/i386 => 7g}/util.go          |    2 +-
 src/cmd/7l/asm.go                                  |  260 ++
 src/cmd/7l/l.go                                    |   77 +
 src/cmd/7l/obj.go                                  |  152 +
 src/cmd/8g/cgen.go                                 | 1645 +-------
 src/cmd/8g/cgen64.go                               |  280 +-
 src/cmd/8g/galign.go                               |   54 +-
 src/cmd/8g/gg.go                                   |    4 +-
 src/cmd/8g/ggen.go                                 |  703 +---
 src/cmd/8g/gsubr.go                                |  865 ++--
 src/cmd/8g/peep.go                                 |  269 +-
 src/cmd/8g/prog.go                                 |  447 +--
 src/cmd/8g/reg.go                                  |   30 +-
 src/cmd/8l/asm.go                                  |  126 +-
 src/cmd/8l/l.go                                    |   38 +-
 src/cmd/8l/obj.go                                  |   11 +-
 src/cmd/9g/cgen.go                                 | 1775 +--------
 src/cmd/9g/galign.go                               |   32 +-
 src/cmd/9g/ggen.go                                 |  479 +--
 src/cmd/9g/gsubr.go                                |  345 +-
 src/cmd/9g/opt.go                                  |   38 +-
 src/cmd/9g/peep.go                                 |   68 +-
 src/cmd/9g/prog.go                                 |  138 +-
 src/cmd/9g/reg.go                                  |    2 +-
 src/cmd/9l/asm.go                                  |  113 +-
 src/cmd/9l/l.go                                    |    2 +-
 src/cmd/9l/obj.go                                  |    2 +-
 src/cmd/asm/internal/arch/arch.go                  |  342 +-
 src/cmd/asm/internal/arch/arm.go                   |   41 +-
 src/cmd/asm/internal/arch/arm64.go                 |  114 +
 src/cmd/asm/internal/asm/asm.go                    |  156 +-
 src/cmd/asm/internal/asm/endtoend_test.go          |    4 +-
 src/cmd/asm/internal/asm/operand_test.go           |  108 +-
 src/cmd/asm/internal/asm/parse.go                  |   56 +-
 src/cmd/asm/internal/asm/testdata/386.out          |   97 +-
 src/cmd/asm/internal/asm/testdata/386.s            |    4 +
 src/cmd/asm/internal/asm/testdata/amd64.out        |  113 +-
 src/cmd/asm/internal/asm/testdata/amd64.s          |    6 +-
 src/cmd/asm/internal/asm/testdata/arm.out          |  108 +-
 src/cmd/asm/internal/asm/testdata/arm.s            |    4 +-
 src/cmd/asm/internal/asm/testdata/ppc64.out        |  220 +-
 src/cmd/asm/internal/flags/flags.go                |    1 +
 src/cmd/asm/main.go                                |    3 +
 src/cmd/cgo/gcc.go                                 |    2 +-
 src/cmd/cgo/main.go                                |    4 +-
 src/cmd/cgo/util.go                                |    2 +-
 src/cmd/dist/build.go                              |   13 +-
 src/cmd/dist/buildruntime.go                       |   21 +-
 src/cmd/dist/buildtool.go                          |    6 +-
 src/cmd/dist/main.go                               |    1 +
 src/cmd/dist/test.go                               |  585 +++
 src/cmd/dist/util.go                               |    7 +-
 src/cmd/fix/fix.go                                 |   20 +-
 src/cmd/go/build.go                                |  334 +-
 src/cmd/go/doc.go                                  |    8 +-
 src/cmd/go/env.go                                  |    5 +-
 src/cmd/go/generate.go                             |    4 +
 src/cmd/go/generate_test.go                        |    1 +
 src/cmd/go/get.go                                  |   10 +
 src/cmd/go/main.go                                 |   11 +
 src/cmd/go/pkg.go                                  |    5 +-
 src/cmd/go/test.bash                               |   10 +
 src/cmd/go/test.go                                 |    9 +-
 src/cmd/go/testflag.go                             |   39 +-
 src/cmd/gofmt/gofmt.go                             |  156 +-
 src/cmd/gofmt/long_test.go                         |    5 +-
 src/cmd/gofmt/rewrite.go                           |    2 +-
 src/cmd/internal/asm/asm.go                        |    8 +-
 src/cmd/internal/asm/lexbody.go                    |  134 +-
 src/cmd/internal/asm/macbody.go                    |  141 +-
 src/cmd/internal/gc/align.go                       |  153 +-
 src/cmd/internal/gc/builtin.go                     |    7 +-
 .../internal/gc/{builtins => builtin}/runtime.go   |    7 +-
 .../internal/gc/{builtins => builtin}/unsafe.go    |    0
 src/cmd/internal/gc/bv.go                          |  106 +-
 src/cmd/internal/gc/cgen.go                        | 2564 ++++++++++++
 src/cmd/internal/gc/closure.go                     |  158 +-
 src/cmd/internal/gc/const.go                       |  314 +-
 src/cmd/internal/gc/cplx.go                        |   94 +-
 src/cmd/internal/gc/dcl.go                         |   84 +-
 src/cmd/internal/gc/esc.go                         |  187 +-
 src/cmd/internal/gc/export.go                      |   49 +-
 src/cmd/internal/gc/fmt.go                         |  639 ++-
 src/cmd/internal/gc/gen.go                         |  561 ++-
 src/cmd/internal/gc/go.go                          |  973 ++---
 src/cmd/internal/gc/go.y                           |   62 +-
 src/cmd/internal/gc/gsubr.go                       |  316 +-
 src/cmd/internal/gc/init.go                        |   49 +-
 src/cmd/internal/gc/inl.go                         |  132 +-
 src/cmd/internal/gc/lex.go                         |  655 ++--
 src/cmd/internal/gc/md5.go                         |  298 --
 src/cmd/internal/gc/mkbuiltin.go                   |    2 +-
 src/cmd/internal/gc/mparith1.go                    |  312 +-
 src/cmd/internal/gc/mparith2.go                    |  359 +-
 src/cmd/internal/gc/mparith3.go                    |   20 +-
 src/cmd/internal/gc/obj.go                         |   69 +-
 src/cmd/internal/gc/order.go                       |   90 +-
 src/cmd/internal/gc/pgen.go                        |  104 +-
 src/cmd/internal/gc/plive.go                       |  498 +--
 src/cmd/internal/gc/popt.go                        |  274 +-
 src/cmd/internal/gc/racewalk.go                    |   53 +-
 src/cmd/internal/gc/range.go                       |   28 +-
 src/cmd/internal/gc/reflect.go                     |  136 +-
 src/cmd/internal/gc/reg.go                         |  451 ++-
 src/cmd/internal/gc/select.go                      |   18 +-
 src/cmd/internal/gc/sinit.go                       |  162 +-
 src/cmd/internal/gc/subr.go                        |  743 ++--
 src/cmd/internal/gc/swt.go                         | 1276 +++---
 src/cmd/internal/gc/syntax.go                      |  449 +++
 src/cmd/internal/gc/typecheck.go                   | 1538 ++++----
 src/cmd/internal/gc/unsafe.go                      |   21 +-
 src/cmd/internal/gc/util.go                        |    7 +-
 src/cmd/internal/gc/walk.go                        |  922 +++--
 src/cmd/internal/gc/y.go                           |   62 +-
 src/cmd/internal/ld/ar.go                          |    7 +-
 src/cmd/internal/ld/arch.go                        |   15 +-
 src/cmd/internal/ld/data.go                        |  309 +-
 src/cmd/internal/ld/decodesym.go                   |   28 +-
 src/cmd/internal/ld/dwarf.go                       |  463 +--
 src/cmd/internal/ld/dwarf_defs.go                  |  492 +--
 src/cmd/internal/ld/elf.go                         |  368 +-
 src/cmd/internal/ld/fmt.go                         |   60 -
 src/cmd/internal/ld/go.go                          |  295 +-
 src/cmd/internal/ld/ld.go                          |   17 +-
 src/cmd/internal/ld/ldelf.go                       |  283 +-
 src/cmd/internal/ld/ldmacho.go                     |  176 +-
 src/cmd/internal/ld/ldpe.go                        |   79 +-
 src/cmd/internal/ld/lib.go                         |  558 +--
 src/cmd/internal/ld/link.go                        |    8 +-
 src/cmd/internal/ld/macho.go                       |  191 +-
 src/cmd/internal/ld/objfile.go                     |  108 +-
 src/cmd/internal/ld/pcln.go                        |  149 +-
 src/cmd/internal/ld/pe.go                          |  461 ++-
 src/cmd/internal/ld/pobj.go                        |    5 -
 src/cmd/internal/ld/sym.go                         |   29 +-
 src/cmd/internal/ld/symtab.go                      |  165 +-
 src/cmd/internal/ld/util.go                        |    7 +-
 src/cmd/internal/ld/z.go                           |    1 -
 src/cmd/internal/obj/arm/5.out.go                  |  125 +-
 src/cmd/internal/obj/arm/anames.go                 |  108 +
 src/cmd/internal/obj/arm/anames5.go                |  125 +-
 src/cmd/internal/obj/arm/asm5.go                   |  473 +--
 src/cmd/internal/obj/arm/list5.go                  |  125 +-
 src/cmd/internal/obj/arm/obj5.go                   |  105 +-
 src/cmd/internal/obj/arm64/7.out.go                |  711 ++++
 src/cmd/internal/obj/arm64/anames.go               |  379 ++
 src/cmd/internal/obj/arm64/anames7.go              |   62 +
 src/cmd/internal/obj/arm64/asm7.go                 | 4141 ++++++++++++++++++++
 src/cmd/internal/obj/arm64/list7.go                |  114 +
 src/cmd/internal/obj/arm64/obj7.go                 |  828 ++++
 src/cmd/internal/obj/arm64/util.go                 |   12 +
 src/cmd/internal/obj/data.go                       |    6 +-
 src/cmd/internal/obj/go.go                         |    2 +-
 src/cmd/internal/obj/i386/8.out.go                 |  594 ---
 src/cmd/internal/obj/i386/anames8.go               |  524 ---
 src/cmd/internal/obj/i386/asm8.go                  | 3496 -----------------
 src/cmd/internal/obj/i386/list8.go                 |  164 -
 src/cmd/internal/obj/i386/obj8.go                  |  925 -----
 src/cmd/internal/obj/line_test.go                  |   51 +
 src/cmd/internal/obj/link.go                       |  593 ++-
 src/cmd/internal/obj/mgc0.go                       |    5 +-
 src/cmd/internal/obj/obj.go                        |  471 +--
 src/cmd/internal/obj/objfile.go                    |  112 +-
 src/cmd/internal/obj/pass.go                       |   22 +-
 src/cmd/internal/obj/ppc64/9.out.go                |  112 +-
 src/cmd/internal/obj/ppc64/anames.go               |  300 ++
 src/cmd/internal/obj/ppc64/anames9.go              |  316 --
 src/cmd/internal/obj/ppc64/asm9.go                 |  973 +++--
 src/cmd/internal/obj/ppc64/list9.go                |  105 +-
 src/cmd/internal/obj/ppc64/obj9.go                 |   84 +-
 src/cmd/internal/obj/stringer.go                   |  104 +
 src/cmd/internal/obj/sym.go                        |   39 +-
 src/cmd/internal/obj/util.go                       |  169 +-
 src/cmd/internal/obj/x86/6.out.go                  |  146 +-
 src/cmd/internal/obj/x86/{anames6.go => anames.go} |   42 +-
 src/cmd/internal/obj/x86/asm6.go                   | 2795 +++++++------
 src/cmd/internal/obj/x86/list6.go                  |   60 +-
 src/cmd/internal/obj/x86/obj6.go                   |  344 +-
 src/cmd/objdump/objdump_test.go                    |    4 +
 src/cmd/old5a/a.y                                  |   14 +-
 src/cmd/old5a/y.go                                 |   14 +-
 src/cmd/old6a/a.y                                  |   38 +-
 src/cmd/old6a/lex.go                               |    6 +-
 src/cmd/old6a/y.go                                 |  254 +-
 src/cmd/old8a/a.y                                  |   22 +-
 src/cmd/old8a/lex.go                               | 1200 +++---
 src/cmd/old8a/y.go                                 |  196 +-
 src/cmd/old9a/a.y                                  |   14 +-
 src/cmd/old9a/y.go                                 |   14 +-
 src/cmd/pprof/internal/profile/filter.go           |    1 +
 src/cmd/trace/goroutines.go                        |  182 +-
 src/cmd/trace/trace.go                             |   23 +-
 src/cmd/yacc/doc.go                                |    2 +-
 src/cmd/yacc/testdata/expr/expr.y                  |   10 +-
 src/compress/flate/deflate.go                      |    2 +-
 src/crypto/crypto.go                               |   16 +
 src/crypto/ecdsa/ecdsa.go                          |    2 +-
 src/crypto/elliptic/elliptic.go                    |    2 +-
 src/crypto/hmac/hmac.go                            |    2 +-
 src/crypto/rsa/pkcs1v15.go                         |   10 +
 src/crypto/rsa/pkcs1v15_test.go                    |   43 +-
 src/crypto/rsa/rsa.go                              |   41 +
 src/crypto/tls/cipher_suites.go                    |    9 +-
 src/crypto/tls/common.go                           |   12 +-
 src/crypto/tls/handshake_client_test.go            |   10 +
 src/crypto/tls/handshake_server.go                 |    4 +-
 src/crypto/tls/handshake_server_test.go            |   37 +-
 src/crypto/tls/prf.go                              |   23 +-
 .../Client-TLSv12-ClientCert-RSA-AES256-GCM-SHA384 |  138 +
 src/crypto/x509/cert_pool.go                       |    2 +-
 src/crypto/x509/pem_decrypt.go                     |    5 +-
 src/crypto/x509/sha2_windows_test.go               |   19 +
 src/crypto/x509/verify_test.go                     |    7 +
 src/database/sql/sql.go                            |   16 +
 src/database/sql/sql_test.go                       |   20 +
 src/debug/dwarf/buf.go                             |   11 +
 src/debug/dwarf/const.go                           |   28 +
 src/debug/dwarf/entry.go                           |   19 +-
 src/debug/dwarf/line.go                            |  590 +++
 src/debug/dwarf/line_test.go                       |  229 ++
 src/debug/dwarf/testdata/line-clang.elf            |  Bin 0 -> 10271 bytes
 src/debug/dwarf/testdata/line-gcc.elf              |  Bin 0 -> 10113 bytes
 src/debug/dwarf/testdata/line1.c                   |    9 +
 src/debug/dwarf/testdata/line1.h                   |    7 +
 src/debug/dwarf/testdata/line2.c                   |    6 +
 src/debug/dwarf/typeunit.go                        |   16 +-
 src/debug/dwarf/unit.go                            |   41 +-
 src/debug/elf/file.go                              |  185 +-
 src/debug/elf/file_test.go                         |   12 +
 .../elf/testdata/go-relocation-test-gcc492-arm.obj |  Bin 0 -> 2648 bytes
 .../elf/testdata/go-relocation-test-gcc5-ppc.obj   |  Bin 0 -> 2356 bytes
 src/debug/gosym/symtab.go                          |    2 +-
 src/debug/macho/file.go                            |   10 +-
 src/debug/pe/file.go                               |   10 +-
 src/encoding/asn1/asn1.go                          |    2 +-
 src/encoding/asn1/marshal.go                       |    2 +-
 src/encoding/binary/binary.go                      |   16 -
 src/encoding/csv/writer.go                         |    2 +-
 src/encoding/xml/marshal.go                        |   84 +-
 src/encoding/xml/marshal_test.go                   |   52 +-
 src/encoding/xml/typeinfo.go                       |    8 +
 src/flag/flag.go                                   |  110 +-
 src/flag/flag_test.go                              |   38 +
 src/fmt/fmt_test.go                                |   30 +-
 src/go/ast/ast.go                                  |    6 +-
 src/go/ast/filter.go                               |   17 +-
 src/go/ast/scope.go                                |    2 +-
 src/go/build/build.go                              |    6 +-
 src/go/build/build_test.go                         |    8 +
 src/go/build/deps_test.go                          |    4 +-
 src/go/build/doc.go                                |    2 +-
 src/go/build/syslist.go                            |    2 +-
 src/go/doc/exports.go                              |    2 +-
 src/go/format/format.go                            |  157 +-
 src/go/parser/parser.go                            |   30 +-
 src/go/parser/short_test.go                        |    2 +
 src/go/parser/testdata/issue3106.src               |    2 +-
 src/go/printer/printer.go                          |    2 +-
 src/go/printer/testdata/parser.go                  |    4 +-
 src/go/scanner/errors.go                           |    9 +-
 src/go/token/position.go                           |    6 +-
 src/hash/crc32/crc32_generic.go                    |    2 +-
 src/html/template/escape_test.go                   |   15 +
 src/html/template/template.go                      |    3 +
 src/image/color/color.go                           |   21 +-
 src/image/color/ycbcr.go                           |   83 +-
 src/image/decode_test.go                           |   13 +-
 src/image/draw/draw.go                             |   83 +-
 src/image/draw/draw_test.go                        |    4 +-
 src/image/geom.go                                  |   23 +
 src/image/internal/imageutil/gen.go                |  154 +
 src/image/internal/imageutil/imageutil.go          |    8 +
 src/image/internal/imageutil/impl.go               |  196 +
 src/image/jpeg/reader.go                           |  234 +-
 src/image/jpeg/scan.go                             |   62 +-
 src/image/testdata/video-001.221212.jpeg           |  Bin 0 -> 19263 bytes
 src/image/testdata/video-001.221212.png            |  Bin 0 -> 29820 bytes
 src/image/testdata/video-001.rgb.jpeg              |  Bin 0 -> 6237 bytes
 src/image/testdata/video-001.rgb.png               |  Bin 0 -> 20414 bytes
 src/internal/format/format.go                      |  161 +
 src/internal/trace/goroutines.go                   |  180 +
 src/internal/trace/parser.go                       |   92 +-
 src/io/pipe.go                                     |    5 +-
 src/iostest.bash                                   |   58 +
 src/log/syslog/syslog_test.go                      |   16 +-
 src/make.bat                                       |   15 +-
 src/math/abs_arm64.s                               |   11 +
 src/math/big/accuracy_string.go                    |   17 +
 src/math/big/arith_386.s                           |    2 +
 src/math/big/arith_amd64.s                         |    2 +
 src/math/big/arith_amd64p32.s                      |    2 +
 src/math/big/arith_arm.s                           |    2 +
 src/math/big/arith_arm64.s                         |   46 +
 src/math/big/arith_decl.go                         |    2 +
 src/math/big/arith_decl_pure.go                    |   55 +
 src/math/big/arith_ppc64x.s                        |    2 +-
 src/math/big/bits_test.go                          |  224 ++
 src/math/big/decimal.go                            |    3 +
 src/math/big/float.go                              | 1204 +++---
 src/math/big/float_test.go                         |  732 ++--
 src/math/big/floatconv.go                          |   53 +-
 src/math/big/floatexample_test.go                  |  111 +
 src/math/big/ftoa.go                               |   10 +-
 src/math/big/int.go                                |    4 +
 src/math/big/int_test.go                           |   41 +-
 src/math/big/nat.go                                |    4 +-
 src/math/big/rat.go                                |    2 +-
 src/math/big/roundingmode_string.go                |   16 +
 src/math/stubs_arm64.s                             |   91 +
 src/mime/grammar.go                                |    6 +-
 src/mime/quotedprintable/reader.go                 |    3 +
 src/mime/quotedprintable/reader_test.go            |    2 +-
 src/mime/quotedprintable/writer.go                 |  172 +
 src/mime/quotedprintable/writer_test.go            |  158 +
 src/mime/type.go                                   |  104 +-
 src/mime/type_plan9.go                             |   34 +-
 src/mime/type_test.go                              |  110 +-
 src/mime/type_unix.go                              |    6 +-
 src/mime/type_windows.go                           |    8 +-
 src/nacltest.bash                                  |   10 +-
 src/net/cgo_stub.go                                |    2 +-
 src/net/cgo_unix.go                                |   10 +-
 src/net/conn_test.go                               |   17 +-
 src/net/dnsclient_unix.go                          |   16 +-
 src/net/dnsclient_unix_test.go                     |    9 +
 src/net/dnsname_test.go                            |    3 +
 src/net/fd_unix.go                                 |   14 +-
 src/net/fd_windows.go                              |   14 +-
 src/net/file_test.go                               |   91 +-
 src/net/file_unix.go                               |    8 +-
 src/net/hook_cloexec.go                            |   14 +
 src/net/hook_unix.go                               |   18 +
 src/net/hook_windows.go                            |   15 +
 src/net/http/fcgi/fcgi_test.go                     |    4 +-
 src/net/http/fs.go                                 |   15 +-
 src/net/http/fs_test.go                            |    6 +
 src/net/http/pprof/pprof.go                        |    6 +-
 src/net/http/server.go                             |    2 +-
 src/net/http/transport.go                          |    2 +-
 src/net/interface_test.go                          |  107 +-
 src/net/internal/socktest/main_test.go             |   40 +
 src/net/internal/socktest/main_unix_test.go        |   24 +
 src/net/internal/socktest/main_windows_test.go     |   22 +
 src/net/internal/socktest/switch.go                |  150 +
 src/net/internal/socktest/switch_stub.go           |   10 +
 src/net/internal/socktest/switch_unix.go           |   29 +
 src/net/internal/socktest/switch_windows.go        |   29 +
 src/net/internal/socktest/sys_cloexec.go           |   41 +
 src/net/internal/socktest/sys_unix.go              |  157 +
 src/net/internal/socktest/sys_windows.go           |  121 +
 src/net/ip.go                                      |   16 +-
 src/net/ip_test.go                                 |    9 +
 src/net/ipraw_test.go                              |   29 +-
 src/net/iprawsock.go                               |    7 +
 src/net/iprawsock_posix.go                         |    7 -
 src/net/ipsock.go                                  |   64 +-
 src/net/ipsock_posix.go                            |    8 +-
 src/net/ipsock_test.go                             |  100 +-
 src/net/lookup.go                                  |   22 +-
 src/net/lookup_plan9.go                            |   12 +-
 src/net/lookup_stub.go                             |    2 +-
 src/net/lookup_unix.go                             |    2 +-
 src/net/lookup_windows.go                          |   21 +-
 src/net/mail/message.go                            |    8 +-
 src/net/main_cloexec_test.go                       |   25 +
 src/net/main_plan9_test.go                         |   11 +
 src/net/main_test.go                               |   89 +
 src/net/main_unix_test.go                          |   49 +
 src/net/main_windows_test.go                       |   33 +
 src/net/net_test.go                                |    6 +-
 src/net/packetconn_test.go                         |   43 +-
 src/net/platform_test.go                           |  137 +
 src/net/protoconn_test.go                          |   19 +-
 src/net/server_test.go                             |  214 +-
 src/net/sock_cloexec.go                            |   12 +-
 src/net/sock_posix.go                              |    4 +-
 src/net/sock_windows.go                            |    4 +-
 src/net/sys_cloexec.go                             |    8 +-
 src/net/tcp_test.go                                |    9 +-
 src/net/tcpsock.go                                 |    7 +
 src/net/tcpsock_posix.go                           |    7 -
 src/net/udpsock.go                                 |    7 +
 src/net/udpsock_posix.go                           |    7 -
 src/net/unix_test.go                               |   20 +
 src/net/url/url.go                                 |    4 +-
 src/os/exec/exec.go                                |    2 +-
 src/os/exec/exec_test.go                           |   45 +
 src/os/file.go                                     |   11 +-
 src/os/file_darwin.go                              |   40 +
 src/os/file_unix.go                                |    4 +-
 src/os/os_test.go                                  |    8 +-
 src/os/path_plan9.go                               |    2 +-
 src/os/path_test.go                                |    4 +-
 src/os/path_unix.go                                |    2 +-
 src/os/path_windows.go                             |    2 +-
 src/os/proc.go                                     |   14 +-
 src/os/signal/sig.s                                |    2 +-
 src/os/signal/signal_windows_test.go               |    4 +
 src/path/filepath/match.go                         |    4 +-
 src/path/filepath/path.go                          |    6 +-
 src/path/filepath/path_plan9.go                    |    2 +-
 src/path/filepath/path_unix.go                     |    2 +-
 src/path/filepath/path_windows.go                  |    4 +-
 src/path/match.go                                  |    2 +-
 src/path/path.go                                   |    2 +-
 src/reflect/asm_arm64.s                            |   30 +
 src/reflect/type.go                                |   25 +-
 src/reflect/value.go                               |   20 +-
 src/regexp/backtrack.go                            |  351 ++
 src/regexp/exec.go                                 |   30 +-
 src/regexp/regexp.go                               |    2 +-
 src/regexp/syntax/prog.go                          |    4 +-
 src/run.bash                                       |  226 +-
 src/run.bat                                        |  101 +-
 src/run.rc                                         |   58 +-
 src/runtime/arch1_arm64.go                         |   16 +
 src/runtime/arch_arm64.go                          |    8 +
 src/runtime/asm_386.s                              |   18 +-
 src/runtime/asm_amd64.s                            |   18 +-
 src/runtime/asm_amd64p32.s                         |   20 +-
 src/runtime/asm_arm.s                              |   71 +-
 src/runtime/asm_arm64.s                            | 1061 +++++
 src/runtime/asm_ppc64x.s                           |   42 +-
 src/runtime/atomic_386.go                          |    5 +
 src/runtime/atomic_amd64x.go                       |    5 +
 src/runtime/atomic_arm.go                          |   16 +
 src/runtime/atomic_arm64.go                        |   78 +
 src/runtime/atomic_arm64.s                         |  113 +
 src/runtime/atomic_ppc64x.go                       |    5 +
 src/runtime/cgo.go                                 |    7 +
 src/runtime/cgo/gcc_darwin_arm.c                   |    4 +
 src/runtime/cgo/gcc_dragonfly_386.c                |   70 -
 src/runtime/cgo/gcc_signal_darwin_armx.c           |  185 +
 src/runtime/cgo/gcc_signal_darwin_lldb.c           |   14 +
 src/runtime/cgo/iscgo.go                           |    3 -
 src/runtime/cgo/libcgo.h                           |   10 +
 src/runtime/cgo/signal_darwin_arm.s                |   49 +
 src/runtime/cgo/signal_darwin_armx.go              |   31 +
 src/runtime/cgocall.go                             |    5 -
 src/runtime/cgocallback.go                         |    2 +-
 src/runtime/chan.go                                |   55 +-
 src/runtime/chan1.go                               |   61 -
 src/runtime/chan_test.go                           |   77 +-
 src/runtime/cputicks.go                            |    1 +
 src/runtime/crash_cgo_test.go                      |   52 +
 src/runtime/crash_test.go                          |    9 +-
 src/runtime/debug/stubs.s                          |    3 +
 src/runtime/defs_darwin_386.go                     |    2 +-
 src/runtime/defs_darwin_amd64.go                   |    2 +-
 src/runtime/defs_darwin_arm.go                     |    2 +-
 src/runtime/defs_dragonfly.go                      |    1 -
 src/runtime/defs_linux_arm64.go                    |  178 +
 .../{defs_dragonfly_386.go => defs_openbsd_arm.go} |  118 +-
 src/runtime/env_plan9.go                           |    9 -
 src/runtime/env_posix.go                           |    9 -
 src/runtime/env_test.go                            |   41 +
 src/runtime/error.go                               |   23 +-
 src/runtime/export_test.go                         |    8 +
 src/runtime/gcinfo_test.go                         |    2 +-
 src/runtime/hash64.go                              |    2 +-
 src/runtime/hashmap.go                             |   12 +-
 src/runtime/heapdump.go                            |   12 +-
 src/runtime/iface.go                               |   53 +-
 src/runtime/iface_test.go                          |   83 +
 src/runtime/lfstack_linux_arm64.go                 |   25 +
 src/runtime/lock_sema.go                           |    6 +-
 src/runtime/malloc.go                              |   56 +-
 src/runtime/mbarrier.go                            |   62 +-
 src/runtime/mbitmap.go                             |  159 +-
 src/runtime/mcache.go                              |    2 -
 src/runtime/mcentral.go                            |    4 +-
 src/runtime/mem_plan9.go                           |    2 +-
 src/runtime/memclr_arm64.s                         |   18 +
 src/runtime/memmove_arm64.s                        |   36 +
 src/runtime/mfinal.go                              |   15 +-
 src/runtime/mfixalloc.go                           |    2 +-
 src/runtime/mgc.go                                 |  151 +-
 src/runtime/mgc0.h                                 |   22 -
 src/runtime/mgcmark.go                             |  118 +-
 src/runtime/mgcsweep.go                            |   12 +-
 src/runtime/mgcwork.go                             |   83 +-
 src/runtime/mheap.go                               |   12 +-
 src/runtime/msize.go                               |   61 +-
 src/runtime/mstats.go                              |    3 -
 src/runtime/netpoll.go                             |   30 +-
 src/runtime/noasm.go                               |    4 +-
 src/runtime/os1_darwin.go                          |    2 +
 src/runtime/os1_dragonfly.go                       |    4 +-
 src/runtime/os1_freebsd.go                         |    4 +-
 src/runtime/os1_linux.go                           |    2 +
 src/runtime/os1_nacl.go                            |   16 +-
 src/runtime/os1_netbsd.go                          |    2 +
 src/runtime/os1_openbsd.go                         |   11 +-
 src/runtime/os1_plan9.go                           |    2 +
 src/runtime/os1_windows.go                         |  102 +-
 src/runtime/os1_windows_386.go                     |    4 +-
 src/runtime/os1_windows_amd64.go                   |    4 +-
 src/runtime/os3_plan9.go                           |    4 +-
 src/runtime/os3_solaris.go                         |    2 +
 src/runtime/os_linux_arm64.go                      |   19 +
 src/runtime/os_nacl.go                             |    5 +
 src/runtime/os_openbsd_arm.go                      |   17 +
 src/runtime/os_windows.go                          |   16 +-
 src/runtime/panic.go                               |   46 +-
 src/runtime/panic1.go                              |    2 +-
 src/runtime/pprof/pprof_test.go                    |   13 +-
 src/runtime/pprof/trace_stack_test.go              |  285 ++
 src/runtime/pprof/trace_test.go                    |  120 +-
 src/runtime/proc.go                                |   90 +-
 src/runtime/proc1.go                               |  159 +-
 src/runtime/race/output_test.go                    |   36 +-
 src/runtime/race1.go                               |   32 +-
 src/runtime/rt0_dragonfly_386.s                    |   16 -
 src/runtime/rt0_freebsd_arm.s                      |    6 +-
 src/runtime/rt0_linux_amd64.s                      |    7 +
 src/runtime/rt0_linux_arm64.s                      |   19 +
 src/runtime/rt0_netbsd_arm.s                       |    4 +-
 .../gc/array.go => runtime/rt0_openbsd_arm.s}      |   10 +-
 src/runtime/rt0_windows_386.s                      |    4 +-
 src/runtime/rune.go                                |    2 +-
 src/runtime/runtime-gdb.py                         |    2 +-
 src/runtime/runtime-gdb_test.go                    |   22 +-
 src/runtime/runtime.go                             |    8 +-
 src/runtime/runtime1.go                            |   12 +-
 src/runtime/runtime2.go                            |   74 +-
 src/runtime/runtime_test.go                        |   32 +-
 src/runtime/select.go                              |  129 +-
 src/runtime/sema.go                                |   12 +-
 src/runtime/signal_386.go                          |    4 +-
 src/runtime/signal_amd64x.go                       |    4 +-
 src/runtime/signal_arm.go                          |    4 +-
 src/runtime/signal_arm64.go                        |  141 +
 src/runtime/signal_darwin_386.go                   |    4 +-
 src/runtime/signal_darwin_amd64.go                 |    4 +-
 src/runtime/signal_darwin_arm.go                   |    4 +-
 src/runtime/signal_dragonfly_386.go                |   34 -
 src/runtime/signal_linux_arm64.go                  |   61 +
 src/runtime/signal_openbsd_arm.go                  |   53 +
 src/runtime/signal_ppc64x.go                       |    4 +-
 src/runtime/sigpanic_unix.go                       |   10 +
 src/runtime/sigqueue.go                            |    9 -
 src/runtime/slice.go                               |   13 +-
 src/runtime/stack.h                                |   43 -
 src/runtime/stack1.go                              |    9 +-
 src/runtime/stubs.go                               |    5 +-
 src/runtime/symtab.go                              |   84 +-
 src/runtime/sys_arm64.go                           |   36 +
 src/runtime/sys_darwin_386.s                       |    8 +
 src/runtime/sys_darwin_amd64.s                     |    8 +
 src/runtime/sys_darwin_arm.s                       |    4 +
 src/runtime/sys_dragonfly_386.s                    |  382 --
 src/runtime/sys_dragonfly_amd64.s                  |   10 +-
 src/runtime/sys_freebsd_386.s                      |   10 +-
 src/runtime/sys_freebsd_amd64.s                    |   10 +-
 src/runtime/sys_freebsd_arm.s                      |    4 +
 src/runtime/sys_linux_386.s                        |   22 +-
 src/runtime/sys_linux_amd64.s                      |   14 +-
 src/runtime/sys_linux_arm.s                        |   12 +
 src/runtime/sys_linux_arm64.s                      |  431 ++
 src/runtime/sys_linux_ppc64x.s                     |    8 +
 src/runtime/sys_nacl_386.s                         |    9 +
 src/runtime/sys_nacl_amd64p32.s                    |    7 +
 src/runtime/sys_nacl_arm.s                         |    7 +
 src/runtime/sys_netbsd_386.s                       |   12 +-
 src/runtime/sys_netbsd_amd64.s                     |   12 +-
 src/runtime/sys_netbsd_arm.s                       |    4 +
 src/runtime/sys_openbsd_386.s                      |   12 +-
 src/runtime/sys_openbsd_amd64.s                    |   10 +-
 src/runtime/sys_openbsd_arm.s                      |  381 ++
 src/runtime/syscall2_solaris.go                    |    4 +-
 src/runtime/syscall_nacl.h                         |   15 +-
 src/runtime/syscall_solaris.go                     |   12 +
 src/runtime/syscall_windows_test.go                |    3 +
 src/runtime/time.go                                |    8 +-
 src/runtime/trace.go                               |   99 +-
 src/runtime/traceback.go                           |    8 +-
 src/runtime/type.go                                |    2 +-
 src/runtime/typekind.h                             |   40 -
 src/runtime/unaligned1.go                          |    2 +-
 src/runtime/zgoarch_386.go                         |    1 +
 src/runtime/zgoarch_amd64.go                       |    1 +
 src/runtime/zgoarch_amd64p32.go                    |    1 +
 src/runtime/zgoarch_arm.go                         |    1 +
 src/runtime/zgoarch_arm64.go                       |   13 +
 src/runtime/zgoarch_ppc64.go                       |    1 +
 src/runtime/zgoarch_ppc64le.go                     |    1 +
 src/strconv/extfloat.go                            |    2 +-
 src/strconv/ftoa.go                                |   50 +-
 src/strconv/ftoa_test.go                           |    1 +
 src/strings/strings.go                             |    8 +-
 src/strings/strings_test.go                        |   29 +
 src/sync/atomic/asm_arm64.s                        |  149 +
 src/sync/atomic/asm_openbsd_arm.s                  |  100 +
 src/sync/atomic/atomic_test.go                     |    7 +-
 src/syscall/asm_darwin_amd64.s                     |   40 +-
 src/syscall/asm_dragonfly_386.s                    |  140 -
 src/syscall/asm_linux_arm64.s                      |  105 +
 src/syscall/asm_openbsd_arm.s                      |  132 +
 src/syscall/asm_solaris_amd64.s                    |    3 +
 src/syscall/exec_bsd.go                            |   34 +-
 src/syscall/exec_linux.go                          |   37 +-
 src/syscall/exec_solaris.go                        |   35 +-
 src/syscall/exec_solaris_test.go                   |   29 +
 src/syscall/exec_unix_test.go                      |  216 +
 src/syscall/export_unix_test.go                    |   12 +
 src/syscall/fs_nacl.go                             |   23 +-
 src/syscall/mkall.sh                               |   23 +-
 src/syscall/mkerrors.sh                            |    8 +
 src/syscall/mksyscall.pl                           |    2 +-
 src/syscall/mksyscall_solaris.pl                   |    2 +-
 src/syscall/mksysnum_linux.pl                      |   14 +-
 src/syscall/route_bsd.go                           |   14 +-
 src/syscall/route_bsd_test.go                      |   30 +-
 src/syscall/syscall_darwin.go                      |    4 +-
 src/syscall/syscall_darwin_amd64.go                |    2 +-
 src/syscall/syscall_dragonfly.go                   |    6 +-
 src/syscall/syscall_freebsd.go                     |    4 +-
 src/syscall/syscall_linux.go                       |   11 +-
 src/syscall/syscall_linux_386.go                   |    4 +-
 src/syscall/syscall_linux_amd64.go                 |    4 +-
 src/syscall/syscall_linux_arm.go                   |    4 +-
 src/syscall/syscall_linux_arm64.go                 |  142 +
 src/syscall/syscall_linux_ppc64x.go                |    4 +-
 src/syscall/syscall_nacl.go                        |    1 +
 src/syscall/syscall_netbsd.go                      |    4 +-
 src/syscall/syscall_openbsd.go                     |    4 +-
 ...all_dragonfly_386.go => syscall_openbsd_arm.go} |   20 +-
 src/syscall/syscall_unix.go                        |   24 +
 src/syscall/tables_nacl.go                         |   39 +-
 src/syscall/types_linux.go                         |    2 +
 src/syscall/zerrors_linux_arm64.go                 | 1822 +++++++++
 ...ors_dragonfly_386.go => zerrors_openbsd_arm.go} |  998 ++---
 src/syscall/zsyscall_darwin_386.go                 |  210 +-
 src/syscall/zsyscall_darwin_amd64.go               |  210 +-
 src/syscall/zsyscall_darwin_arm.go                 |  309 +-
 src/syscall/zsyscall_dragonfly_amd64.go            |  196 +-
 src/syscall/zsyscall_freebsd_386.go                |  198 +-
 src/syscall/zsyscall_freebsd_amd64.go              |  198 +-
 src/syscall/zsyscall_freebsd_arm.go                |  198 +-
 src/syscall/zsyscall_linux_386.go                  |  240 +-
 src/syscall/zsyscall_linux_amd64.go                |  274 +-
 src/syscall/zsyscall_linux_arm.go                  |  264 +-
 src/syscall/zsyscall_linux_arm64.go                | 1750 +++++++++
 src/syscall/zsyscall_linux_ppc64.go                |  276 +-
 src/syscall/zsyscall_linux_ppc64le.go              |  276 +-
 src/syscall/zsyscall_nacl_386.go                   |   26 +-
 src/syscall/zsyscall_nacl_amd64p32.go              |   26 +-
 src/syscall/zsyscall_nacl_arm.go                   |   26 +-
 src/syscall/zsyscall_netbsd_386.go                 |  188 +-
 src/syscall/zsyscall_netbsd_amd64.go               |  188 +-
 src/syscall/zsyscall_netbsd_arm.go                 |  188 +-
 src/syscall/zsyscall_openbsd_386.go                |  194 +-
 src/syscall/zsyscall_openbsd_amd64.go              |  194 +-
 ...ll_dragonfly_386.go => zsyscall_openbsd_arm.go} |  298 +-
 src/syscall/zsyscall_solaris_amd64.go              |  144 +-
 src/syscall/zsysnum_dragonfly_386.go               |  302 --
 src/syscall/zsysnum_linux_arm64.go                 |  275 ++
 src/syscall/zsysnum_openbsd_arm.go                 |  211 +
 src/syscall/ztypes_linux_arm64.go                  |  594 +++
 ...ypes_dragonfly_386.go => ztypes_openbsd_arm.go} |  293 +-
 src/testing/quick/quick.go                         |    2 +-
 src/testing/testing.go                             |   12 +-
 src/text/scanner/scanner.go                        |    6 +-
 src/text/scanner/scanner_test.go                   |   29 +
 src/text/template/exec.go                          |   46 +-
 src/text/template/exec_test.go                     |    2 +
 src/time/example_test.go                           |  124 +-
 src/time/format.go                                 |    8 +-
 src/time/sleep_test.go                             |    4 +
 src/time/zoneinfo_ios.go                           |   51 +
 src/time/zoneinfo_unix.go                          |    2 +-
 src/unicode/utf16/utf16.go                         |    2 +-
 test/escape2.go                                    |   93 +-
 test/escape2n.go                                   |   93 +-
 test/escape5.go                                    |    3 +-
 test/escape_closure.go                             |  147 +
 test/escape_field.go                               |  175 +
 test/escape_iface.go                               |  211 +
 test/escape_indir.go                               |  153 +
 test/escape_level.go                               |  108 +
 test/escape_map.go                                 |  107 +
 test/escape_param.go                               |  326 ++
 test/escape_slice.go                               |   90 +
 test/fixedbugs/bug495.go                           |   20 +
 test/fixedbugs/issue10047.go                       |   19 +
 test/fixedbugs/issue10066.dir/a.go                 |   11 +
 test/fixedbugs/issue10066.dir/b.go                 |    7 +
 test/fixedbugs/issue10066.go                       |   10 +
 test/fixedbugs/issue10135.go                       |   25 +
 test/fixedbugs/issue10284.go                       |   16 +
 test/interface/assertinline.go                     |   53 +
 test/nilptr3.go                                    |    5 +-
 test/nosplit.go                                    |    3 +
 test/recover4.go                                   |   73 +
 744 files changed, 53501 insertions(+), 39974 deletions(-)
