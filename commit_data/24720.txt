commit 7f9e443d9c663d41b193fa9e1f3368335b999eff
Author: Michael Hudson-Doyle <michael.hudson@canonical.com>
Date:   Wed Aug 19 13:34:33 2015 +1200

    cmd/link: call moduledata symbols "local.moduledata" if they are created by the linker
    
    This was always a bit confusing, but it also fixes a problem: runtime.firstmoduledata
    was always overridden in the linker to be a local symbol but cmd/internal/obj had
    already rewritten code accessing it to access it via the GOT. This works on amd64, but
    causes link failures on other platforms (e.g. arm64).
    
    Change-Id: I9b8153af74b4d0f092211d63a000d15818f39773
    Reviewed-on: https://go-review.googlesource.com/13786
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/link/internal/amd64/asm.go |  2 +-
 src/cmd/link/internal/ld/lib.go    | 18 ++++++++++++++
 src/cmd/link/internal/ld/link.go   | 51 +++++++++++++++++++-------------------
 src/cmd/link/internal/ld/symtab.go |  6 +----
 4 files changed, 46 insertions(+), 31 deletions(-)
