commit 10c2348602a3bc44b9b352fe95a18b83b025e367
Author: Paschalis Tsilias <paschalis.tsilias@gmail.com>
Date:   Mon Feb 15 15:55:28 2021 +0200

    net/http: continue using referer header if it's present
    
    Currently, net/http replaces the Referer header with the URL of the
    previous request, regardless of its status. This CL changes this
    behavior, respecting the Referer header for secure connections, if it is
    set.
    
    Fixes #44160
    
    Change-Id: I2d7fe37dd681549136329e832188294691584870
    Reviewed-on: https://go-review.googlesource.com/c/go/+/291636
    Reviewed-by: Damien Neil <dneil@google.com>
    Reviewed-by: Nick Craig-Wood <nickcw@gmail.com>
    Run-TryBot: Damien Neil <dneil@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Auto-Submit: Damien Neil <dneil@google.com>
    Reviewed-by: Ian Lance Taylor <iant@google.com>

 src/net/http/client.go      |  9 +++++++--
 src/net/http/client_test.go | 30 +++++++++++++++++++-----------
 2 files changed, 26 insertions(+), 13 deletions(-)
