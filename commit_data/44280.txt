commit 7179e426e2710b56a7b862e089570baa6c7a1a5d
Author: Cherry Zhang <cherryyz@google.com>
Date:   Wed Jun 3 19:34:29 2020 -0400

    [dev.link] cmd/link: rewrite heap algorithm
    
    Instead of using container/heap package, implement a simple
    specialized heap algorithm for the work queue in the deadcode
    pass, to avoid allocations and function pointer calls.
    
    Linking cmd/compile,
    
    name           old time/op    new time/op    delta
    Deadcode_GC      59.8ms ± 4%    42.2ms ± 4%  -29.45%  (p=0.008 n=5+5)
    
    name           old alloc/op   new alloc/op   delta
    Deadcode_GC      3.53MB ± 0%    2.10MB ± 0%  -40.57%  (p=0.008 n=5+5)
    
    name           old allocs/op  new allocs/op  delta
    Deadcode_GC        187k ± 0%        8k ± 0%  -95.48%  (p=0.008 n=5+5)
    
    Change-Id: Ibb21801d5b8e4a7eaf429856702e02720cd1772f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/236565
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/link/internal/ld/deadcode.go  | 19 +-------
 src/cmd/link/internal/ld/heap.go      | 54 +++++++++++++++++++++
 src/cmd/link/internal/ld/heap_test.go | 90 +++++++++++++++++++++++++++++++++++
 3 files changed, 145 insertions(+), 18 deletions(-)
