commit 4480e3b11ab6dcd8d4c6a1e87388f573ff49f429
Author: Rob Findley <rfindley@google.com>
Date:   Thu Jul 29 16:39:49 2021 -0400

    [dev.typeparams] go/types: backport lazy loading changes from CL 336252
    
    When CL 336252 was created (itself a port of CL 335929), types2
    tests revealed that lazy expansion of instances was not behaving
    correctly with respect to lazy loading of Named types.
    
    This CL ports the fixes from CL 336252 back to go/types.
    
    Change-Id: Iffc6c84a708449633153b800dfb98ff57402893c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/338369
    Trust: Robert Findley <rfindley@google.com>
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Robert Findley <rfindley@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Griesemer <gri@golang.org>

 src/go/types/decl.go        |  4 ++--
 src/go/types/instance.go    | 29 +++++++++++++++------------
 src/go/types/instantiate.go | 11 +++++++---
 src/go/types/lookup.go      |  2 +-
 src/go/types/named.go       | 49 ++++++++++++++++++++++++++-------------------
 src/go/types/predicates.go  |  2 +-
 src/go/types/sizeof_test.go |  2 +-
 src/go/types/subst.go       |  2 +-
 src/go/types/typestring.go  |  3 +++
 9 files changed, 61 insertions(+), 43 deletions(-)
