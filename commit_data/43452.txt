commit 8e457c865d980b37d8becd6aaaf658c633b0b9de
Author: Than McIntosh <thanm@google.com>
Date:   Wed Apr 1 13:42:20 2020 -0400

    [dev.link] cmd/link: begin converting gentext to loader APIs
    
    Begin the job of converting the linker's "gentext" phase over to use
    loader APIs. This patch includes most architectures except for s390x
    and PPC (these will be added in subsequent patches, since they require
    a couple of loader changes first).
    
    Change-Id: Ic7f55c207dcdbbba657330ef007a72ff7c837416
    Reviewed-on: https://go-review.googlesource.com/c/go/+/227017
    Reviewed-by: Jeremy Faller <jeremy@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/link/internal/amd64/asm.go   | 44 ++++-------------------
 src/cmd/link/internal/amd64/obj.go   |  2 +-
 src/cmd/link/internal/arm/asm.go     | 56 +++++++++++------------------
 src/cmd/link/internal/arm/obj.go     |  2 +-
 src/cmd/link/internal/arm64/asm.go   | 49 +++++++++-----------------
 src/cmd/link/internal/arm64/obj.go   |  2 +-
 src/cmd/link/internal/ld/ld.go       | 44 +++++++++++++++++++++++
 src/cmd/link/internal/ld/lib.go      |  1 +
 src/cmd/link/internal/ld/main.go     | 11 ++++--
 src/cmd/link/internal/mips/asm.go    |  2 +-
 src/cmd/link/internal/mips/obj.go    |  2 +-
 src/cmd/link/internal/mips64/asm.go  |  2 +-
 src/cmd/link/internal/mips64/obj.go  |  2 +-
 src/cmd/link/internal/riscv64/asm.go |  2 +-
 src/cmd/link/internal/riscv64/obj.go |  2 +-
 src/cmd/link/internal/wasm/asm.go    |  3 +-
 src/cmd/link/internal/wasm/obj.go    |  2 +-
 src/cmd/link/internal/x86/asm.go     | 68 ++++++++----------------------------
 src/cmd/link/internal/x86/obj.go     |  2 +-
 19 files changed, 126 insertions(+), 172 deletions(-)
