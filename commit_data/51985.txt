commit eee6f9f825596a769ff163e098d2656cbed09d4f
Author: eric fang <eric.fang@arm.com>
Date:   Thu Dec 23 06:53:50 2021 +0000

    runtime: unify C->Go ABI transitions on arm64
    
    There are several of places that save and restore the C callee-saved registers,
    the operation is the same everywhere, so this CL defines several macros
    to do this, which will help reduce code redundancy and unify the operation.
    
    This CL also replaced consecutive MOVD instructions with STP and LDP instructions
    in several places where these macros do not apply.
    
    Change-Id: I815f39fe484a9ab9b6bd157dfcbc8ad99c1420fe
    Reviewed-on: https://go-review.googlesource.com/c/go/+/374397
    Trust: Eric Fang <eric.fang@arm.com>
    Run-TryBot: Eric Fang <eric.fang@arm.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>

 src/runtime/asm_arm64.s         | 178 +++++++++++++---------------------------
 src/runtime/cgo/abi_arm64.h     |  43 ++++++++++
 src/runtime/cgo/asm_arm64.s     |  55 +++----------
 src/runtime/race_arm64.s        |  22 +++--
 src/runtime/rt0_darwin_arm64.s  |  43 ++--------
 src/runtime/rt0_freebsd_arm64.s |  41 ++-------
 src/runtime/rt0_linux_arm64.s   |  41 ++-------
 src/runtime/rt0_netbsd_arm64.s  |  41 ++-------
 src/runtime/rt0_openbsd_arm64.s |  41 ++-------
 src/runtime/sys_darwin_arm64.s  |  87 +++-----------------
 src/runtime/sys_freebsd_arm64.s |  45 ++--------
 src/runtime/sys_linux_arm64.s   |  91 +++-----------------
 src/runtime/sys_netbsd_arm64.s  |  45 ++--------
 src/runtime/sys_openbsd_arm64.s |  87 +++-----------------
 src/runtime/sys_windows_arm64.s |  53 +++---------
 15 files changed, 205 insertions(+), 708 deletions(-)
