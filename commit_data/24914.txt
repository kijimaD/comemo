commit a7cfc759f2b03cb1155477d99384578f2910139c
Author: Keith Randall <khr@golang.org>
Date:   Tue Sep 8 16:04:37 2015 -0700

    [dev.ssa] cmd/compile/internal/ssa: handle returns correctly
    
    Make sure that return blocks take a store as their control.  Without
    this, code was getting inserted between the return and exit blocks.
    
    Use AEND to mark the end of code.  The live variable analysis gets
    confused when routines end like:
        JMP earlier
        RET
    because the RET is unreachable.  The RET was incorrectly added to the
    last basic block, rendering the JMP invisible to the CFG builder.
    
    Change-Id: I91b32c8b37075347243ff039b4e4385856fba7cd
    Reviewed-on: https://go-review.googlesource.com/14398
    Reviewed-by: Josh Bleecher Snyder <josharian@gmail.com>

 src/cmd/compile/internal/gc/plive.go           | 6 ++++--
 src/cmd/compile/internal/gc/ssa.go             | 9 ++++++---
 src/cmd/compile/internal/ssa/check.go          | 7 +++++--
 src/cmd/compile/internal/ssa/gen/genericOps.go | 4 +++-
 4 files changed, 18 insertions(+), 8 deletions(-)
