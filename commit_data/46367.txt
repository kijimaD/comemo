commit 98a73030b01cc23a292934d09f137a2befa439bf
Author: Jay Conrod <jayconrod@google.com>
Date:   Wed Dec 16 16:37:56 2020 -0500

    cmd/go: in 'go get', promote named implicit dependencies to explicit
    
    'go get pkg@vers' will now add an explicit requirement for the module
    providing pkg if that version was already indirectly required.
    
    'go get mod@vers' will do the same if mod is a module path but not a
    package.
    
    Requirements promoted this way will be marked "// indirect" because
    'go get' doesn't know whether they're needed to build packages in the
    main module. So users should prefer to run 'go get ./pkg' (where ./pkg
    is a package in the main module) to promote requirements.
    
    Fixes #43131
    
    Change-Id: Ifbb65b71274b3cc752a7a593d6ddd875f7de23b8
    Reviewed-on: https://go-review.googlesource.com/c/go/+/278812
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Trust: Jay Conrod <jayconrod@google.com>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/cmd/go/internal/modload/buildlist.go                | 11 +++++++++++
 src/cmd/go/internal/modload/init.go                     |  6 +++++-
 src/cmd/go/internal/modload/query.go                    | 10 +++-------
 src/cmd/go/internal/str/str.go                          | 14 ++++++++++++++
 src/cmd/go/testdata/script/mod_get_promote_implicit.txt |  6 ++++++
 5 files changed, 39 insertions(+), 8 deletions(-)
