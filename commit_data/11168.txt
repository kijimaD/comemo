commit a9e1f6d7a67d0cc423765e83193640335e8b8301
Author: Adam Langley <agl@golang.org>
Date:   Sat Jan 14 10:59:11 2012 -0500

    exp/terminal: add SetPrompt and handle large pastes.
    
    (This was missing in the last change because I uploaded it from the
    wrong machine.)
    
    Large pastes previously misbehaved because the code tried reading from
    the terminal before checking whether an line was already buffered.
    Large pastes can cause multiples lines to be read at once from the
    terminal.
    
    R=bradfitz
    CC=golang-dev
    https://golang.org/cl/5542049

 src/pkg/exp/terminal/terminal.go | 62 ++++++++++++++++++++++------------------
 1 file changed, 34 insertions(+), 28 deletions(-)
