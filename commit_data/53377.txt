commit 58a1dabfd1b2bbc2a6a9a2e1cda3e98d93d61258
Author: Michael Pratt <mpratt@google.com>
Date:   Wed Jul 20 18:01:31 2022 -0400

    runtime: convert schedt.npidle to atomic type
    
    Note that this converts npidle from uint32 to int32 for consistency with
    the other count fields in schedt and the type of p.id.
    
    Note that this changes previously unsynchronized operations to
    synchronized operations in:
      * handoffp
      * injectglist
      * schedtrace
      * schedEnableUser
      * sync_runtime_canSpin
    
    For #53821.
    
    Change-Id: I36d1b3b4a28131c9d47884fade6bc44439dd6937
    Reviewed-on: https://go-review.googlesource.com/c/go/+/419445
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Austin Clements <austin@google.com>
    Run-TryBot: Michael Pratt <mpratt@google.com>

 src/runtime/mgcpacer.go |  2 +-
 src/runtime/proc.go     | 29 ++++++++++++++---------------
 src/runtime/runtime2.go |  2 +-
 3 files changed, 16 insertions(+), 17 deletions(-)
