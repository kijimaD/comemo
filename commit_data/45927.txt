commit d40869fcedb208b0bcf7e7d828db12f210a17dc6
Author: Russ Cox <rsc@golang.org>
Date:   Sun Nov 29 09:38:52 2020 -0500

    [dev.regabi] cmd/compile: move gc.treecopy to ir.DeepCopy
    
    This is a general operation on IR nodes, so it belongs in ir.
    The copied implementation is adapted to support the
    extension pattern, allowing nodes to implement their
    own DeepCopy implementations if needed.
    
    This is the first step toward higher-level operations instead
    of Left, Right, etc. It will allow the new type syntax nodes
    to be properly immutable and opt out of those fine-grained methods.
    
    Passes buildall w/ toolstash -cmp.
    
    Change-Id: Ibd64061e01daf14aebc6586cb2eb2b12057ca85a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/274102
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/gc/noder.go |   2 +-
 src/cmd/compile/internal/gc/order.go |   8 ++-
 src/cmd/compile/internal/gc/subr.go  |  44 ------------
 src/cmd/compile/internal/ir/copy.go  | 127 +++++++++++++++++++++++++++++++++++
 src/cmd/compile/internal/ir/node.go  |  53 ---------------
 5 files changed, 133 insertions(+), 101 deletions(-)
