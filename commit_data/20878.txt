commit 32082501859c5c3c61913df5791cafbbb45c2519
Merge: 04d5796b29 36ca636fab
Author: Austin Clements <austin@google.com>
Date:   Wed Oct 22 11:21:16 2014 -0400

    [dev.power64] build: merge default into dev.power64
    
    LGTM=rsc
    R=rsc
    CC=golang-codereviews
    https://golang.org/cl/160200044

 .hgtags                                            |    3 +-
 AUTHORS                                            |    9 +
 CONTRIBUTORS                                       |   11 +
 api/except.txt                                     |    1 +
 api/next.txt                                       |   24 +
 doc/asm.html                                       |    2 +-
 doc/cmd.html                                       |    2 +-
 doc/devel/release.html                             |    7 +
 doc/go1.3.html                                     |    9 +
 doc/go1.4.txt                                      |   15 +
 doc/go1compat.html                                 |   15 +
 doc/go_spec.html                                   |  475 ++---
 include/link.h                                     |    1 +
 lib/codereview/codereview.cfg                      |    1 +
 lib/codereview/codereview.py                       |   12 +-
 misc/cgo/errors/issue7757.go                       |   14 +
 misc/cgo/errors/issue8442.go                       |   17 +
 misc/cgo/errors/test.bash                          |    2 +
 misc/cgo/test/backdoor/runtime.c                   |   14 -
 misc/cgo/test/backdoor/thunk.s                     |   16 +
 misc/cgo/test/buildid_linux.go                     |   77 +
 misc/cgo/test/callback.go                          |   17 +-
 misc/cgo/test/cgo_linux_test.go                    |    5 +-
 misc/cgo/test/cgo_test.go                          |    2 +
 misc/cgo/test/issue5242.go                         |   31 +
 misc/cgo/test/issue5548.go                         |    9 +-
 misc/cgo/test/issue7695_test.go                    |    3 +
 misc/cgo/test/issue8092.go                         |   36 +
 misc/cgo/test/issue8428.go                         |   52 +
 misc/cgo/testcdefs/cdefstest.go                    |    3 +-
 misc/cgo/testcdefs/main.c                          |    9 +-
 misc/makerelease/makerelease.go                    |    7 +-
 misc/nacl/README                                   |   89 +-
 misc/nacl/testzip.proto                            |    5 +
 src/androidtest.bash                               |    4 +-
 src/cmd/5c/cgen.c                                  |   34 +-
 src/cmd/5c/gc.h                                    |    4 +-
 src/cmd/5c/sgen.c                                  |    2 +-
 src/cmd/5c/swt.c                                   |    9 +-
 src/cmd/5c/txt.c                                   |   40 +-
 src/cmd/5g/cgen.c                                  |   74 +-
 src/cmd/5g/gsubr.c                                 |    1 -
 src/cmd/5g/reg.c                                   |    1 +
 src/cmd/5l/asm.c                                   |    4 +-
 src/cmd/6a/lex.c                                   |   34 +-
 src/cmd/6c/cgen.c                                  |   34 +-
 src/cmd/6c/gc.h                                    |    4 +-
 src/cmd/6c/sgen.c                                  |    7 +-
 src/cmd/6c/swt.c                                   |    9 +-
 src/cmd/6c/txt.c                                   |   40 +-
 src/cmd/6g/cgen.c                                  |    8 +-
 src/cmd/6g/gg.h                                    |    1 -
 src/cmd/6g/ggen.c                                  |    2 +-
 src/cmd/6g/gsubr.c                                 |    7 +-
 src/cmd/6g/peep.c                                  |    5 +
 src/cmd/6g/reg.c                                   |    3 +-
 src/cmd/6l/asm.c                                   |   25 +-
 src/cmd/8a/lex.c                                   |   34 +-
 src/cmd/8c/cgen.c                                  |   34 +-
 src/cmd/8c/gc.h                                    |    4 +-
 src/cmd/8c/sgen.c                                  |    2 +-
 src/cmd/8c/swt.c                                   |    9 +-
 src/cmd/8c/txt.c                                   |   40 +-
 src/cmd/8g/cgen.c                                  |   81 +-
 src/cmd/8g/ggen.c                                  |    2 +-
 src/cmd/8g/gsubr.c                                 |    1 -
 src/cmd/8g/peep.c                                  |    5 +
 src/cmd/8g/reg.c                                   |    1 +
 src/cmd/8l/asm.c                                   |    8 +-
 src/cmd/9c/cgen.c                                  |   30 +-
 src/cmd/9c/gc.h                                    |    5 +-
 src/cmd/9c/sgen.c                                  |    2 +-
 src/cmd/9c/swt.c                                   |    9 +-
 src/cmd/9c/txt.c                                   |   40 +-
 src/cmd/9g/cgen.c                                  |    1 -
 src/cmd/9g/gg.h                                    |    1 -
 src/cmd/9g/gsubr.c                                 |    7 +-
 src/cmd/9l/asm.c                                   |    4 +-
 src/cmd/addr2line/main.go                          |  159 +-
 src/cmd/api/goapi.go                               |   46 +-
 src/cmd/api/run.go                                 |    4 +-
 src/cmd/cc/cc.h                                    |    2 +-
 src/cmd/cc/cc.y                                    |    1 +
 src/cmd/cc/dcl.c                                   |   16 +-
 src/cmd/cc/godefs.c                                |   81 +-
 src/cmd/cc/pgen.c                                  |   45 +-
 src/cmd/cgo/gcc.go                                 |   94 +-
 src/cmd/cgo/out.go                                 |  202 ++-
 src/cmd/dist/a.h                                   |    4 +-
 src/cmd/dist/buf.c                                 |    2 +-
 src/cmd/dist/build.c                               |   47 +-
 src/cmd/dist/buildruntime.c                        |   58 +-
 src/cmd/dist/goc2c.c                               |  833 ---------
 src/cmd/dist/plan9.c                               |    6 +-
 src/cmd/dist/unix.c                                |   16 +-
 src/cmd/dist/windows.c                             |    4 +-
 src/cmd/fix/doc.go                                 |    2 +-
 src/cmd/gc/builtin.c                               |   18 +-
 src/cmd/gc/bv.c                                    |    5 +-
 src/cmd/gc/const.c                                 |    8 +-
 src/cmd/gc/fmt.c                                   |    2 +-
 src/cmd/gc/gen.c                                   |   55 +-
 src/cmd/gc/go.h                                    |    3 +-
 src/cmd/gc/mparith1.c                              |    2 +-
 src/cmd/gc/mparith3.c                              |    4 +-
 src/cmd/gc/order.c                                 |   26 +-
 src/cmd/gc/plive.c                                 |    7 +-
 src/cmd/gc/popt.c                                  |    2 +-
 src/cmd/gc/racewalk.c                              |    6 +-
 src/cmd/gc/reflect.c                               |   40 +-
 src/cmd/gc/runtime.go                              |   19 +-
 src/cmd/gc/select.c                                |    6 +-
 src/cmd/gc/subr.c                                  |  113 +-
 src/cmd/gc/typecheck.c                             |   15 +-
 src/cmd/gc/walk.c                                  |  105 +-
 src/cmd/go/build.go                                |   24 +-
 src/cmd/go/doc.go                                  |   97 +-
 src/cmd/go/generate.go                             |  355 ++++
 src/cmd/go/generate_test.go                        |   48 +
 src/cmd/go/get.go                                  |    4 +-
 src/cmd/go/main.go                                 |    1 +
 src/cmd/go/pkg.go                                  |   91 +-
 src/cmd/go/test.bash                               |   90 +
 src/cmd/go/testdata/generate/test1.go              |   13 +
 src/cmd/go/testdata/generate/test2.go              |   10 +
 src/cmd/go/testdata/generate/test3.go              |    9 +
 src/cmd/go/testdata/importcom/bad.go               |    3 +
 src/cmd/go/testdata/importcom/conflict.go          |    3 +
 src/cmd/go/testdata/importcom/src/bad/bad.go       |    1 +
 src/cmd/go/testdata/importcom/src/conflict/a.go    |    1 +
 src/cmd/go/testdata/importcom/src/conflict/b.go    |    1 +
 src/cmd/go/testdata/importcom/src/works/x/x.go     |    1 +
 src/cmd/go/testdata/importcom/src/works/x/x1.go    |    1 +
 src/cmd/go/testdata/importcom/src/wrongplace/x.go  |    1 +
 src/cmd/go/testdata/importcom/works.go             |    3 +
 src/cmd/go/testdata/importcom/wrongplace.go        |    3 +
 src/cmd/go/testdata/testinternal/p.go              |    3 +
 src/cmd/go/testdata/testinternal2/p.go             |    3 +
 .../testdata/testinternal2/x/y/z/internal/w/w.go   |    1 +
 src/cmd/go/vcs_test.go                             |    5 +-
 src/cmd/gofmt/gofmt.go                             |   11 +-
 src/cmd/gofmt/gofmt_test.go                        |  123 +-
 src/cmd/gofmt/testdata/composites.golden           |    2 +
 src/cmd/gofmt/testdata/composites.input            |    2 +
 src/cmd/gofmt/testdata/crlf.golden                 |    1 +
 src/cmd/gofmt/testdata/crlf.input                  |    1 +
 src/cmd/gofmt/testdata/emptydecl.golden            |    4 +
 src/cmd/gofmt/testdata/emptydecl.input             |    4 +
 src/cmd/gofmt/testdata/ranges.golden               |    2 +
 src/cmd/gofmt/testdata/ranges.input                |    2 +
 src/cmd/gofmt/testdata/rewrite1.golden             |    2 +
 src/cmd/gofmt/testdata/rewrite1.input              |    2 +
 src/cmd/gofmt/testdata/rewrite2.golden             |    2 +
 src/cmd/gofmt/testdata/rewrite2.input              |    2 +
 src/cmd/gofmt/testdata/rewrite3.golden             |    2 +
 src/cmd/gofmt/testdata/rewrite3.input              |    2 +
 src/cmd/gofmt/testdata/rewrite4.golden             |    2 +
 src/cmd/gofmt/testdata/rewrite4.input              |    2 +
 src/cmd/gofmt/testdata/rewrite5.golden             |    2 +
 src/cmd/gofmt/testdata/rewrite5.input              |    2 +
 src/cmd/gofmt/testdata/rewrite6.golden             |    2 +
 src/cmd/gofmt/testdata/rewrite6.input              |    2 +
 src/cmd/gofmt/testdata/rewrite7.golden             |    2 +
 src/cmd/gofmt/testdata/rewrite7.input              |    2 +
 src/cmd/gofmt/testdata/rewrite8.golden             |    2 +
 src/cmd/gofmt/testdata/rewrite8.input              |    2 +
 src/cmd/gofmt/testdata/slices1.golden              |    2 +
 src/cmd/gofmt/testdata/slices1.input               |    2 +
 src/cmd/gofmt/testdata/slices2.golden              |    2 +
 src/cmd/gofmt/testdata/slices2.input               |    2 +
 src/cmd/gofmt/testdata/stdin1.golden               |    2 +
 src/cmd/gofmt/testdata/stdin1.golden.gofmt         |    3 -
 src/cmd/gofmt/testdata/stdin1.input                |    2 +
 src/cmd/gofmt/testdata/stdin1.input.gofmt          |    3 -
 src/cmd/gofmt/testdata/stdin2.golden               |    2 +-
 src/cmd/gofmt/testdata/stdin2.golden.gofmt         |   10 -
 src/cmd/gofmt/testdata/stdin2.input                |    2 +-
 src/cmd/gofmt/testdata/stdin2.input.gofmt          |   11 -
 src/cmd/gofmt/testdata/stdin3.golden               |    1 +
 src/cmd/gofmt/testdata/stdin3.golden.gofmt         |    7 -
 src/cmd/gofmt/testdata/stdin3.input                |    1 +
 src/cmd/gofmt/testdata/stdin3.input.gofmt          |    7 -
 src/cmd/gofmt/testdata/stdin4.golden               |    2 +
 src/cmd/gofmt/testdata/stdin4.golden.gofmt         |    3 -
 src/cmd/gofmt/testdata/stdin4.input                |    2 +
 src/cmd/gofmt/testdata/stdin4.input.gofmt          |    3 -
 src/cmd/gofmt/testdata/stdin5.golden               |    3 +
 src/cmd/gofmt/testdata/stdin5.input                |    3 +
 src/cmd/{nm => internal/objfile}/elf.go            |   44 +-
 src/cmd/{nm => internal/objfile}/goobj.go          |   35 +-
 src/cmd/{nm => internal/objfile}/macho.go          |   49 +-
 src/cmd/internal/objfile/objfile.go                |   72 +
 src/cmd/internal/objfile/pe.go                     |  170 ++
 src/cmd/internal/objfile/plan9obj.go               |  124 ++
 src/cmd/ld/data.c                                  |  122 +-
 src/cmd/ld/lib.c                                   |   57 +-
 src/cmd/ld/lib.h                                   |    5 +-
 src/cmd/ld/pcln.c                                  |    4 +-
 src/cmd/ld/pobj.c                                  |    2 +
 src/cmd/ld/symtab.c                                |   46 +-
 src/cmd/link/auto.go                               |   40 +-
 src/cmd/link/layout.go                             |    6 +-
 src/cmd/link/pclntab.go                            |    4 +-
 src/cmd/link/pclntab_test.go                       |    8 +-
 src/cmd/link/runtime.go                            |    4 +-
 src/cmd/link/testdata/Makefile                     |    2 +-
 src/cmd/link/testdata/autosection.6                |  Bin 890 -> 942 bytes
 src/cmd/link/testdata/autosection.s                |   24 +-
 src/cmd/link/testdata/autoweak.6                   |  Bin 427 -> 387 bytes
 src/cmd/link/testdata/dead.6                       |  Bin 1066 -> 854 bytes
 src/cmd/link/testdata/dead.s                       |    3 +-
 src/cmd/link/testdata/genpcln.go                   |    2 +-
 src/cmd/link/testdata/hello.6                      |  Bin 273 -> 233 bytes
 src/cmd/link/testdata/layout.6                     |  Bin 431 -> 391 bytes
 src/cmd/link/testdata/layout.s                     |    2 +-
 src/cmd/link/testdata/link.hello.darwin.amd64      |   11 +-
 src/cmd/link/testdata/pclntab.6                    |  Bin 4611 -> 3809 bytes
 src/cmd/link/testdata/pclntab.s                    |    2 +-
 src/cmd/nm/nm.go                                   |   57 +-
 src/cmd/nm/nm_test.go                              |    4 +-
 src/cmd/nm/pe.go                                   |   98 --
 src/cmd/nm/plan9obj.go                             |   48 -
 src/cmd/objdump/main.go                            |   38 +-
 src/cmd/yacc/Makefile                              |   12 -
 src/cmd/yacc/doc.go                                |    5 +-
 src/cmd/yacc/testdata/expr/README                  |   20 +
 src/cmd/yacc/{ => testdata/expr}/expr.y            |    5 -
 src/cmd/yacc/testdata/expr/main.go                 |   15 +
 src/liblink/asm5.c                                 |    6 +-
 src/liblink/asm6.c                                 |   52 +-
 src/liblink/asm8.c                                 |    2 +-
 src/liblink/obj5.c                                 |  119 +-
 src/liblink/obj6.c                                 |  100 +-
 src/liblink/obj8.c                                 |   78 +-
 src/liblink/objfile.c                              |   18 +-
 src/make.bat                                       |    2 +-
 src/pkg/archive/zip/writer.go                      |    6 +
 src/pkg/archive/zip/writer_test.go                 |   19 +
 src/pkg/bytes/bytes.go                             |    3 +
 src/pkg/compress/bzip2/bzip2_test.go               |   38 +
 src/pkg/compress/bzip2/move_to_front.go            |   79 +-
 src/pkg/compress/flate/fixedhuff.go                |    2 +-
 src/pkg/compress/flate/gen.go                      |   55 +-
 src/pkg/compress/flate/inflate.go                  |    2 +
 src/pkg/compress/gzip/gzip.go                      |    3 +-
 src/pkg/compress/zlib/writer.go                    |    3 +-
 src/pkg/crypto/aes/asm_amd64.s                     |    2 +-
 src/pkg/crypto/cipher/cfb_test.go                  |   77 +-
 src/pkg/crypto/crypto.go                           |   41 +
 src/pkg/crypto/ecdsa/ecdsa.go                      |   24 +
 src/pkg/crypto/md5/gen.go                          |   23 +-
 src/pkg/crypto/md5/md5.go                          |    2 +
 src/pkg/crypto/md5/md5block.go                     |    2 +-
 src/pkg/crypto/md5/md5block_386.s                  |    2 +-
 src/pkg/crypto/md5/md5block_amd64.s                |    2 +-
 src/pkg/crypto/md5/md5block_amd64p32.s             |    2 +-
 src/pkg/crypto/md5/md5block_arm.s                  |    2 +-
 src/pkg/crypto/rand/rand_linux.go                  |   39 +
 src/pkg/crypto/rand/rand_unix.go                   |   11 +-
 src/pkg/crypto/rc4/rc4_386.s                       |    2 +-
 src/pkg/crypto/rc4/rc4_amd64.s                     |    2 +-
 src/pkg/crypto/rc4/rc4_amd64p32.s                  |    2 +-
 src/pkg/crypto/rc4/rc4_arm.s                       |    2 +-
 src/pkg/crypto/rsa/pss.go                          |   15 +
 src/pkg/crypto/rsa/rsa.go                          |   19 +
 src/pkg/crypto/sha1/sha1block_386.s                |    2 +-
 src/pkg/crypto/sha1/sha1block_amd64.s              |    2 +-
 src/pkg/crypto/sha1/sha1block_amd64p32.s           |    2 +-
 src/pkg/crypto/sha1/sha1block_arm.s                |    2 +-
 src/pkg/crypto/sha256/sha256block_amd64.s          |    2 +-
 src/pkg/crypto/sha512/sha512block_amd64.s          |    2 +-
 src/pkg/crypto/tls/common.go                       |   15 +-
 src/pkg/crypto/tls/conn.go                         |    6 +
 src/pkg/crypto/tls/handshake_client.go             |   44 +-
 src/pkg/crypto/tls/handshake_client_test.go        |    2 +-
 src/pkg/crypto/tls/handshake_server.go             |   14 +-
 src/pkg/crypto/tls/tls_test.go                     |   45 +
 src/pkg/crypto/x509/verify.go                      |    8 +-
 src/pkg/database/sql/convert_test.go               |   37 +-
 src/pkg/database/sql/sql.go                        |  161 +-
 src/pkg/database/sql/sql_test.go                   |   49 +-
 src/pkg/debug/dwarf/type.go                        |   54 +-
 src/pkg/debug/elf/elf.go                           |  338 +++-
 src/pkg/debug/elf/file.go                          |   50 +-
 src/pkg/debug/elf/file_test.go                     |    6 +
 .../testdata/go-relocation-test-gcc482-aarch64.obj |  Bin 0 -> 3392 bytes
 src/pkg/debug/goobj/read.go                        |    6 +-
 src/pkg/debug/gosym/symtab.go                      |    2 +-
 src/pkg/debug/pe/file_test.go                      |   31 +-
 src/pkg/debug/pe/testdata/gcc-amd64-mingw-exec     |  Bin 37376 -> 273083 bytes
 src/pkg/encoding/gob/timing_test.go                |   62 +-
 src/pkg/encoding/json/encode.go                    |    8 +-
 src/pkg/encoding/json/encode_test.go               |   26 +
 src/pkg/encoding/xml/xml.go                        |   11 +
 src/pkg/encoding/xml/xml_test.go                   |   31 +-
 src/pkg/flag/flag.go                               |    5 +-
 src/pkg/fmt/fmt_test.go                            |   29 +
 src/pkg/fmt/print.go                               |   10 +-
 src/pkg/fmt/scan.go                                |    1 +
 src/pkg/fmt/scan_test.go                           |   32 +
 src/pkg/go/build/build.go                          |  168 +-
 src/pkg/go/build/build_test.go                     |   10 +
 src/pkg/go/build/deps_test.go                      |    4 +-
 src/pkg/go/doc/headscan.go                         |   15 +-
 src/pkg/go/parser/error_test.go                    |    3 +-
 src/pkg/go/parser/parser.go                        |   51 +-
 src/pkg/go/parser/short_test.go                    |    1 +
 src/pkg/go/token/position.go                       |   51 +-
 src/pkg/go/token/position_test.go                  |  101 +-
 src/pkg/hash/crc32/crc32_amd64.s                   |    2 +-
 src/pkg/hash/crc32/crc32_amd64p32.s                |    2 +-
 src/pkg/html/template/error.go                     |   16 +-
 src/pkg/html/template/escape.go                    |   74 +-
 src/pkg/html/template/escape_test.go               |   23 +-
 src/pkg/html/template/template.go                  |   40 +-
 src/pkg/html/template/transition.go                |   12 +-
 src/pkg/image/color/palette/gen.go                 |   96 +-
 src/pkg/image/color/palette/generate.go            |    8 +
 src/pkg/image/color/palette/palette.go             |    3 +-
 src/pkg/image/png/writer.go                        |   60 +-
 src/pkg/image/png/writer_test.go                   |   29 +-
 src/pkg/internal/syscall/getrandom_linux.go        |   56 +
 src/pkg/io/io.go                                   |    8 +-
 src/pkg/math/abs_386.s                             |    2 +-
 src/pkg/math/abs_amd64.s                           |    2 +-
 src/pkg/math/abs_arm.s                             |    2 +-
 src/pkg/math/abs_power64x.s                        |    2 +-
 src/pkg/math/asin_386.s                            |    2 +-
 src/pkg/math/asin_amd64.s                          |    2 +-
 src/pkg/math/asin_arm.s                            |    2 +-
 src/pkg/math/atan2_386.s                           |    2 +-
 src/pkg/math/atan2_amd64.s                         |    2 +-
 src/pkg/math/atan2_arm.s                           |    2 +-
 src/pkg/math/atan_386.s                            |    2 +-
 src/pkg/math/atan_amd64.s                          |    2 +-
 src/pkg/math/atan_arm.s                            |    2 +-
 src/pkg/math/big/arith_386.s                       |    2 +-
 src/pkg/math/big/arith_amd64.s                     |    2 +-
 src/pkg/math/big/arith_amd64p32.s                  |    2 +-
 src/pkg/math/big/arith_arm.s                       |    2 +-
 src/pkg/math/big/arith_power64x.s                  |    2 +-
 src/pkg/math/dim_386.s                             |    2 +-
 src/pkg/math/dim_amd64.s                           |    2 +-
 src/pkg/math/dim_arm.s                             |    2 +-
 src/pkg/math/exp2_386.s                            |    2 +-
 src/pkg/math/exp2_amd64.s                          |    2 +-
 src/pkg/math/exp2_arm.s                            |    2 +-
 src/pkg/math/exp_386.s                             |    2 +-
 src/pkg/math/exp_amd64.s                           |    2 +-
 src/pkg/math/exp_arm.s                             |    2 +-
 src/pkg/math/expm1_386.s                           |    2 +-
 src/pkg/math/expm1_amd64.s                         |    2 +-
 src/pkg/math/expm1_arm.s                           |    2 +-
 src/pkg/math/floor_386.s                           |    2 +-
 src/pkg/math/floor_amd64.s                         |    2 +-
 src/pkg/math/floor_arm.s                           |    2 +-
 src/pkg/math/frexp_386.s                           |    2 +-
 src/pkg/math/frexp_amd64.s                         |    2 +-
 src/pkg/math/frexp_arm.s                           |    2 +-
 src/pkg/math/hypot_386.s                           |    2 +-
 src/pkg/math/hypot_amd64.s                         |    2 +-
 src/pkg/math/hypot_arm.s                           |    2 +-
 src/pkg/math/ldexp_386.s                           |    2 +-
 src/pkg/math/ldexp_amd64.s                         |    2 +-
 src/pkg/math/ldexp_arm.s                           |    2 +-
 src/pkg/math/log10_386.s                           |    2 +-
 src/pkg/math/log10_amd64.s                         |    2 +-
 src/pkg/math/log10_arm.s                           |    2 +-
 src/pkg/math/log1p_386.s                           |    2 +-
 src/pkg/math/log1p_amd64.s                         |    2 +-
 src/pkg/math/log1p_arm.s                           |    2 +-
 src/pkg/math/log_386.s                             |    2 +-
 src/pkg/math/log_amd64.s                           |    2 +-
 src/pkg/math/log_arm.s                             |    2 +-
 src/pkg/math/mod_386.s                             |    2 +-
 src/pkg/math/mod_amd64.s                           |    2 +-
 src/pkg/math/mod_arm.s                             |    2 +-
 src/pkg/math/modf_386.s                            |    2 +-
 src/pkg/math/modf_amd64.s                          |    2 +-
 src/pkg/math/modf_arm.s                            |    2 +-
 src/pkg/math/remainder_386.s                       |    2 +-
 src/pkg/math/remainder_amd64.s                     |    2 +-
 src/pkg/math/remainder_arm.s                       |    2 +-
 src/pkg/math/sin_386.s                             |    2 +-
 src/pkg/math/sin_amd64.s                           |    2 +-
 src/pkg/math/sin_arm.s                             |    2 +-
 src/pkg/math/sincos_386.s                          |    2 +-
 src/pkg/math/sincos_amd64.s                        |    2 +-
 src/pkg/math/sincos_arm.s                          |    2 +-
 src/pkg/math/sqrt_386.s                            |    2 +-
 src/pkg/math/sqrt_amd64.s                          |    2 +-
 src/pkg/math/sqrt_arm.s                            |    2 +-
 src/pkg/math/tan_386.s                             |    2 +-
 src/pkg/math/tan_amd64.s                           |    2 +-
 src/pkg/math/tan_arm.s                             |    2 +-
 src/pkg/mime/type.go                               |   84 +-
 src/pkg/mime/type_plan9.go                         |    2 +-
 src/pkg/mime/type_test.go                          |   41 +-
 src/pkg/mime/type_unix.go                          |    2 +-
 src/pkg/mime/type_windows.go                       |    2 +-
 src/pkg/net/dnsclient_unix.go                      |   95 +-
 src/pkg/net/dnsclient_unix_test.go                 |   31 +-
 src/pkg/net/dnsconfig_unix.go                      |   37 +-
 src/pkg/net/dnsconfig_unix_test.go                 |   91 +-
 src/pkg/net/http/export_test.go                    |    6 +
 src/pkg/net/http/fs.go                             |    2 +-
 src/pkg/net/http/httptest/server_test.go           |   23 -
 src/pkg/net/http/httputil/reverseproxy.go          |   16 +-
 src/pkg/net/http/readrequest_test.go               |   41 +-
 src/pkg/net/http/request.go                        |   31 +
 src/pkg/net/http/request_test.go                   |   70 +
 src/pkg/net/http/requestwrite_test.go              |    4 +-
 src/pkg/net/http/serve_test.go                     |   77 +
 src/pkg/net/http/server.go                         |    9 +-
 src/pkg/net/http/transfer.go                       |   10 +-
 src/pkg/net/http/transport.go                      |   82 +-
 src/pkg/net/http/transport_test.go                 |   64 +-
 src/pkg/net/lookup_test.go                         |  164 +-
 src/pkg/net/lookup_windows.go                      |   79 +-
 src/pkg/net/lookup_windows_test.go                 |  243 +++
 src/pkg/net/net_windows_test.go                    |    2 +
 src/pkg/net/sockopt_bsd.go                         |    2 +-
 src/pkg/net/testdata/domain-resolv.conf            |    5 +
 src/pkg/net/testdata/empty-resolv.conf             |    1 +
 src/pkg/net/testdata/resolv.conf                   |    6 +-
 src/pkg/net/testdata/search-resolv.conf            |    5 +
 src/pkg/net/url/url.go                             |   11 +-
 src/pkg/net/url/url_test.go                        |   56 +
 src/pkg/os/file_windows.go                         |    6 +-
 src/pkg/os/getwd.go                                |   24 +-
 src/pkg/os/os_test.go                              |    9 +-
 src/pkg/os/os_windows_test.go                      |   54 +
 src/pkg/os/signal/sig.s                            |    2 +-
 src/pkg/os/stat_windows.go                         |    6 +-
 src/pkg/path/filepath/path.go                      |   11 +-
 src/pkg/path/filepath/path_plan9.go                |    4 +
 src/pkg/path/filepath/path_test.go                 |   21 +-
 src/pkg/path/filepath/path_unix.go                 |    4 +
 src/pkg/path/filepath/path_windows.go              |    5 +
 src/pkg/path/path.go                               |   10 +-
 src/pkg/reflect/all_test.go                        |   21 +
 src/pkg/reflect/asm_386.s                          |   23 +-
 src/pkg/reflect/asm_amd64.s                        |   23 +-
 src/pkg/reflect/asm_amd64p32.s                     |   23 +-
 src/pkg/reflect/asm_arm.s                          |   23 +-
 src/pkg/reflect/asm_power64x.s                     |   23 +-
 src/pkg/reflect/type.go                            |   21 +-
 src/pkg/reflect/value.go                           |   94 +-
 src/pkg/regexp/onepass.go                          |    5 +-
 src/pkg/regexp/syntax/parse.go                     |    2 +-
 src/pkg/runtime/alg.go                             |  291 +++-
 src/pkg/runtime/alg.goc                            |  423 -----
 src/pkg/runtime/arch_386.go                        |   12 +
 src/pkg/runtime/arch_amd64.go                      |   12 +
 src/pkg/runtime/arch_amd64p32.go                   |   12 +
 src/pkg/runtime/arch_arm.go                        |   12 +
 src/pkg/runtime/arch_arm.h                         |    2 +-
 src/pkg/runtime/asm_386.s                          |  329 ++--
 src/pkg/runtime/asm_amd64.s                        |  335 ++--
 src/pkg/runtime/asm_amd64p32.s                     |  294 ++--
 src/pkg/runtime/asm_arm.s                          |  302 ++--
 src/pkg/runtime/atomic.go                          |   51 +
 src/pkg/runtime/atomic_386.c                       |    2 +-
 src/pkg/runtime/atomic_amd64x.c                    |    2 +-
 src/pkg/runtime/atomic_arm.c                       |  169 --
 src/pkg/runtime/atomic_arm.go                      |  155 ++
 src/pkg/runtime/callback_windows.c                 |   77 -
 src/pkg/runtime/cgo/asm_386.s                      |    2 +-
 src/pkg/runtime/cgo/asm_amd64.s                    |    2 +-
 src/pkg/runtime/cgo/asm_arm.s                      |    2 +-
 src/pkg/runtime/cgo/asm_nacl_amd64p32.s            |    2 +-
 src/pkg/runtime/cgo/callbacks.c                    |    8 +-
 src/pkg/runtime/cgo/setenv.c                       |    2 +-
 src/pkg/runtime/{cgocall.c => cgocall.go}          |  306 ++--
 src/pkg/runtime/cgocall.h                          |    1 +
 src/pkg/runtime/chan.go                            |  644 +++++++
 src/pkg/runtime/chan.goc                           | 1183 -------------
 src/pkg/runtime/chan.h                             |   21 +-
 src/pkg/runtime/chan_test.go                       |   52 +
 src/pkg/runtime/cpuprof.go                         |  425 +++++
 src/pkg/runtime/cpuprof.goc                        |  433 -----
 src/pkg/runtime/debug.go                           |  162 +-
 src/pkg/runtime/debug/garbage.go                   |   16 +-
 src/pkg/runtime/debug/stubs.go                     |   20 +
 src/pkg/runtime/debug/stubs.s                      |   21 +
 src/pkg/runtime/defs.c                             |    3 +-
 src/pkg/runtime/defs1_linux.go                     |    2 +-
 src/pkg/runtime/defs2_linux.go                     |    2 +-
 src/pkg/runtime/defs_arm_linux.go                  |    2 +-
 src/pkg/runtime/defs_darwin_386.h                  |    8 +-
 src/pkg/runtime/defs_darwin_amd64.h                |    8 +-
 src/pkg/runtime/defs_dragonfly.go                  |    2 +-
 src/pkg/runtime/defs_dragonfly_386.h               |    8 +-
 src/pkg/runtime/defs_dragonfly_amd64.h             |    8 +-
 src/pkg/runtime/defs_freebsd.go                    |    2 +-
 src/pkg/runtime/defs_freebsd_386.h                 |    8 +-
 src/pkg/runtime/defs_freebsd_amd64.h               |    8 +-
 src/pkg/runtime/defs_freebsd_arm.h                 |    8 +-
 src/pkg/runtime/defs_linux_386.h                   |   12 +-
 src/pkg/runtime/defs_linux_amd64.h                 |   12 +-
 src/pkg/runtime/defs_linux_arm.h                   |   12 +-
 src/pkg/runtime/defs_linux_power64.h               |    6 +-
 src/pkg/runtime/defs_nacl_amd64p32.h               |    2 +-
 src/pkg/runtime/defs_netbsd.go                     |    2 +-
 src/pkg/runtime/defs_netbsd_386.h                  |   10 +-
 src/pkg/runtime/defs_netbsd_amd64.h                |   10 +-
 src/pkg/runtime/defs_netbsd_arm.h                  |   10 +-
 src/pkg/runtime/defs_openbsd.go                    |    6 +-
 src/pkg/runtime/defs_openbsd_386.h                 |   12 +-
 src/pkg/runtime/defs_openbsd_amd64.h               |   12 +-
 src/pkg/runtime/defs_plan9_386.h                   |    5 +-
 src/pkg/runtime/defs_solaris.go                    |    2 +-
 src/pkg/runtime/defs_solaris_amd64.h               |    8 +-
 src/pkg/runtime/env_plan9.c                        |   42 -
 src/pkg/runtime/env_plan9.go                       |   52 +
 src/pkg/runtime/env_posix.c                        |   62 -
 src/pkg/runtime/env_posix.go                       |   52 +
 src/pkg/runtime/error.go                           |   17 +-
 src/pkg/runtime/export_futex_test.go               |    3 -
 src/pkg/runtime/export_test.go                     |  133 +-
 src/pkg/runtime/extern.go                          |   86 +-
 src/pkg/runtime/funcdata.h                         |   14 +-
 src/pkg/runtime/gc_test.go                         |    8 +
 src/pkg/runtime/gcinfo_test.go                     |  118 +-
 src/pkg/runtime/hash_test.go                       |   60 +
 src/pkg/runtime/hashmap.go                         |  133 +-
 src/pkg/runtime/hashmap_fast.go                    |   48 +-
 src/pkg/runtime/heapdump.c                         |  139 +-
 src/pkg/runtime/iface.go                           |  439 +++++
 src/pkg/runtime/iface.goc                          |  611 -------
 src/pkg/runtime/{lfstack.goc => lfstack.c}         |   16 +-
 src/pkg/runtime/lock_futex.c                       |  201 ---
 src/pkg/runtime/lock_futex.go                      |  205 +++
 src/pkg/runtime/lock_sema.c                        |  266 ---
 src/pkg/runtime/lock_sema.go                       |  270 +++
 src/pkg/runtime/malloc.c                           |  197 +--
 src/pkg/runtime/malloc.go                          |  572 +++++-
 src/pkg/runtime/malloc.h                           |  103 +-
 src/pkg/runtime/malloc1.go                         |   26 -
 src/pkg/runtime/malloc_test.go                     |   26 +-
 src/pkg/runtime/mallocrand.go                      |   93 -
 src/pkg/runtime/mallocrep.go                       |   72 -
 src/pkg/runtime/mallocrep1.go                      |  144 --
 src/pkg/runtime/mcache.c                           |   20 +-
 src/pkg/runtime/mcentral.c                         |  104 +-
 src/pkg/runtime/mem_darwin.c                       |    4 +-
 src/pkg/runtime/mem_dragonfly.c                    |    4 +-
 src/pkg/runtime/mem_freebsd.c                      |    4 +-
 src/pkg/runtime/mem_linux.c                        |    4 +-
 src/pkg/runtime/mem_nacl.c                         |    8 +-
 src/pkg/runtime/mem_netbsd.c                       |    4 +-
 src/pkg/runtime/mem_openbsd.c                      |    4 +-
 src/pkg/runtime/mem_plan9.c                        |   58 +-
 src/pkg/runtime/mem_solaris.c                      |    4 +-
 src/pkg/runtime/mem_windows.c                      |   20 +-
 src/pkg/runtime/memclr_386.s                       |    2 +-
 src/pkg/runtime/memclr_amd64.s                     |    2 +-
 src/pkg/runtime/memclr_arm.s                       |    2 +-
 src/pkg/runtime/memclr_plan9_386.s                 |    2 +-
 src/pkg/runtime/memclr_plan9_amd64.s               |    6 +-
 src/pkg/runtime/memmove_386.s                      |    2 +-
 src/pkg/runtime/memmove_amd64.s                    |    2 +-
 src/pkg/runtime/memmove_arm.s                      |    2 +-
 src/pkg/runtime/memmove_nacl_amd64p32.s            |    4 +-
 src/pkg/runtime/memmove_plan9_386.s                |    4 +-
 src/pkg/runtime/memmove_plan9_amd64.s              |    4 +-
 src/pkg/runtime/mgc0.c                             | 1014 ++++-------
 src/pkg/runtime/mgc0.go                            |   43 +
 src/pkg/runtime/mgc0.h                             |   17 +-
 src/pkg/runtime/mheap.c                            |  177 +-
 src/pkg/runtime/mprof.go                           |  660 +++++++
 src/pkg/runtime/mprof.goc                          |  489 ------
 src/pkg/runtime/mprof.h                            |   56 -
 src/pkg/runtime/msize.c                            |    2 +-
 src/pkg/runtime/netpoll.go                         |  455 +++++
 src/pkg/runtime/netpoll.goc                        |  467 -----
 src/pkg/runtime/netpoll_epoll.c                    |  103 --
 src/pkg/runtime/netpoll_epoll.go                   |   97 ++
 src/pkg/runtime/netpoll_kqueue.c                   |  111 --
 src/pkg/runtime/netpoll_kqueue.go                  |  101 ++
 src/pkg/runtime/netpoll_nacl.c                     |   37 -
 src/pkg/runtime/netpoll_nacl.go                    |   26 +
 src/pkg/runtime/netpoll_solaris.c                  |   14 +-
 src/pkg/runtime/netpoll_windows.c                  |   10 +-
 src/pkg/runtime/noasm_arm.go                       |   54 +
 src/pkg/runtime/os_darwin.c                        |  109 +-
 src/pkg/runtime/os_darwin.go                       |   26 +
 src/pkg/runtime/os_darwin.h                        |   19 +-
 src/pkg/runtime/os_dragonfly.c                     |   67 +-
 src/pkg/runtime/os_dragonfly.go                    |   20 +
 src/pkg/runtime/os_dragonfly.h                     |   13 +-
 src/pkg/runtime/os_freebsd.c                       |   67 +-
 src/pkg/runtime/os_freebsd.go                      |   19 +
 src/pkg/runtime/os_freebsd.h                       |   14 +-
 src/pkg/runtime/os_freebsd_arm.c                   |    2 +-
 src/pkg/runtime/os_linux.c                         |   37 +-
 src/pkg/runtime/os_linux.go                        |   19 +
 src/pkg/runtime/os_linux.h                         |   19 +-
 src/pkg/runtime/os_linux_386.c                     |    2 +-
 src/pkg/runtime/os_linux_arm.c                     |    2 +-
 src/pkg/runtime/os_nacl.c                          |   72 +-
 src/pkg/runtime/os_nacl.go                         |   30 +
 src/pkg/runtime/os_nacl_arm.c                      |    2 +-
 src/pkg/runtime/os_netbsd.c                        |   79 +-
 src/pkg/runtime/os_netbsd.go                       |   22 +
 src/pkg/runtime/os_netbsd.h                        |   25 +-
 src/pkg/runtime/os_netbsd_arm.c                    |    2 +-
 src/pkg/runtime/os_openbsd.c                       |   53 +-
 src/pkg/runtime/os_openbsd.go                      |   19 +
 src/pkg/runtime/os_openbsd.h                       |   17 +-
 src/pkg/runtime/os_plan9.c                         |   47 +-
 src/pkg/runtime/os_plan9.go                        |   34 +
 src/pkg/runtime/os_plan9.h                         |   28 +-
 src/pkg/runtime/os_solaris.c                       |  111 +-
 src/pkg/runtime/os_solaris.go                      |  101 ++
 src/pkg/runtime/os_solaris.h                       |   40 +-
 src/pkg/runtime/os_windows.c                       |  208 ++-
 src/pkg/runtime/os_windows.go                      |   33 +
 src/pkg/runtime/os_windows.h                       |   16 +-
 src/pkg/runtime/os_windows_386.c                   |    4 +-
 src/pkg/runtime/os_windows_386.go                  |   11 +
 src/pkg/runtime/os_windows_amd64.c                 |    4 +-
 src/pkg/runtime/os_windows_amd64.go                |   11 +
 src/pkg/runtime/panic.c                            |  453 +----
 src/pkg/runtime/panic.go                           |  216 +++
 src/pkg/runtime/panic1.go                          |  209 +++
 src/pkg/runtime/parfor.c                           |   47 +-
 src/pkg/runtime/pprof/pprof.go                     |    6 -
 src/pkg/runtime/pprof/pprof_test.go                |  101 +-
 src/pkg/runtime/print.c                            |  443 -----
 src/pkg/runtime/print.go                           |  109 --
 src/pkg/runtime/print1.go                          |  341 ++++
 src/pkg/runtime/proc.c                             | 1245 +++++++++----
 src/pkg/runtime/proc.go                            |  123 ++
 src/pkg/runtime/proc_test.go                       |    4 +-
 src/pkg/runtime/race.c                             |  121 +-
 src/pkg/runtime/race.go                            |   80 +-
 src/pkg/runtime/race/README                        |    2 +-
 src/pkg/runtime/race/race_darwin_amd64.syso        |  Bin 249744 -> 278328 bytes
 src/pkg/runtime/race/race_freebsd_amd64.syso       |  Bin 261096 -> 294224 bytes
 src/pkg/runtime/race/race_linux_amd64.syso         |  Bin 265024 -> 298064 bytes
 src/pkg/runtime/race/race_windows_amd64.syso       |  Bin 247609 -> 292311 bytes
 src/pkg/runtime/race/testdata/atomic_test.go       |    6 +-
 src/pkg/runtime/race0.c                            |  124 --
 src/pkg/runtime/race0.go                           |   23 +-
 src/pkg/runtime/race_amd64.s                       |  145 +-
 src/pkg/runtime/rdebug.go                          |   37 +
 src/pkg/runtime/rdebug.goc                         |   27 -
 src/pkg/runtime/rt0_android_arm.s                  |    2 +-
 src/pkg/runtime/rt0_darwin_386.s                   |    4 +-
 src/pkg/runtime/rt0_darwin_amd64.s                 |    4 +-
 src/pkg/runtime/rt0_dragonfly_386.s                |    4 +-
 src/pkg/runtime/rt0_dragonfly_amd64.s              |    4 +-
 src/pkg/runtime/rt0_freebsd_386.s                  |    4 +-
 src/pkg/runtime/rt0_freebsd_amd64.s                |    4 +-
 src/pkg/runtime/rt0_freebsd_arm.s                  |    6 +-
 src/pkg/runtime/rt0_linux_386.s                    |    4 +-
 src/pkg/runtime/rt0_linux_amd64.s                  |    4 +-
 src/pkg/runtime/rt0_linux_arm.s                    |    4 +-
 src/pkg/runtime/rt0_nacl_386.s                     |    4 +-
 src/pkg/runtime/rt0_nacl_amd64p32.s                |    4 +-
 src/pkg/runtime/rt0_nacl_arm.s                     |    4 +-
 src/pkg/runtime/rt0_netbsd_386.s                   |    4 +-
 src/pkg/runtime/rt0_netbsd_amd64.s                 |    4 +-
 src/pkg/runtime/rt0_netbsd_arm.s                   |    4 +-
 src/pkg/runtime/rt0_openbsd_386.s                  |    4 +-
 src/pkg/runtime/rt0_openbsd_amd64.s                |    4 +-
 src/pkg/runtime/rt0_plan9_386.s                    |    4 +-
 src/pkg/runtime/rt0_plan9_amd64.s                  |    4 +-
 src/pkg/runtime/rt0_solaris_amd64.s                |    4 +-
 src/pkg/runtime/rt0_windows_386.s                  |    4 +-
 src/pkg/runtime/rt0_windows_amd64.s                |    4 +-
 src/pkg/runtime/runtime.c                          |  139 +-
 src/pkg/runtime/runtime.go                         |   37 +
 src/pkg/runtime/runtime.h                          |  337 ++--
 src/pkg/runtime/runtime1.goc                       |  128 --
 src/pkg/runtime/select.go                          |  636 +++++++
 src/pkg/runtime/sema.go                            |  266 +++
 src/pkg/runtime/sema.goc                           |  294 ----
 src/pkg/runtime/signal.c                           |   25 +
 src/pkg/runtime/signal_arm.c                       |    1 -
 src/pkg/runtime/signal_nacl_amd64p32.h             |    2 +-
 src/pkg/runtime/signal_unix.c                      |    2 +-
 src/pkg/runtime/signal_unix.go                     |   13 +
 src/pkg/runtime/sigqueue.go                        |  173 ++
 src/pkg/runtime/sigqueue.goc                       |  166 --
 src/pkg/runtime/slice.go                           |   22 +-
 src/pkg/runtime/softfloat_arm.c                    |   84 +-
 src/pkg/runtime/stack.c                            |  267 ++-
 src/pkg/runtime/stack.go                           |   13 +
 src/pkg/runtime/stack.h                            |    4 +-
 src/pkg/runtime/stack_test.go                      |   37 +-
 src/pkg/runtime/string.c                           |    3 +-
 src/pkg/runtime/string.go                          |   38 +-
 src/pkg/runtime/stubs.go                           |  266 ++-
 src/pkg/runtime/stubs.goc                          |   81 -
 src/pkg/runtime/symtab.go                          |  292 ++++
 src/pkg/runtime/symtab.goc                         |  332 ----
 src/pkg/runtime/sys_darwin_386.s                   |   35 +-
 src/pkg/runtime/sys_darwin_amd64.s                 |  161 +-
 src/pkg/runtime/sys_dragonfly_386.s                |   30 +-
 src/pkg/runtime/sys_dragonfly_amd64.s              |  122 +-
 src/pkg/runtime/sys_freebsd_386.s                  |   28 +-
 src/pkg/runtime/sys_freebsd_amd64.s                |  122 +-
 src/pkg/runtime/sys_freebsd_arm.s                  |   17 +-
 src/pkg/runtime/sys_linux_386.s                    |  155 +-
 src/pkg/runtime/sys_linux_amd64.s                  |  163 +-
 src/pkg/runtime/sys_linux_arm.s                    |   45 +-
 src/pkg/runtime/sys_nacl_386.s                     |  242 ++-
 src/pkg/runtime/sys_nacl_amd64p32.s                |  200 ++-
 src/pkg/runtime/sys_nacl_arm.s                     |  190 +-
 src/pkg/runtime/sys_netbsd_386.s                   |   26 +-
 src/pkg/runtime/sys_netbsd_amd64.s                 |  120 +-
 src/pkg/runtime/sys_netbsd_arm.s                   |   21 +-
 src/pkg/runtime/sys_openbsd_386.s                  |   48 +-
 src/pkg/runtime/sys_openbsd_amd64.s                |  124 +-
 src/pkg/runtime/sys_plan9_386.s                    |  111 +-
 src/pkg/runtime/sys_plan9_amd64.s                  |   96 +-
 src/pkg/runtime/sys_solaris_amd64.s                |   29 +-
 src/pkg/runtime/sys_windows_386.s                  |   33 +-
 src/pkg/runtime/sys_windows_amd64.s                |   40 +-
 src/pkg/runtime/syscall_solaris.c                  |   23 +
 src/pkg/runtime/syscall_solaris.go                 |  322 ++++
 src/pkg/runtime/syscall_solaris.goc                |  374 ----
 src/pkg/runtime/syscall_windows.c                  |  166 ++
 src/pkg/runtime/syscall_windows.go                 |   88 +
 src/pkg/runtime/syscall_windows.goc                |  145 --
 src/pkg/runtime/thunk.s                            |  156 ++
 src/pkg/runtime/thunk_solaris_amd64.s              |   88 +
 src/pkg/runtime/time.go                            |  266 +++
 src/pkg/runtime/time.goc                           |  343 ----
 src/pkg/runtime/tls_arm.s                          |    9 +-
 src/pkg/runtime/traceback.go                       |  639 +++++++
 src/pkg/runtime/traceback_windows.go               |   63 +
 src/pkg/runtime/traceback_x86.c                    |  436 -----
 src/pkg/runtime/type.h                             |   14 +-
 src/pkg/runtime/typekind.go                        |   44 +
 src/pkg/runtime/typekind.h                         |    3 +-
 src/pkg/runtime/vlop_386.s                         |   10 +-
 src/pkg/runtime/vlop_arm.s                         |   41 +-
 src/pkg/runtime/{vlrt_386.c => vlrt.c}             |  507 +++---
 src/pkg/runtime/vlrt.go                            |  258 +++
 src/pkg/runtime/vlrt_arm.c                         |  808 ---------
 src/pkg/strconv/isprint.go                         |  198 ++-
 src/pkg/strconv/makeisprint.go                     |   70 +-
 src/pkg/strconv/quote.go                           |    2 +
 src/pkg/strings/strings.go                         |   63 +-
 src/pkg/strings/strings_test.go                    |   19 +
 src/pkg/sync/atomic/asm_386.s                      |    2 +-
 src/pkg/sync/atomic/asm_amd64.s                    |    2 +-
 src/pkg/sync/atomic/asm_amd64p32.s                 |    2 +-
 src/pkg/sync/atomic/asm_arm.s                      |    2 +-
 src/pkg/sync/atomic/asm_freebsd_arm.s              |    2 +-
 src/pkg/sync/atomic/asm_linux_arm.s                |   26 +-
 src/pkg/sync/atomic/asm_nacl_arm.s                 |    2 +-
 src/pkg/sync/atomic/asm_netbsd_arm.s               |    2 +-
 src/pkg/sync/atomic/doc.go                         |    2 -
 src/pkg/sync/atomic/race.go                        |  276 ---
 src/pkg/sync/atomic/race.s                         |    8 +
 src/pkg/sync/runtime.go                            |    8 +-
 src/pkg/sync/waitgroup.go                          |   11 +-
 src/pkg/syscall/asm_darwin_386.s                   |    2 +-
 src/pkg/syscall/asm_darwin_amd64.s                 |    2 +-
 src/pkg/syscall/asm_dragonfly_386.s                |    2 +-
 src/pkg/syscall/asm_dragonfly_amd64.s              |    2 +-
 src/pkg/syscall/asm_freebsd_386.s                  |    2 +-
 src/pkg/syscall/asm_freebsd_amd64.s                |    2 +-
 src/pkg/syscall/asm_freebsd_arm.s                  |    2 +-
 src/pkg/syscall/asm_linux_386.s                    |    2 +-
 src/pkg/syscall/asm_linux_amd64.s                  |    2 +-
 src/pkg/syscall/asm_linux_arm.s                    |    5 +-
 src/pkg/syscall/asm_nacl_386.s                     |    2 +-
 src/pkg/syscall/asm_nacl_amd64p32.s                |    2 +-
 src/pkg/syscall/asm_nacl_arm.s                     |    2 +-
 src/pkg/syscall/asm_netbsd_386.s                   |    2 +-
 src/pkg/syscall/asm_netbsd_amd64.s                 |    2 +-
 src/pkg/syscall/asm_netbsd_arm.s                   |    2 +-
 src/pkg/syscall/asm_openbsd_386.s                  |    2 +-
 src/pkg/syscall/asm_openbsd_amd64.s                |    2 +-
 src/pkg/syscall/asm_plan9_386.s                    |    2 +-
 src/pkg/syscall/asm_plan9_amd64.s                  |    2 +-
 src/pkg/syscall/asm_solaris_amd64.s                |   76 +-
 src/pkg/syscall/asm_windows.s                      |   13 +
 src/pkg/syscall/asm_windows_386.s                  |    7 -
 src/pkg/syscall/asm_windows_amd64.s                |    7 -
 src/pkg/syscall/exec_windows.go                    |   15 +-
 src/pkg/syscall/mkall.sh                           |    2 +-
 src/pkg/syscall/mkall_windows.bat                  |   10 +-
 src/pkg/syscall/net_nacl.go                        |    7 +-
 src/pkg/syscall/so_solaris.go                      |    2 +-
 src/pkg/syscall/syscall.go                         |    7 +
 src/pkg/syscall/syscall_bsd.go                     |   35 +-
 src/pkg/syscall/syscall_dragonfly.go               |    2 -
 src/pkg/syscall/syscall_freebsd.go                 |    2 -
 src/pkg/syscall/syscall_openbsd.go                 |    4 +-
 src/pkg/syscall/syscall_windows.go                 |   19 +-
 src/pkg/syscall/time_nacl_386.s                    |    2 +-
 src/pkg/syscall/time_nacl_amd64p32.s               |    2 +-
 src/pkg/syscall/time_nacl_arm.s                    |    2 +-
 src/pkg/syscall/zsyscall_dragonfly_386.go          |   20 -
 src/pkg/syscall/zsyscall_dragonfly_amd64.go        |   20 -
 src/pkg/syscall/zsyscall_freebsd_386.go            |   20 -
 src/pkg/syscall/zsyscall_freebsd_amd64.go          |   20 -
 src/pkg/syscall/zsyscall_freebsd_arm.go            |   20 -
 src/pkg/syscall/zsyscall_openbsd_386.go            |   20 -
 src/pkg/syscall/zsyscall_openbsd_amd64.go          |   20 -
 ...zsyscall_windows_386.go => zsyscall_windows.go} |    9 +-
 src/pkg/syscall/zsyscall_windows_amd64.go          | 1839 --------------------
 src/pkg/syscall/ztypes_windows.go                  |   12 +
 src/pkg/text/scanner/scanner.go                    |    6 +
 src/pkg/text/template/exec.go                      |    6 +-
 src/pkg/text/template/exec_test.go                 |    5 +
 src/pkg/text/template/parse/node.go                |  248 ++-
 src/pkg/text/template/parse/parse.go               |   62 +-
 src/pkg/text/template/parse/parse_test.go          |    5 +-
 src/pkg/time/Makefile                              |    9 -
 src/pkg/time/format.go                             |    2 +-
 src/pkg/time/format_test.go                        |   47 +-
 src/pkg/time/genzabbrs.go                          |   20 +-
 src/pkg/time/internal_test.go                      |    2 +-
 src/pkg/time/sleep.go                              |    9 +-
 src/pkg/time/zoneinfo_abbrs_windows.go             |    3 +-
 src/pkg/time/zoneinfo_windows.go                   |    2 +
 src/pkg/unicode/Makefile                           |   16 -
 src/pkg/unicode/letter.go                          |    3 +
 src/pkg/unicode/maketables.go                      |  178 +-
 src/pkg/unicode/script_test.go                     |   27 +-
 src/pkg/unicode/tables.go                          | 1248 +++++++++----
 src/run.bash                                       |    7 +-
 test/fixedbugs/bug490.go                           |   16 +
 test/fixedbugs/issue4388.go                        |    6 +-
 test/fixedbugs/issue5856.go                        |    2 +-
 test/fixedbugs/issue7760.go                        |   25 +
 test/fixedbugs/issue8325.go                        |   31 +
 test/fixedbugs/issue8336.go                        |   29 +
 test/fixedbugs/issue8475.go                        |   25 +
 test/fixedbugs/issue8612.go                        |   34 +
 test/live.go                                       |   53 +-
 test/map.go                                        |    2 +-
 test/maplinear.go                                  |  143 ++
 test/mapnan.go                                     |   56 -
 test/named1.go                                     |    8 +-
 test/nosplit.go                                    |   10 +-
 test/recover.go                                    |   48 +-
 test/slice3.go                                     |   18 +-
 test/slicecap.go                                   |   90 +
 846 files changed, 25395 insertions(+), 21058 deletions(-)
