commit f875f8fe76160699432cdab8a23cfd292462c2b3
Author: Than McIntosh <thanm@google.com>
Date:   Thu Apr 30 16:07:31 2020 -0400

    [dev.link] cmd/link: tweaks to data alignment processing
    
    Now that the loader's internal storage mechanism for symbol alignment
    is array-based and not map-based, we can go back to computing symbol
    alignment in the parallel-by-section section of dodata.
    
    With this patch plus the previous one, this produces a small
    kubelet speedup:
    
    $ benchstat out.devlink.txt out.align.txt
    name                        old time/op  new time/op  delta
    RelinkKubelet                13.3s ± 2%   13.1s ± 2%  -1.27%  (p=0.000 n=20+20)
    RelinkKubelet-WithoutDebug   7.36s ± 5%   7.14s ± 3%  -3.00%  (p=0.000 n=20+20)
    
    Change-Id: I9eb0e8fea6aeb12f188f499e9031d5a3a23232c7
    Reviewed-on: https://go-review.googlesource.com/c/go/+/231221
    Run-TryBot: Than McIntosh <thanm@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/link/internal/ld/data.go | 18 +++++++-----------
 1 file changed, 7 insertions(+), 11 deletions(-)
