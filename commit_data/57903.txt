commit 5b20eec8a0eb3bd4681e315c0c4023c5164ea7b9
Author: Russ Cox <rsc@golang.org>
Date:   Tue Nov 5 13:33:17 2024 -0500

    cmd/internal/obj: replace obj.Addrel func with LSym.AddRel method
    
    The old API was to do
    
            r := obj.AddRel(sym)
            r.Type = this
            r.Off = that
            etc
    
    The new API is:
    
            sym.AddRel(ctxt, obj.Reloc{Type: this: Off: that, etc})
    
    This new API is more idiomatic and avoids ever having relocations
    that are only partially constructed. Most importantly, it sets up
    for sym.AddRel being able to check relocation validity in the future.
    (Passing ctxt is for use in validity checking.)
    
    Passes golang.org/x/tools/cmd/toolstash/buildall.
    
    Change-Id: I042ea76e61bb3bf6402f98ca11291a13f4799972
    Reviewed-on: https://go-review.googlesource.com/c/go/+/625616
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Cherry Mui <cherryyz@google.com>

 src/cmd/compile/internal/dwarfgen/dwarf.go         |   6 +-
 src/cmd/compile/internal/pkginit/init.go           |   4 +-
 .../compile/internal/reflectdata/map_noswiss.go    |   4 +-
 src/cmd/compile/internal/reflectdata/map_swiss.go  |   4 +-
 src/cmd/compile/internal/reflectdata/reflect.go    |  28 ++-
 src/cmd/compile/internal/rttype/rttype.go          |   9 +-
 src/cmd/compile/internal/ssagen/pgen.go            |   4 +-
 src/cmd/compile/internal/staticinit/sched.go       |   4 +-
 src/cmd/compile/internal/walk/expr.go              |   8 +-
 src/cmd/internal/obj/arm/asm5.go                   |  70 +++----
 src/cmd/internal/obj/arm64/asm7.go                 | 164 ++++++++-------
 src/cmd/internal/obj/data.go                       |  56 +++---
 src/cmd/internal/obj/dwarf.go                      |   4 +-
 src/cmd/internal/obj/link.go                       |   2 +-
 src/cmd/internal/obj/loong64/asm.go                | 224 +++++++++++----------
 src/cmd/internal/obj/mips/asm0.go                  | 157 ++++++++-------
 src/cmd/internal/obj/mips/obj0.go                  |   2 +-
 src/cmd/internal/obj/objfile_test.go               |  12 +-
 src/cmd/internal/obj/ppc64/asm9.go                 | 108 +++++-----
 src/cmd/internal/obj/ppc64/obj9.go                 |  11 +-
 src/cmd/internal/obj/riscv/obj.go                  |  26 +--
 src/cmd/internal/obj/s390x/asmz.go                 |  86 ++++----
 src/cmd/internal/obj/wasm/wasmobj.go               |  27 +--
 src/cmd/internal/obj/x86/asm6.go                   | 158 +++++++--------
 src/cmd/internal/obj/x86/seh.go                    |  11 +-
 25 files changed, 615 insertions(+), 574 deletions(-)
