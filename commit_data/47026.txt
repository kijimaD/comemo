commit 0625460f79eed41039939f957baceaff5e269672
Author: Russ Cox <rsc@golang.org>
Date:   Fri Feb 19 09:01:32 2021 -0500

    cmd/vet: update buildtag check for //go:build lines
    
    Brings in golang.org/x/tools@2363391a
    and adjusts, adds cmd/vet tests accordingly.
    
    Part of //go:build change (#41184).
    See https://golang.org/design/draft-gobuild
    
    This brings in the new //go:build checks in cmd/vet.
    
    Change-Id: I8a9735cc014171691012b307ec30e94c81aadfe1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/240609
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go.mod                                     |   2 +-
 src/cmd/go.sum                                     |   6 +-
 .../tools/go/analysis/passes/buildtag/buildtag.go  | 318 +++++++++++++++++----
 .../go/analysis/passes/buildtag/buildtag_old.go    | 174 +++++++++++
 .../go/analysis/passes/loopclosure/loopclosure.go  |  67 +++--
 .../x/tools/go/analysis/unitchecker/unitchecker.go |   2 +-
 .../go/analysis/unitchecker/unitchecker112.go      |   1 +
 src/cmd/vendor/modules.txt                         |   2 +-
 src/cmd/vet/testdata/asm/asm1.s                    |   1 +
 src/cmd/vet/testdata/buildtag/buildtag.go          |   6 +-
 src/cmd/vet/testdata/buildtag/buildtag2.go         |  22 ++
 src/cmd/vet/testdata/buildtag/buildtag3.go         |  15 +
 src/cmd/vet/testdata/buildtag/buildtag4.go         |  11 +
 src/cmd/vet/testdata/buildtag/buildtag5.go         |  11 +
 src/cmd/vet/testdata/buildtag/buildtag6.s          |   9 +
 src/cmd/vet/testdata/buildtag/buildtag7.s          |  11 +
 src/cmd/vet/testdata/tagtest/file1.go              |   1 +
 src/cmd/vet/testdata/tagtest/file2.go              |   1 +
 src/cmd/vet/vet_test.go                            |   9 +-
 19 files changed, 582 insertions(+), 87 deletions(-)
