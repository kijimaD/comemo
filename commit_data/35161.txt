commit b32ac54620067dacc793192fb862ddf2e6cd4386
Author: Russ Cox <rsc@golang.org>
Date:   Thu Jan 4 13:25:31 2018 -0500

    cmd/test2json: fix test log output containing test output
    
    If test case framing appears in ordinary test output,
    then test2json can get confused. If the fake framing is being
    saved with t.Logf/t.Errorf/etc then we can already
    distinguish it from real framing, and the code did.
    It just forgot to write that framing as output (1-line fix).
    
    If the fake framing is being generated by printing directly
    to stdout/stderr, then test2json will simply get confused.
    There's not a lot to do at that point (maybe it's even a feature).
    
    Fixes #23036.
    
    Change-Id: I29449c7ace304172b89d8babe23de507c0500455
    Reviewed-on: https://go-review.googlesource.com/86238
    Run-TryBot: Russ Cox <rsc@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/internal/test2json/test2json.go             |  1 +
 src/cmd/internal/test2json/testdata/issue23036.json | 12 ++++++++++++
 src/cmd/internal/test2json/testdata/issue23036.test |  9 +++++++++
 3 files changed, 22 insertions(+)
