commit 5bd442aba31c1720bb333dafbb65cf977091d292
Author: Robert Griesemer <gri@golang.org>
Date:   Thu Aug 1 11:16:27 2024 -0700

    go/types, types2: avoid spurious "undefined" errors" for invalid identifiers
    
    The syntax parser complains about invalid identifiers.
    Don't report a typechecker error when such an identifier
    cannot be found in the current scope.
    
    For now add a local test for types2 only because the
    go/parser behaves differently than the syntax parser
    which leads to slightly different error positions.
    
    Fixes #68183.
    
    Change-Id: Idbfe62fafcd704886069182744ec5e6b37ffc4e1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/602476
    Auto-Submit: Robert Griesemer <gri@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Tim King <taking@google.com>
    Reviewed-by: Robert Griesemer <gri@google.com>

 src/cmd/compile/internal/types2/call.go            |  6 +++--
 src/cmd/compile/internal/types2/predicates.go      | 12 +++++++++
 .../internal/types2/testdata/local/issue68183.go   | 29 ++++++++++++++++++++++
 src/cmd/compile/internal/types2/typexpr.go         |  2 +-
 src/go/types/call.go                               |  6 +++--
 src/go/types/predicates.go                         | 12 +++++++++
 src/go/types/typexpr.go                            |  2 +-
 7 files changed, 63 insertions(+), 6 deletions(-)
