commit 06ad41642c6e06ddb6faa8575fcc3cfafa6a13d1
Author: Cherry Zhang <cherryyz@google.com>
Date:   Mon Mar 29 14:17:18 2021 -0400

    cmd/compile: wrap defer/go call with results
    
    CL 298669 implemented wrapping for defer/go calls so the function
    being called with defer or go statement has no arguments. This
    simplifies the compiler and the runtime, especially with the
    new ABI.
    
    Currently, it does not wrap functions that has no arguments but
    only results. For defer/go calls, the results are not used. But
    the runtime needs to allocate stack space for the callee to store
    the results. Wrapping functions with results makes the runtime
    simpler.
    
    TODO: maybe not wrap if all results are in registers.
    
    Updates #40724.
    
    Change-Id: I74d2f4db1cbf9979afbcd846facb30d11d72ab23
    Reviewed-on: https://go-review.googlesource.com/c/go/+/305550
    Trust: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/compile/internal/ssagen/ssa.go | 6 +++---
 src/cmd/compile/internal/walk/order.go | 7 +++++--
 2 files changed, 8 insertions(+), 5 deletions(-)
