commit cb867d2fd64adc851f82be3c6eb6e38ec008930b
Author: Dominik Honnef <dominik@honnef.co>
Date:   Sun Jun 21 20:07:29 2015 +0200

    os/user: don't depend on _SC_GETPW_R_SIZE_MAX on Linux
    
    Even Linux systems may not have _SC_GETPW_R_SIZE_MAX if using a
    different libc than glibc (e.g. musl). Instead of having special-cases
    for the BSDs, handle -1 correctly by always using a default buffer size.
    
    Fixes #11319.
    
    Change-Id: I8b1b260eb9830e6dbe7667f3f33d115ae4de4ce8
    Reviewed-on: https://go-review.googlesource.com/13772
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>

 src/os/user/lookup_unix.go | 19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)
