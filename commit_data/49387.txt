commit 1323b0e8f0c5afb72afe51d8ee3bd5f66c23e353
Author: Robert Findley <rfindley@google.com>
Date:   Sat May 7 18:59:14 2022 -0400

    go/types, types2: eliminate methodList in favor of just using Named.mu
    
    In order to clean up context after fully expanding a type (in subsequent
    CLs), we must use a common mutex. Eliminate the lazy methodList type,
    which keeps a sync.Once per method, in favor of Named.mu.
    
    Updates #52728
    
    Change-Id: I2d13319276df1330ee53046ef1823b0167a258d8
    Reviewed-on: https://go-review.googlesource.com/c/go/+/404883
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Run-TryBot: Robert Findley <rfindley@google.com>
    Reviewed-by: Robert Griesemer <gri@google.com>

 src/cmd/compile/internal/types2/decl.go            |  8 +--
 src/cmd/compile/internal/types2/methodlist.go      | 79 ----------------------
 src/cmd/compile/internal/types2/methodlist_test.go | 40 -----------
 src/cmd/compile/internal/types2/named.go           | 71 +++++++++++++------
 src/cmd/compile/internal/types2/sizeof_test.go     |  2 +-
 src/go/types/decl.go                               |  8 +--
 src/go/types/methodlist.go                         | 79 ----------------------
 src/go/types/methodlist_test.go                    | 41 -----------
 src/go/types/named.go                              | 71 +++++++++++++------
 src/go/types/sizeof_test.go                        |  2 +-
 10 files changed, 112 insertions(+), 289 deletions(-)
