commit 3b96eebcbdf472326b9d6e46c373992bac9f72bb
Author: khr@golang.org <khr@golang.org>
Date:   Fri Jun 14 22:29:09 2024 -0700

    cmd/compile: rewrite the constant parts of the prove pass
    
    Handles a lot more cases where constant ranges can eliminate
    various (mostly bounds failure) paths.
    
    Fixes #66826
    Fixes #66692
    Fixes #48213
    Update #57959
    
    TODO: remove constant logic from poset code, no longer needed.
    
    Change-Id: Id196436fcd8a0c84c7d59c04f93bd92e26a0fd7e
    Reviewed-on: https://go-review.googlesource.com/c/go/+/599096
    Reviewed-by: David Chase <drchase@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Michael Knyszek <mknyszek@google.com>

 src/cmd/compile/internal/ssa/func.go    |    2 +-
 src/cmd/compile/internal/ssa/prove.go   | 1133 ++++++++++++++++++++-----------
 src/cmd/compile/internal/ssa/rewrite.go |   14 +
 test/checkbce.go                        |    8 +-
 test/codegen/comparisons.go             |    4 +-
 test/loopbce.go                         |   22 +-
 test/prove.go                           |   65 +-
 test/prove_constant_folding.go          |    4 +-
 8 files changed, 814 insertions(+), 438 deletions(-)
