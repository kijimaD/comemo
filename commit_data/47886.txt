commit 042548b1fdba21e351368e9f3ecd93059d09083f
Author: Robert Griesemer <gri@golang.org>
Date:   Thu Jan 6 10:58:30 2022 -0800

    cmd/compile: report type parameter error for methods only once
    
    Move switch to enable method type parameters entirely
    to the parser, by adding the mode AllowMethodTypeParams.
    Ensure that the error messages are consistent.
    Remove unnecessary code in the type checker.
    
    Fixes #50317.
    
    Change-Id: I4f3958722400bdb919efa4c494b85cf62f4002bb
    Reviewed-on: https://go-review.googlesource.com/c/go/+/376054
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/cmd/compile/internal/syntax/parser.go                 | 12 +++++++++---
 src/cmd/compile/internal/syntax/parser_test.go            |  2 +-
 src/cmd/compile/internal/syntax/syntax.go                 |  1 +
 src/cmd/compile/internal/syntax/testdata/issue48382.go2   | 10 +++++-----
 src/cmd/compile/internal/syntax/testdata/tparams.go2      |  2 +-
 src/cmd/compile/internal/types2/api_test.go               |  2 +-
 src/cmd/compile/internal/types2/check_test.go             |  2 +-
 src/cmd/compile/internal/types2/interface.go              |  7 -------
 src/cmd/compile/internal/types2/lookup.go                 |  5 +++++
 src/cmd/compile/internal/types2/resolver.go               |  9 ++-------
 src/cmd/compile/internal/types2/signature.go              | 10 +---------
 .../internal/types2/testdata/fixedbugs/issue39634.go2     |  2 +-
 src/cmd/compile/internal/types2/types_test.go             |  9 ---------
 test/typeparam/issue50317.go                              | 15 +++++++++++++++
 14 files changed, 43 insertions(+), 45 deletions(-)
