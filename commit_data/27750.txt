commit 85a4f44745859ecdd71c034171d40263651f8594
Author: Konstantin Shaposhnikov <k.shaposhnikov@gmail.com>
Date:   Mon Jun 27 17:13:15 2016 +0800

    cmd/vet: make checking example names in _test packages more robust
    
    Prior to this change package "foo" had to be installed in order to check
    example names in "foo_test" package.
    
    However by the time "foo_test" package is checked a parsed "foo" package
    has been already constructed. Use it to check example names.
    
    Also change TestDivergentPackagesExamples test to pass directory of the
    package to the vet tool as it is the most common way to invoke it. This
    requires changes to errchk to add support for grabbing source files from
    a directory.
    
    Fixes #16189
    
    Change-Id: Ief103d07b024822282b86c24250835cc591793e8
    Reviewed-on: https://go-review.googlesource.com/24488
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/vet/main.go                        | 22 ++++++++++++---------
 src/cmd/vet/testdata/divergent/buf_test.go | 12 ++++++------
 src/cmd/vet/tests.go                       | 31 +++++++++++++++++-------------
 src/cmd/vet/vet_test.go                    |  2 +-
 test/errchk                                | 11 +++++++++++
 5 files changed, 49 insertions(+), 29 deletions(-)
