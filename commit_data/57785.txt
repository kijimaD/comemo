commit 312e7e9f8a85bbab449daae6ebe969ad1d4f0840
Author: Filippo Valsorda <filippo@golang.org>
Date:   Wed Oct 2 11:37:38 2024 +0200

    crypto/internal/fips/sha3: restructure as an internal package
    
    Main changes are
    
        - return concrete *Digest and *SHAKE instead of interfaces
    
        - make tests external (sha3_test) so they will be easy to move to
          the public package
    
        - drop most of the developer guidance docs (to be updated and
          reintroduced in the public package)
    
        - consolidate the _noasm.go files (matching the single _s390x.go)
    
        - move TestAllocations from build tags to testenv
    
        - temporarily disable s390x code, to refactor in a following CL
    
    For #69536
    
    Change-Id: Ie5fd3e2b589b9eb835b9e3174b7a79c2ac728ab1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/617357
    Reviewed-by: Roland Shoemaker <roland@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Carlos Amedee <carlos@golang.org>
    Auto-Submit: Filippo Valsorda <filippo@golang.org>
    Reviewed-by: Daniel McCarney <daniel@binaryparadox.net>

 src/crypto/internal/fips/hmac/hmac.go             |   4 +-
 src/crypto/internal/fips/sha3/allocations_test.go |  60 --------
 src/crypto/internal/fips/sha3/doc.go              |  66 ---------
 src/crypto/internal/fips/sha3/hashes.go           |  98 ++++---------
 src/crypto/internal/fips/sha3/hashes_noasm.go     |  23 ----
 src/crypto/internal/fips/sha3/sha3.go             |  52 +++----
 src/crypto/internal/fips/sha3/sha3_noasm.go       |  31 +++++
 src/crypto/internal/fips/sha3/sha3_s390x.go       |  15 +-
 src/crypto/internal/fips/sha3/sha3_s390x.s        |   2 +-
 src/crypto/internal/fips/sha3/sha3_test.go        | 130 +++++++++++++++---
 src/crypto/internal/fips/sha3/shake.go            | 160 +++++++++-------------
 src/crypto/internal/fips/sha3/shake_noasm.go      |  15 --
 12 files changed, 264 insertions(+), 392 deletions(-)
