commit 79877e5f91fb77362235d9160ddbeada5878a9c5
Author: Joel Sing <joel@sing.id.au>
Date:   Fri Sep 13 04:33:06 2019 +1000

    cmd/link: simplify determineLinkMode
    
    Simplify determineLinkMode by calling mustLinkExternal upfront,
    then doing a first pass for LinkModeAuto, followed by a second pass
    that determines if the link mode is valid.
    
    Change-Id: I9d7668107c159f8fe330b8c05fee035bbe9875fd
    Reviewed-on: https://go-review.googlesource.com/c/go/+/195078
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/link/internal/ld/config.go | 30 ++++++++++++------------------
 1 file changed, 12 insertions(+), 18 deletions(-)
