commit 7a03ca65b303474c2ea610178105304eae1180df
Author: Roland Shoemaker <roland@golang.org>
Date:   Thu Sep 16 11:33:17 2021 -0700

    internal/fuzz,cmd/compile: don't add race instrumentation to counters
    
    Don't add race detector instrumentation to the fuzzing counters,
    allowing usage of -race without immediately triggering the
    detector. Also fixes a minor race in contextReader.Read.
    
    Fixes #48307
    
    Change-Id: Idb2cfeaa4283f8a74473b4bac6cd68eed577e943
    Reviewed-on: https://go-review.googlesource.com/c/go/+/351453
    Trust: Roland Shoemaker <roland@golang.org>
    Trust: Katie Hockman <katie@golang.org>
    Run-TryBot: Roland Shoemaker <roland@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Katie Hockman <katie@golang.org>

 src/cmd/compile/internal/ssa/writebarrier.go | 2 +-
 src/cmd/compile/internal/walk/order.go       | 8 ++++++++
 src/internal/fuzz/worker.go                  | 8 +++++---
 3 files changed, 14 insertions(+), 4 deletions(-)
