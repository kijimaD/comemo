commit 5ff12f871f2690c86fc31a1dfccb3bfc0524168c
Author: Russ Cox <rsc@golang.org>
Date:   Wed Sep 24 10:25:28 2008 -0700

    only use mach kernel semaphores for actual contention.
    running rob's powser p.go:
    
    3.21u 2.58s 5.80r        6.out  # old
    1.48u 0.05s 1.54r        6.out  # new
    
    R=r
    OCL=15748
    CL=15750

 src/runtime/rt1_amd64_darwin.c | 33 ++++++++++++++++++++++++++-------
 src/runtime/runtime.h          |  8 +++++++-
 2 files changed, 33 insertions(+), 8 deletions(-)
