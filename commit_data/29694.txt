commit 8c24bff52b7d8e789382a8992af2e0adf0b491f2
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Mon Oct 3 12:26:25 2016 -0700

    cmd/compile: layout stack frame during SSA
    
    Identify live stack variables during SSA and compute the stack frame
    layout earlier so that we can emit instructions with the correct
    offsets upfront.
    
    Passes toolstash/buildall.
    
    Change-Id: I191100dba274f1e364a15bdcfdc1d1466cdd1db5
    Reviewed-on: https://go-review.googlesource.com/30216
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/amd64/ssa.go       | 24 +-------
 src/cmd/compile/internal/arm/ssa.go         | 24 +-------
 src/cmd/compile/internal/arm64/ssa.go       | 24 +-------
 src/cmd/compile/internal/gc/gsubr.go        | 51 ----------------
 src/cmd/compile/internal/gc/pgen.go         | 94 ++++++++++++++++++++---------
 src/cmd/compile/internal/gc/sizeof_test.go  |  2 +-
 src/cmd/compile/internal/gc/ssa.go          | 33 +++++++---
 src/cmd/compile/internal/gc/syntax.go       | 29 ++++-----
 src/cmd/compile/internal/mips64/ssa.go      | 24 +-------
 src/cmd/compile/internal/ppc64/ssa.go       | 43 ++-----------
 src/cmd/compile/internal/s390x/ssa.go       | 24 +-------
 src/cmd/compile/internal/ssa/compile.go     |  5 +-
 src/cmd/compile/internal/ssa/config.go      |  3 +
 src/cmd/compile/internal/ssa/export_test.go |  2 +
 src/cmd/compile/internal/ssa/stackframe.go  | 10 +++
 src/cmd/compile/internal/x86/387.go         | 57 +++++------------
 src/cmd/compile/internal/x86/ssa.go         | 24 +-------
 17 files changed, 157 insertions(+), 316 deletions(-)
