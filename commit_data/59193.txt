commit b899e0b8cc1afc4534758c9ebe1e051e5220bfbd
Author: Robert Griesemer <gri@golang.org>
Date:   Fri Feb 23 09:55:31 2024 -0800

    go/types: generate errors_test.go from types2 source
    
    This CL reduces the amount of code that needs to be maintained
    manually by about 50 LOC.
    
    Change-Id: I022688d6db58bf58e7844487582725a23ca820be
    Reviewed-on: https://go-review.googlesource.com/c/go/+/566515
    Reviewed-by: Robert Griesemer <gri@google.com>
    Auto-Submit: Robert Griesemer <gri@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Robert Findley <rfindley@google.com>
---
 src/go/types/errors_test.go   | 6 +++---
 src/go/types/generate_test.go | 3 ++-
 2 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/src/go/types/errors_test.go b/src/go/types/errors_test.go
index 5c47ef51e8..b605a580e8 100644
--- a/src/go/types/errors_test.go
+++ b/src/go/types/errors_test.go
@@ -1,12 +1,12 @@
+// Code generated by "go test -run=Generate -write=all"; DO NOT EDIT.
+
 // Copyright 2020 The Go Authors. All rights reserved.
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
 package types
 
-import (
-	"testing"
-)
+import "testing"
 
 func TestError(t *testing.T) {
 	var err error_
diff --git a/src/go/types/generate_test.go b/src/go/types/generate_test.go
index 268f389b24..4e0d9bb3a9 100644
--- a/src/go/types/generate_test.go
+++ b/src/go/types/generate_test.go
@@ -117,10 +117,11 @@ var filemap = map[string]action{
 		renameIdents(f, "syntax->ast")
 	},
 	"chan.go":         nil,
-	"const.go":        func(f *ast.File) { fixTokenPos(f) },
+	"const.go":        fixTokenPos,
 	"context.go":      nil,
 	"context_test.go": nil,
 	"conversions.go":  nil,
+	"errors_test.go":  func(f *ast.File) { renameIdents(f, "nopos->noposn") },
 	"errsupport.go":   nil,
 	"gccgosizes.go":   nil,
 	"gcsizes.go":      func(f *ast.File) { renameIdents(f, "IsSyncAtomicAlign64->_IsSyncAtomicAlign64") },
