commit 7cfa8310c75bfe8534a61f0f64116cb508d6f10d
Author: Daniel Morsing <daniel.morsing@gmail.com>
Date:   Tue Jul 2 17:12:08 2013 +0200

    cmd/gc: fix issue with method wrappers not having escape analysis run on them.
    
    Escape analysis needs the right curfn value on a dclfunc node, otherwise it will not analyze the function.
    When generating method value wrappers, we forgot to set the curfn correctly.
    
    Fixes #5753.
    
    R=golang-dev, rsc
    CC=golang-dev
    https://golang.org/cl/10383048

 src/cmd/gc/closure.c        |  7 ++++++-
 test/fixedbugs/issue5753.go | 29 +++++++++++++++++++++++++++++
 2 files changed, 35 insertions(+), 1 deletion(-)
