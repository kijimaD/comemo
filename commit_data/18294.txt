commit cfb9cf0f0679b07583b8667487c516b1f77f2292
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Mon Jan 20 09:59:23 2014 -0800

    expvar: sort maps, fix race
    
    It's pretty distracting to use expvar with the output of both
    the top-level map and map values jumping around randomly.
    
    Also fixes a potential race where multiple clients trying to
    increment a map int or float key at the same time could lose
    updates.
    
    R=golang-codereviews, couchmoney
    CC=golang-codereviews
    https://golang.org/cl/54320043

 src/pkg/expvar/expvar.go      | 56 ++++++++++++++++++++++++++++++-------------
 src/pkg/expvar/expvar_test.go | 26 ++++++++++++++++++++
 2 files changed, 66 insertions(+), 16 deletions(-)
