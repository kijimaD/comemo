commit d75925d6bad2576bd80c442ff3b23ba22ffb2c68
Author: Cherry Zhang <cherryyz@google.com>
Date:   Mon Feb 13 21:27:53 2017 -0500

    cmd/compile: add a test for writebarrier pass with single-block loop
    
    The old writebarrier implementation fails to handle single-block
    loop where a memory Phi value depends on the write barrier store
    in the same block. The new implementation (CL 36834) doesn't have
    this problem. Add a test to ensure it.
    
    Fix #19067.
    
    Change-Id: Iab13c6817edc12be8a048d18699b4450fa7ed712
    Reviewed-on: https://go-review.googlesource.com/36940
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/ssa/writebarrier_test.go | 24 +++++++++++++++++++++++
 1 file changed, 24 insertions(+)
