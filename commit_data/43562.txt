commit 933721b8c7f981229974e2603850c2e9a7ffc5a1
Author: Keith Randall <khr@golang.org>
Date:   Thu Oct 22 13:11:16 2020 -0700

    cmd/compile: fix storeType to handle pointers to go:notinheap types
    
    storeType splits compound stores up into a scalar parts and a pointer parts.
    The scalar part happens unconditionally, and the pointer part happens
    under the guard of a write barrier check.
    
    Types which are declared as pointers, but are represented as scalars because
    they might have "bad" values, were not handled correctly here. They ended
    up not getting stored in either set.
    
    Fixes #42032
    
    Change-Id: I46f6600075c0c370e640b807066247237f93c7ac
    Reviewed-on: https://go-review.googlesource.com/c/go/+/264300
    Trust: Keith Randall <khr@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/compile/internal/gc/ssa.go |  8 +++++++-
 test/fixedbugs/issue42032.go       | 27 +++++++++++++++++++++++++++
 2 files changed, 34 insertions(+), 1 deletion(-)
