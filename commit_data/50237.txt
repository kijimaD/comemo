commit 65ffee6f9a949023f10e5b6b918a7a218d9836a1
Author: Bryan C. Mills <bcmills@google.com>
Date:   Fri Oct 1 11:52:56 2021 -0400

    cmd/go: insert goroot to the hash of build cache when the packages include C files
    
    This reverts CL 351851, which itself reverted CL 348991.
    
    The problem with the original CL, as far as I can tell, was due to a
    bug in the Go project's builder infrastructure (#33598) and not the
    change itself. Once the build infrastructure is fixed, this change
    can be resubmitted.
    
    Fixes #48319
    Updates #33598
    
    Change-Id: I0fdbcc241eb2bdeb350944aad58bf58774fb591e
    Reviewed-on: https://go-review.googlesource.com/c/go/+/353352
    Trust: Bryan C. Mills <bcmills@google.com>
    Run-TryBot: Bryan C. Mills <bcmills@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go/internal/work/exec.go                |  34 ++++--
 src/cmd/go/testdata/script/build_issue48319.txt | 153 ++++++++++++++++++++++++
 2 files changed, 177 insertions(+), 10 deletions(-)
