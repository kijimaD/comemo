commit 43b09c096a33b8a3cd3477546c445e2c41efcfdf
Author: Robert Findley <rfindley@google.com>
Date:   Fri Mar 4 18:52:49 2022 -0500

    go/types, types2: record all type instances, even duplicates
    
    Due to instance de-duplication, we were failing to record some type
    instances in types.Info.Instances. Fix this by moving the instance
    recording out of the resolver.
    
    Fixes #51494
    
    Change-Id: Iddd8989307d95886eedb321efa4ab98cd2b3573a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/390041
    Trust: Robert Findley <rfindley@google.com>
    Run-TryBot: Robert Findley <rfindley@google.com>
    Reviewed-by: Robert Griesemer <gri@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/cmd/compile/internal/types2/api_test.go | 275 +++++++++++++++-------------
 src/cmd/compile/internal/types2/typexpr.go  |   5 +-
 src/go/types/api_test.go                    | 243 +++++++++++++-----------
 src/go/types/typexpr.go                     |   5 +-
 4 files changed, 286 insertions(+), 242 deletions(-)
