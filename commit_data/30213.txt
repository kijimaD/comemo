commit ca922b6d363b6ca47822188dcbc5b92d912c7a4b
Author: Peter Weinberger <pjw@google.com>
Date:   Thu Sep 22 09:48:30 2016 -0400

    runtime: Profile goroutines holding contended mutexes.
    
    runtime.SetMutexProfileFraction(n int) will capture 1/n-th of stack
    traces of goroutines holding contended mutexes if n > 0. From runtime/pprof,
    pprot.Lookup("mutex").WriteTo writes the accumulated
    stack traces to w (in essentially the same format that blocking
    profiling uses).
    
    Change-Id: Ie0b54fa4226853d99aa42c14cb529ae586a8335a
    Reviewed-on: https://go-review.googlesource.com/29650
    Reviewed-by: Austin Clements <austin@google.com>

 src/cmd/go/test.go                               |  9 +++
 src/cmd/go/testflag.go                           |  4 +-
 src/cmd/internal/pprof/profile/legacy_profile.go | 28 ++++++--
 src/runtime/mgc.go                               |  6 +-
 src/runtime/mprof.go                             | 84 ++++++++++++++++++++++--
 src/runtime/pprof/pprof.go                       | 59 +++++++++++++++++
 src/runtime/pprof/pprof_test.go                  | 36 ++++++++++
 src/runtime/proc.go                              |  4 +-
 src/runtime/runtime2.go                          |  1 +
 src/runtime/sema.go                              | 40 +++++++++--
 src/runtime/trace.go                             |  2 +-
 src/sync/mutex.go                                |  2 +-
 src/sync/mutex_test.go                           |  4 ++
 src/sync/runtime.go                              |  3 +
 src/testing/testing.go                           | 43 ++++++++----
 15 files changed, 286 insertions(+), 39 deletions(-)
