commit 24a9d7bc1834d6a4019a965c759d2282fa029229
Author: Bryan C. Mills <bcmills@google.com>
Date:   Tue Jan 10 10:38:18 2023 -0500

    cmd/go/internal/vcweb: simplify hgHandler cancellation
    
    This uses the new Cancel and WaitDelay fields of os/exec.Cmd
    (added in #50436) to interrupt or kill the 'hg serve' command
    when its incoming http.Request is canceled.
    
    This should keep the vcweb hg handler from getting stuck if 'hg serve'
    hangs after the request either completes or is canceled.
    
    Fixes #57597 (maybe).
    
    Change-Id: I53cf58e8ab953fd48c0c37f596f99e885a036d9b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/460997
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Run-TryBot: Bryan Mills <bcmills@google.com>
    Auto-Submit: Bryan Mills <bcmills@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/cmd/go/internal/vcweb/hg.go | 77 +++++++++++++++++++++--------------------
 1 file changed, 39 insertions(+), 38 deletions(-)
