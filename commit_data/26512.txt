commit 5ba31940dc2934dc76a47f0e614d441225ea3a95
Author: Keith Randall <khr@golang.org>
Date:   Mon Jan 25 17:06:54 2016 -0800

    [dev.ssa] cmd/compile: fix write barriers for SSA
    
    The old write barriers used _nostore versions, which
    don't work for Ian's cgo checker.  Instead, we adopt the
    same write barrier pattern as the default compiler.
    
    It's a bit trickier to code up but should be more efficient.
    
    Change-Id: I6696c3656cf179e28f800b0e096b7259bd5f3bb7
    Reviewed-on: https://go-review.googlesource.com/18941
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 misc/cgo/errors/ptr.go                         | 208 ++++++++++---------
 src/cmd/compile/internal/gc/builtin.go         |   1 -
 src/cmd/compile/internal/gc/builtin/runtime.go |   1 -
 src/cmd/compile/internal/gc/go.go              |   3 +-
 src/cmd/compile/internal/gc/pgen.go            |   3 +-
 src/cmd/compile/internal/gc/ssa.go             | 268 +++++++++++++++++++------
 src/runtime/mbarrier.go                        |   8 -
 7 files changed, 318 insertions(+), 174 deletions(-)
