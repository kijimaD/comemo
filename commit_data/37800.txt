commit 54f9c0416a588963cb5a1c10ffb6a88f3956858c
Author: Cherry Zhang <cherryyz@google.com>
Date:   Tue Aug 28 14:52:30 2018 -0400

    cmd/compile: count nil check as use in dead auto elim
    
    Nil check is special in that it has no use but we must keep it.
    Count it as a use of the auto.
    
    Fixes #27278.
    
    Change-Id: I857c3d0db2ebdca1bc342b4993c0dac5c01e067f
    Reviewed-on: https://go-review.googlesource.com/131955
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/ssa/deadstore.go |  3 +-
 test/fixedbugs/issue27278.go              | 63 +++++++++++++++++++++++++++++++
 2 files changed, 65 insertions(+), 1 deletion(-)
