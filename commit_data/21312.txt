commit 8128b0116decc3b33e37a35d8d83182e2a19b61d
Author: Emil Hessman <emil@hessman.se>
Date:   Wed Dec 31 06:27:31 2014 +0100

    path/filepath: make Join handle UNC paths on Windows
    
    Unless the first element is a Universal Naming Convention (UNC)[0]
    path, Join shouldn't create a UNC path on Windows.
    
    For example, Join inadvertently creates a UNC path on Windows when
    told to join at least three non-empty path elements, where the first
    element is `\` or `/`.
    
    This CL prevents creation of a UNC path prefix when the first path
    element isn't a UNC path.
    
    Since this introduces some amount of Windows-specific logic, Join is
    moved to a per GOOS implementation.
    
    Fixes #9167.
    
    [0]: http://msdn.microsoft.com/en-us/library/gg465305.aspx
    
    Change-Id: Ib6eda597106cb025137673b33c4828df1367f75b
    Reviewed-on: https://go-review.googlesource.com/2211
    Reviewed-by: Alex Brainman <alex.brainman@gmail.com>

 src/path/filepath/path.go         |  9 +++------
 src/path/filepath/path_plan9.go   | 10 ++++++++++
 src/path/filepath/path_test.go    | 28 ++++++++++++++++++++--------
 src/path/filepath/path_unix.go    | 10 ++++++++++
 src/path/filepath/path_windows.go | 37 +++++++++++++++++++++++++++++++++++++
 5 files changed, 80 insertions(+), 14 deletions(-)
