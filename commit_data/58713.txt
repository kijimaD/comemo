commit d92434935f1b6af5ece81cf13171dbe216df6254
Author: Russ Cox <rsc@golang.org>
Date:   Thu Nov 30 12:25:43 2023 -0500

    math/rand/v2: add ChaCha8
    
    This is a replay of CL 516859, after its rollback in CL 543895,
    with big-endian systems fixed and the tests disabled on RISC-V
    since the compiler is broken there (#64285).
    
    ChaCha8 provides a cryptographically strong generator
    alongside PCG, so that people who want stronger randomness
    have access to that. On systems with 128-bit vector math
    assembly (amd64 and arm64), ChaCha8 runs at about the same
    speed as PCG (25% slower on amd64, 2% faster on arm64).
    
    Fixes #64284.
    
    Change-Id: I6290bb8ace28e1aff9a61f805dbe380ccdf25b94
    Reviewed-on: https://go-review.googlesource.com/c/go/+/546020
    Reviewed-by: Filippo Valsorda <filippo@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 api/go1.22.txt                              |  36 +-
 src/go/build/deps_test.go                   |  13 +-
 src/internal/chacha8rand/chacha8.go         | 178 ++++++++++
 src/internal/chacha8rand/chacha8_amd64.s    | 177 ++++++++++
 src/internal/chacha8rand/chacha8_arm64.s    | 106 ++++++
 src/internal/chacha8rand/chacha8_generic.go | 235 ++++++++++++
 src/internal/chacha8rand/chacha8_stub.s     |  12 +
 src/internal/chacha8rand/export_test.go     |   8 +
 src/internal/chacha8rand/rand_test.go       | 192 ++++++++++
 src/math/rand/v2/chacha8.go                 |  46 +++
 src/math/rand/v2/chacha8_test.go            | 531 ++++++++++++++++++++++++++++
 11 files changed, 1515 insertions(+), 19 deletions(-)
