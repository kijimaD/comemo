commit 07d206f7698f4d45544a2f9b6051ede594ba04cc
Author: Bryan C. Mills <bcmills@google.com>
Date:   Wed Oct 28 10:44:24 2020 -0400

    cmd/go: use internal/testenv instead of computing canRun and skipExternal ad-hoc
    
    Fixes #42223
    
    Change-Id: Icf9bb61d48f0a6c7fd6f74e80e333a4837aa52ab
    Reviewed-on: https://go-review.googlesource.com/c/go/+/265781
    Trust: Bryan C. Mills <bcmills@google.com>
    Run-TryBot: Bryan C. Mills <bcmills@google.com>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/go/go_test.go           | 71 +++++++----------------------------------
 src/cmd/go/script_test.go       |  4 +--
 src/internal/testenv/testenv.go | 20 ++++++++++++
 3 files changed, 32 insertions(+), 63 deletions(-)
