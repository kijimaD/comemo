commit 4c8b09e9183390d6ab80d3f53a9fe5f6ace92f06
Author: Filippo Valsorda <filippo@golang.org>
Date:   Wed Oct 24 21:22:00 2018 -0400

    crypto/tls: rewrite some messages with golang.org/x/crypto/cryptobyte
    
    As a first round, rewrite those handshake message types which can be
    reused in TLS 1.3 with golang.org/x/crypto/cryptobyte. All other types
    changed significantly in TLS 1.3 and will require separate
    implementations. They will be ported to cryptobyte in a later CL.
    
    The only semantic changes should be enforcing the random length on the
    marshaling side, enforcing a couple more "must not be empty" on the
    unmarshaling side, and checking the rest of the SNI list even if we only
    take the first.
    
    Change-Id: Idd2ced60c558fafcf02ee489195b6f3b4735fe22
    Reviewed-on: https://go-review.googlesource.com/c/144115
    Run-TryBot: Filippo Valsorda <filippo@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Adam Langley <agl@golang.org>

 src/crypto/tls/conn.go                    |    4 +-
 src/crypto/tls/handshake_client.go        |    6 +-
 src/crypto/tls/handshake_messages.go      | 1076 +++++++++++------------------
 src/crypto/tls/handshake_messages_test.go |   15 +-
 src/crypto/tls/handshake_server.go        |    2 +-
 src/crypto/tls/handshake_server_test.go   |   24 +-
 src/go/build/deps_test.go                 |    2 +-
 7 files changed, 450 insertions(+), 679 deletions(-)
