commit 2a74b9e81405e34c67880866552b5d7bcab74de1
Author: Heschi Kreinick <heschi@google.com>
Date:   Tue Jan 31 14:09:14 2017 -0500

    cmd/trace: Record mark assists in execution traces
    
    During the mark phase of garbage collection, goroutines that allocate
    may be recruited to assist. This change creates trace events for mark
    assists and displays them similarly to sweep assists in the trace
    viewer.
    
    Mark assists are different than sweeps in that they can be preempted, so
    displaying them in the trace viewer is a little tricky -- we may need to
    synthesize multiple slices for one mark assist. This could have been
    done in the parser instead, but I thought it might be preferable to keep
    the parser as true to the event stream as possible.
    
    Change-Id: I381dcb1027a187a354b1858537851fa68a620ea7
    Reviewed-on: https://go-review.googlesource.com/36015
    Run-TryBot: Heschi Kreinick <heschi@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Austin Clements <austin@google.com>
    Reviewed-by: Hyang-Ah Hana Kim <hyangah@gmail.com>

 src/cmd/trace/trace.go                             |  85 +++++++--
 src/cmd/trace/trace_test.go                        |  41 +++++
 src/internal/trace/parser.go                       | 204 +++++++++++----------
 src/internal/trace/testdata/http_1_9_good          | Bin 0 -> 2368 bytes
 src/internal/trace/testdata/stress_1_9_good        | Bin 0 -> 594085 bytes
 .../trace/testdata/stress_start_stop_1_9_good      | Bin 0 -> 5615 bytes
 src/internal/trace/writer.go                       |   2 +-
 src/runtime/mgcmark.go                             |  10 +
 src/runtime/trace.go                               | 100 +++++-----
 9 files changed, 286 insertions(+), 156 deletions(-)
