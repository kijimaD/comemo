commit 74163c895a7c5d7ebafeaed1f4a0891d218e2704
Author: Keith Randall <khr@golang.org>
Date:   Mon Oct 21 15:36:38 2024 -0700

    cmd/compile: use STP/LDP around morestack on arm64
    
    The spill/restore code around morestack is almost never exectued, so
    we should make it as small as possible. Using 2-register loads/stores
    makes sense here. Also, the offsets from SP are pretty small so the
    offset almost always fits in the (smaller than a normal load/store)
    offset field of the instruction.
    
    Makes cmd/go 0.6% smaller.
    
    Change-Id: I8845283c1b269a259498153924428f6173bda293
    Reviewed-on: https://go-review.googlesource.com/c/go/+/621556
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Keith Randall <khr@google.com>
    Reviewed-by: Cherry Mui <cherryyz@google.com>

 src/cmd/compile/internal/arm64/ssa.go | 77 +++++++++++++++++++++++++++++++----
 src/cmd/internal/obj/link.go          |  9 ++++
 test/codegen/spills.go                | 31 ++++++++++++++
 3 files changed, 110 insertions(+), 7 deletions(-)
