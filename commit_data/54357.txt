commit 4a459cbbad7b9528e5f569157b157800866a4fb8
Author: Than McIntosh <thanm@google.com>
Date:   Mon Oct 10 13:39:30 2022 -0400

    cmd/compile: tweak inliners handling of coverage counter updates
    
    This patch fixes up a bug in the inliner's special case code for
    coverage counter updates, which was not properly working for
    -covermode=atomic compilations.
    
    Updates #56044.
    
    Change-Id: I9e309312b123121c3df02862623bdbab1f6c6a4b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/441858
    Reviewed-by: David Chase <drchase@google.com>
    Run-TryBot: Than McIntosh <thanm@google.com>
    Reviewed-by: Cherry Mui <cherryyz@google.com>

 src/cmd/compile/internal/inline/inl.go    | 61 ++++++++++++++++++++++++++-----
 src/cmd/compile/internal/test/inl_test.go | 55 ++++++++++++++++++++++++++++
 src/runtime/coverage/emitdata_test.go     |  7 ++++
 3 files changed, 114 insertions(+), 9 deletions(-)
