commit bb76193a7f0b04c6c25696ed28dd5516ae23d83c
Author: Than McIntosh <thanm@google.com>
Date:   Thu Apr 8 15:30:03 2021 -0400

    cmd/compile: fix buglet in walk convert phase relating to convF32/64
    
    The helper function used by the compiler's walk phase to determine
    whether a param can be passed in a single float register wasn't quite
    correct (didn't allow for the possibility of struct with two fields,
    first zero size and second float). Fix up the helper to take this
    case into account.
    
    Updates #40724.
    
    Change-Id: I55b42a1b17ea86de1d696788f029ad3aae4a179c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/308689
    Trust: Than McIntosh <thanm@google.com>
    Run-TryBot: Than McIntosh <thanm@google.com>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/compile/internal/walk/convert.go | 17 ++++++++++++++++-
 test/abi/convF_criteria.go               | 27 +++++++++++++++++++++++++++
 test/abi/convF_criteria.out              |  2 ++
 3 files changed, 45 insertions(+), 1 deletion(-)
