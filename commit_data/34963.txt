commit bd983a6d2e8b6b0385724ef05872ba659111ec20
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Wed Nov 29 12:26:59 2017 -0800

    cmd/compile: fix GOEXPERIMENT checks
    
    GOEXPERIMENT is only set during make.bash, so checking the environment
    variable isn't effectual. Instead, check the values exposed by objabi.
    
    These experiments look potentially safe, but it seems too late in the
    release cycle to try to assuage that. The one exception is frame
    pointer experiment, which is trivially safe: it just amounts to
    incrementing some stack offsets by PtrSize.
    
    Fixes #22223.
    
    Change-Id: I46dc7c54b1347143d02d6b9635038230cda6d164
    Reviewed-on: https://go-review.googlesource.com/80760
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/compile/internal/gc/main.go | 4 ++--
 src/cmd/go/internal/work/exec.go    | 1 -
 src/cmd/go/internal/work/gc.go      | 5 -----
 3 files changed, 2 insertions(+), 8 deletions(-)
