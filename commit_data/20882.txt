commit f0bd539c594ab4acfdaded45625a89a13d0bd575
Merge: 977fba763a af3868f187
Author: Austin Clements <austin@google.com>
Date:   Wed Oct 22 15:51:54 2014 -0400

    [dev.power64] all: merge default into dev.power64
    
    This brings dev.power64 up-to-date with the current tip of
    default.  go_bootstrap is still panicking with a bad defer
    when initializing the runtime (even on amd64).
    
    LGTM=rsc
    R=rsc
    CC=golang-codereviews
    https://golang.org/cl/152570049

 .hgignore                                          |     5 -
 .hgtags                                            |     4 +-
 AUTHORS                                            |     9 +
 CONTRIBUTORS                                       |    16 +-
 doc/devel/release.html                             |    10 +
 doc/go1.4.txt                                      |    20 +-
 doc/go1.html                                       |     2 +-
 doc/go1compat.html                                 |    10 +-
 doc/go_faq.html                                    |    66 +-
 doc/go_spec.html                                   |   274 +-
 doc/gopher/biplane.jpg                             |   Bin 0 -> 203420 bytes
 doc/install.html                                   |    27 +-
 include/link.h                                     |     7 +-
 misc/cgo/test/backdoor/backdoor.go                 |     3 +-
 misc/cgo/test/backdoor/runtime.c                   |    18 -
 misc/cgo/test/basic.go                             |     5 +
 misc/cgo/test/callback.go                          |    50 +
 misc/cgo/test/callback_c.c                         |    16 +
 misc/cgo/test/callback_c_gc.c                      |    59 +
 misc/cgo/test/callback_c_gccgo.c                   |    53 +
 misc/cgo/test/cgo_test.go                          |    97 +-
 misc/cgo/test/exports.go                           |     6 +
 misc/cgo/test/issue7695_test.go                    |    30 -
 misc/cgo/test/issue7978.go                         |   103 +
 misc/cgo/test/issue8517.go                         |    13 +
 misc/cgo/test/issue8517_windows.c                  |    24 +
 misc/cgo/test/issue8517_windows.go                 |    45 +
 misc/cgo/test/issue8694.go                         |    32 +
 .../{backdoor/backdoor_gccgo.go => issue8811.c}    |     9 +-
 misc/cgo/test/issue8811.go                         |    22 +
 misc/cgo/test/issue8828.go                         |    16 +
 misc/cgo/test/issue8828/issue8828.c                |     7 +
 misc/cgo/test/issue8828/trivial.go                 |     8 +
 misc/makerelease/makerelease.go                    |    19 +-
 misc/makerelease/windows/installer.wxs             |     5 +-
 misc/nacl/README                                   |     6 +-
 src/androidtest.bash                               |     2 +-
 src/bufio/scan.go                                  |     4 +-
 src/bufio/scan_test.go                             |    36 +
 src/bytes/bytes.go                                 |     2 +
 src/bytes/bytes.s                                  |     5 -
 src/cmd/5a/lex.c                                   |     1 +
 src/cmd/5c/cgen.c                                  |     2 -
 src/cmd/5c/reg.c                                   |     9 +-
 src/cmd/5g/gg.h                                    |     1 -
 src/cmd/5g/ggen.c                                  |    19 -
 src/cmd/5g/gsubr.c                                 |    14 +-
 src/cmd/6a/lex.c                                   |     1 +
 src/cmd/6c/cgen.c                                  |     4 -
 src/cmd/6c/reg.c                                   |    14 +-
 src/cmd/6g/gg.h                                    |     1 -
 src/cmd/6g/ggen.c                                  |    59 +-
 src/cmd/6g/gsubr.c                                 |    10 -
 src/cmd/8a/lex.c                                   |     1 +
 src/cmd/8c/cgen.c                                  |     2 -
 src/cmd/8c/reg.c                                   |     9 +-
 src/cmd/8g/gg.h                                    |     1 -
 src/cmd/8g/ggen.c                                  |    47 +-
 src/cmd/8g/gsubr.c                                 |    12 +-
 src/cmd/8l/asm.c                                   |    18 +-
 src/cmd/9a/lex.c                                   |     1 +
 src/cmd/9c/cgen.c                                  |     4 -
 src/cmd/9c/reg.c                                   |    14 +-
 src/cmd/9g/gg.h                                    |     1 -
 src/cmd/9g/ggen.c                                  |    19 -
 src/cmd/9g/gsubr.c                                 |    10 -
 src/cmd/api/goapi.go                               |    85 +-
 src/cmd/cc/bv.c                                    |    45 -
 src/cmd/cc/cc.h                                    |     6 -
 src/cmd/cc/dcl.c                                   |     9 +-
 src/cmd/cc/godefs.c                                |     6 +-
 src/cmd/cc/lex.c                                   |     2 +
 src/cmd/cc/pgen.c                                  |   163 -
 src/cmd/cc/y.tab.c                                 |  1147 +-
 src/cmd/cc/y.tab.h                                 |    68 +-
 src/cmd/cgo/ast.go                                 |     3 +
 src/cmd/cgo/out.go                                 |    29 +-
 src/cmd/dist/build.c                               |     2 +
 src/cmd/dist/buildruntime.c                        |    10 +-
 src/cmd/gc/align.c                                 |     4 +-
 src/cmd/gc/builtin.c                               |     8 +
 src/cmd/gc/dcl.c                                   |    14 +
 src/cmd/gc/fmt.c                                   |    22 +-
 src/cmd/gc/gen.c                                   |    20 +-
 src/cmd/gc/go.h                                    |     5 +
 src/cmd/gc/go.y                                    |     2 +
 src/cmd/gc/lex.c                                   |    10 +-
 src/cmd/gc/mparith2.c                              |     4 +-
 src/cmd/gc/order.c                                 |    22 +-
 src/cmd/gc/pgen.c                                  |    51 +-
 src/cmd/gc/racewalk.c                              |    20 +
 src/cmd/gc/reflect.c                               |    27 +-
 src/cmd/gc/runtime.go                              |    14 +
 src/cmd/gc/sinit.c                                 |    32 +-
 src/cmd/gc/subr.c                                  |     5 +-
 src/cmd/gc/typecheck.c                             |    97 +-
 src/cmd/gc/walk.c                                  |   202 +-
 src/cmd/gc/y.tab.c                                 |   526 +-
 src/cmd/go/build.go                                |   134 +-
 src/cmd/go/doc.go                                  |    69 +-
 src/cmd/go/generate.go                             |     4 +-
 src/cmd/go/get.go                                  |    12 +
 src/cmd/go/go_windows_test.go                      |    55 +
 src/cmd/go/help.go                                 |     3 +-
 src/cmd/go/list.go                                 |    39 +-
 src/cmd/go/pkg.go                                  |    50 +-
 src/cmd/go/test.bash                               |   281 +-
 src/cmd/go/test.go                                 |   143 +-
 src/cmd/go/testdata/src/badc/x.c                   |     1 +
 src/cmd/go/testdata/src/badc/x.go                  |     1 +
 src/cmd/go/testdata/src/badtest/badexec/x_test.go  |     5 +
 src/cmd/go/testdata/src/badtest/badsyntax/x.go     |     1 +
 .../go/testdata/src/badtest/badsyntax/x_test.go    |     3 +
 src/cmd/go/testdata/src/badtest/badvar/x.go        |     1 +
 src/cmd/go/testdata/src/badtest/badvar/x_test.go   |     5 +
 src/cmd/go/testdata/src/vetpkg/a_test.go           |     1 +
 src/cmd/go/testdata/src/vetpkg/b.go                |     7 +
 src/cmd/go/testflag.go                             |     7 +-
 src/cmd/go/testgo.go                               |    21 +
 src/cmd/go/vcs.go                                  |    92 +-
 src/cmd/go/vet.go                                  |    23 +-
 src/cmd/gofmt/gofmt.go                             |   184 +-
 src/cmd/gofmt/long_test.go                         |     4 +-
 src/cmd/gofmt/testdata/stdin6.golden               |    19 +
 src/cmd/gofmt/testdata/stdin6.input                |    21 +
 src/cmd/gofmt/testdata/stdin7.golden               |    19 +
 src/cmd/gofmt/testdata/stdin7.input                |    21 +
 src/cmd/internal/rsc.io/arm/armasm/Makefile        |     2 +
 src/cmd/internal/rsc.io/arm/armasm/decode.go       |   567 +
 src/cmd/internal/rsc.io/arm/armasm/decode_test.go  |    69 +
 src/cmd/internal/rsc.io/arm/armasm/ext_test.go     |   614 +
 src/cmd/internal/rsc.io/arm/armasm/gnu.go          |   164 +
 src/cmd/internal/rsc.io/arm/armasm/inst.go         |   438 +
 src/cmd/internal/rsc.io/arm/armasm/objdump_test.go |   258 +
 .../internal/rsc.io/arm/armasm/objdumpext_test.go  |   260 +
 src/cmd/internal/rsc.io/arm/armasm/plan9x.go       |   211 +
 src/cmd/internal/rsc.io/arm/armasm/tables.go       |  9448 +++++++++++++
 .../internal/rsc.io/arm/armasm/testdata/Makefile   |     5 +
 .../internal/rsc.io/arm/armasm/testdata/decode.txt |   306 +
 src/cmd/internal/rsc.io/x86/x86asm/Makefile        |     3 +
 src/cmd/internal/rsc.io/x86/x86asm/decode.go       |  1616 +++
 src/cmd/internal/rsc.io/x86/x86asm/decode_test.go  |    71 +
 src/cmd/internal/rsc.io/x86/x86asm/ext_test.go     |   811 ++
 src/cmd/internal/rsc.io/x86/x86asm/gnu.go          |   926 ++
 src/cmd/internal/rsc.io/x86/x86asm/inst.go         |   641 +
 src/cmd/internal/rsc.io/x86/x86asm/inst_test.go    |    20 +
 src/cmd/internal/rsc.io/x86/x86asm/intel.go        |   518 +
 src/cmd/internal/rsc.io/x86/x86asm/objdump_test.go |   383 +
 .../internal/rsc.io/x86/x86asm/objdumpext_test.go  |   314 +
 .../internal/rsc.io/x86/x86asm/plan9ext_test.go    |   120 +
 src/cmd/internal/rsc.io/x86/x86asm/plan9x.go       |   346 +
 src/cmd/internal/rsc.io/x86/x86asm/plan9x_test.go  |    54 +
 src/cmd/internal/rsc.io/x86/x86asm/tables.go       |  9760 +++++++++++++
 .../internal/rsc.io/x86/x86asm/testdata/Makefile   |    12 +
 .../internal/rsc.io/x86/x86asm/testdata/decode.txt |  6731 +++++++++
 src/cmd/internal/rsc.io/x86/x86asm/xed_test.go     |   211 +
 src/cmd/internal/rsc.io/x86/x86asm/xedext_test.go  |   206 +
 src/cmd/ld/data.c                                  |    25 +-
 src/cmd/ld/decodesym.c                             |     5 +-
 src/cmd/ld/doc.go                                  |     6 +-
 src/cmd/ld/dwarf.c                                 |    14 +-
 src/cmd/ld/ldelf.c                                 |     4 +-
 src/cmd/ld/ldpe.c                                  |    26 +-
 src/cmd/ld/lib.c                                   |    10 +-
 src/cmd/ld/macho.c                                 |     3 +-
 src/cmd/ld/pobj.c                                  |     9 +
 src/cmd/objdump/armasm.go                          | 10821 ---------------
 src/cmd/objdump/main.go                            |    11 +-
 src/cmd/objdump/x86.go                             | 13800 -------------------
 src/cmd/pack/doc.go                                |     4 +
 src/cmd/pack/pack.go                               |    50 +-
 src/cmd/pack/pack_test.go                          |    23 +-
 src/cmd/pprof/internal/commands/commands.go        |   197 +
 src/cmd/pprof/internal/driver/driver.go            |  1036 ++
 src/cmd/pprof/internal/driver/interactive.go       |   492 +
 src/cmd/pprof/internal/fetch/fetch.go              |    82 +
 src/cmd/pprof/internal/plugin/plugin.go            |   213 +
 src/cmd/pprof/internal/profile/encode.go           |   470 +
 src/cmd/pprof/internal/profile/filter.go           |   157 +
 src/cmd/pprof/internal/profile/legacy_profile.go   |  1250 ++
 src/cmd/pprof/internal/profile/profile.go          |   567 +
 src/cmd/pprof/internal/profile/proto.go            |   298 +
 src/cmd/pprof/internal/profile/prune.go            |    97 +
 src/cmd/pprof/internal/report/report.go            |  1718 +++
 src/cmd/pprof/internal/report/source.go            |   450 +
 src/cmd/pprof/internal/report/source_html.go       |    77 +
 src/cmd/pprof/internal/svg/svg.go                  |    75 +
 src/cmd/pprof/internal/symbolizer/symbolizer.go    |   191 +
 src/cmd/pprof/internal/symbolz/symbolz.go          |   111 +
 src/cmd/pprof/internal/tempfile/tempfile.go        |    45 +
 src/cmd/pprof/pprof.go                             |   202 +
 src/cmd/yacc/testdata/expr/expr.y                  |     2 +
 src/cmd/yacc/yacc.go                               |    90 +-
 src/compress/bzip2/bzip2.go                        |     2 +
 src/compress/flate/inflate.go                      |    35 +-
 src/compress/flate/inflate_test.go                 |    39 +
 src/compress/gzip/gunzip.go                        |    36 +-
 src/compress/gzip/gunzip_test.go                   |    41 +
 src/compress/lzw/reader.go                         |     2 +
 src/compress/zlib/reader.go                        |    81 +-
 src/crypto/tls/alert.go                            |     2 +
 src/crypto/tls/cipher_suites.go                    |     5 +
 src/crypto/tls/handshake_server.go                 |    16 +
 src/crypto/tls/handshake_server_test.go            |    53 +-
 src/crypto/tls/testdata/Server-TLSv11-FallbackSCSV |    17 +
 .../testdata/Server-TLSv12-IssueTicketPreDisable   |    87 +
 .../tls/testdata/Server-TLSv12-ResumeDisabled      |    87 +
 src/crypto/tls/ticket.go                           |     3 +-
 src/crypto/x509/pkix/pkix.go                       |     2 +-
 src/crypto/x509/root_unix.go                       |    26 +
 src/crypto/x509/x509.go                            |    19 +-
 src/crypto/x509/x509_test.go                       |    74 +
 src/database/sql/fakedb_test.go                    |    22 +
 src/database/sql/sql.go                            |    52 +-
 src/database/sql/sql_test.go                       |    31 +
 src/debug/dwarf/type.go                            |    11 +
 src/debug/elf/file.go                              |     8 +
 src/debug/pe/file.go                               |    12 +-
 src/encoding/asn1/asn1.go                          |    12 +-
 src/encoding/asn1/asn1_test.go                     |    53 +
 src/encoding/binary/binary.go                      |    77 +-
 src/encoding/binary/binary_test.go                 |    23 +-
 src/encoding/gob/codec_test.go                     |    22 +-
 src/encoding/gob/dec_helpers.go                    |   468 +
 src/encoding/gob/decgen.go                         |   240 +
 src/encoding/gob/decode.go                         |   109 +-
 src/encoding/gob/decoder.go                        |    51 +-
 src/encoding/gob/enc_helpers.go                    |   414 +
 src/encoding/gob/encgen.go                         |   218 +
 src/encoding/gob/encode.go                         |   173 +-
 src/encoding/gob/encoder.go                        |    11 +-
 src/encoding/gob/encoder_test.go                   |    22 +
 src/encoding/gob/timing_test.go                    |   192 +
 src/encoding/gob/type.go                           |    76 +-
 src/encoding/json/decode.go                        |    46 +-
 src/encoding/json/decode_test.go                   |    33 +-
 src/encoding/json/encode.go                        |     2 +
 src/flag/flag.go                                   |    16 +-
 src/flag/flag_test.go                              |    10 +
 src/fmt/doc.go                                     |    41 +-
 src/fmt/fmt_test.go                                |   150 +-
 src/fmt/format.go                                  |    80 +-
 src/fmt/print.go                                   |   216 +-
 src/go/build/build.go                              |    33 +-
 src/go/build/build_test.go                         |    18 +
 src/go/build/doc.go                                |    11 +-
 src/go/build/testdata/empty/dummy                  |     0
 src/go/build/testdata/multi/file.go                |     5 +
 src/go/build/testdata/multi/file_appengine.go      |     5 +
 src/go/doc/exports.go                              |    26 +-
 src/go/doc/testdata/blank.0.golden                 |    37 +
 src/go/doc/testdata/blank.1.golden                 |    46 +
 src/go/doc/testdata/blank.2.golden                 |    37 +
 src/go/doc/testdata/blank.go                       |    38 +
 src/go/format/format.go                            |   221 +-
 src/go/format/format_test.go                       |     6 +-
 src/go/parser/parser.go                            |     2 +
 src/go/parser/short_test.go                        |     1 +
 src/go/printer/nodes.go                            |    18 +-
 src/go/printer/testdata/declarations.golden        |    25 +-
 src/go/printer/testdata/declarations.input         |    25 +
 src/go/printer/testdata/expressions.golden         |     5 +
 src/go/printer/testdata/expressions.input          |     5 +
 src/go/printer/testdata/expressions.raw            |     5 +
 src/go/printer/testdata/statements.golden          |     2 +-
 src/image/gif/reader.go                            |     7 +-
 src/image/gif/reader_test.go                       |    64 +-
 src/image/gif/writer.go                            |    18 +-
 src/image/gif/writer_test.go                       |    23 +
 src/image/jpeg/scan.go                             |     6 +
 src/io/io.go                                       |     7 +-
 src/lib9/tempdir_windows.c                         |    19 +-
 src/liblink/data.c                                 |     2 +
 src/liblink/obj5.c                                 |    56 +-
 src/liblink/obj6.c                                 |   183 +-
 src/liblink/obj8.c                                 |    44 +-
 src/liblink/objfile.c                              |    48 +-
 src/log/syslog/syslog_unix.go                      |     2 +-
 src/math/big/int.go                                |    25 +-
 src/math/big/int_test.go                           |    50 +-
 src/math/big/rat.go                                |     7 +-
 src/math/big/rat_test.go                           |     1 +
 src/math/sincos_amd64.s                            |    13 +-
 src/net/dial_test.go                               |    14 +-
 src/net/dnsclient_unix.go                          |     2 +-
 src/net/dnsconfig_unix.go                          |     2 +-
 src/net/empty.c                                    |     8 -
 src/net/fd_windows.go                              |    12 +
 src/net/file_stub.go                               |    38 +
 src/net/file_test.go                               |     2 +-
 src/net/file_unix.go                               |     2 +-
 src/net/http/client.go                             |    28 +-
 src/net/http/client_test.go                        |    37 +
 src/net/http/cookie.go                             |    10 +-
 src/net/http/cookie_test.go                        |    32 +
 src/net/http/export_test.go                        |    30 +
 src/net/http/fs.go                                 |     2 +-
 src/net/http/fs_test.go                            |    37 +
 src/net/http/httputil/dump.go                      |    12 +-
 src/net/http/httputil/dump_test.go                 |    30 +-
 src/net/http/{z_last_test.go => main_test.go}      |    30 +-
 src/net/http/request.go                            |     3 +-
 src/net/http/response_test.go                      |    28 +
 src/net/http/serve_test.go                         |   149 +
 src/net/http/server.go                             |    69 +-
 src/net/http/transport.go                          |    57 +-
 src/net/http/transport_test.go                     |   123 +-
 src/net/ipraw_test.go                              |     5 +
 src/net/lookup_stub.go                             |    49 +
 src/net/lookup_unix.go                             |     2 +-
 src/net/mail/message.go                            |    13 +-
 src/net/mail/message_test.go                       |    10 +
 src/net/net.go                                     |     1 -
 src/net/port_test.go                               |     6 +
 src/net/port_unix.go                               |     2 +-
 src/net/rpc/client.go                              |    12 +-
 src/net/rpc/client_test.go                         |    55 +
 src/net/rpc/server.go                              |    25 +-
 src/net/sock_bsd.go                                |     2 +-
 src/net/{sock_solaris.go => sock_stub.go}          |     2 +
 src/net/sockopt_bsd.go                             |     2 +-
 src/net/sockopt_posix.go                           |     2 +-
 src/net/sockopt_stub.go                            |    37 +
 src/net/sockoptip_bsd.go                           |     2 +-
 src/net/sockoptip_posix.go                         |     2 +-
 src/net/sockoptip_stub.go                          |    14 +-
 src/net/tcpsockopt_darwin.go                       |    12 +-
 src/net/tcpsockopt_dragonfly.go                    |    13 +-
 src/net/tcpsockopt_openbsd.go                      |    17 +-
 src/net/tcpsockopt_posix.go                        |     2 +-
 src/net/tcpsockopt_solaris.go                      |    27 -
 src/net/tcpsockopt_stub.go                         |    20 +
 src/net/tcpsockopt_unix.go                         |    10 +-
 src/net/tcpsockopt_windows.go                      |    12 +-
 src/net/udp_test.go                                |    41 +
 src/net/unicast_posix_test.go                      |     3 +
 src/net/url/url.go                                 |    18 +
 src/os/env.go                                      |     5 +
 src/os/env_test.go                                 |    26 +
 src/os/error_plan9.go                              |     3 +-
 src/os/exec/exec.go                                |    11 +-
 src/os/exec/exec_test.go                           |    15 +-
 src/os/exec_unix.go                                |    14 +-
 src/os/exec_windows.go                             |     3 +
 src/os/os_test.go                                  |    97 +-
 src/os/path.go                                     |    16 +-
 src/os/proc.go                                     |    15 +-
 src/os/signal/signal_test.go                       |     6 +-
 src/path/filepath/match.go                         |     8 +-
 src/reflect/all_test.go                            |   213 +-
 src/reflect/asm_386.s                              |     3 +
 src/reflect/asm_amd64.s                            |     7 +-
 src/reflect/asm_amd64p32.s                         |     3 +
 src/reflect/asm_arm.s                              |     3 +
 src/reflect/makefunc.go                            |    25 +-
 src/reflect/type.go                                |   169 +-
 src/reflect/value.go                               |   625 +-
 src/regexp/all_test.go                             |    16 +-
 src/regexp/regexp.go                               |     2 +-
 src/regexp/syntax/doc.go                           |    48 +-
 src/regexp/syntax/parse.go                         |    39 +
 src/regexp/syntax/parse_test.go                    |    13 +
 src/run.bash                                       |    15 +-
 src/run.bat                                        |     7 +
 src/runtime/arch_386.go                            |     4 -
 src/runtime/arch_amd64.go                          |     4 -
 src/runtime/arch_amd64p32.go                       |     4 -
 src/runtime/arch_arm.go                            |     4 -
 src/runtime/asm.s                                  |    14 +
 src/runtime/asm_386.s                              |   192 +-
 src/runtime/asm_amd64.s                            |   314 +-
 src/runtime/asm_amd64p32.s                         |   286 +-
 src/runtime/asm_arm.s                              |   174 +-
 src/runtime/cgo/callbacks.c                        |    33 +-
 src/runtime/cgo/cgo.go                             |     7 -
 src/runtime/cgo/dragonfly.c                        |     4 +
 src/runtime/cgo/freebsd.c                          |     4 +
 src/runtime/cgo/gcc_arm.S                          |    15 +-
 src/runtime/cgo/gcc_darwin_386.c                   |    13 +-
 src/runtime/cgo/gcc_darwin_amd64.c                 |    13 +-
 src/runtime/cgo/gcc_dragonfly_386.c                |    13 +-
 src/runtime/cgo/gcc_dragonfly_amd64.c              |    13 +-
 src/runtime/cgo/gcc_freebsd_386.c                  |    13 +-
 src/runtime/cgo/gcc_freebsd_amd64.c                |    13 +-
 src/runtime/cgo/gcc_freebsd_arm.c                  |    13 +-
 src/runtime/cgo/gcc_linux_386.c                    |    13 +-
 src/runtime/cgo/gcc_linux_amd64.c                  |    13 +-
 src/runtime/cgo/gcc_linux_arm.c                    |    13 +-
 src/runtime/cgo/gcc_netbsd_386.c                   |    13 +-
 src/runtime/cgo/gcc_netbsd_amd64.c                 |    13 +-
 src/runtime/cgo/gcc_netbsd_arm.c                   |    13 +-
 src/runtime/cgo/gcc_openbsd_386.c                  |    13 +-
 src/runtime/cgo/gcc_openbsd_amd64.c                |    13 +-
 src/runtime/cgo/gcc_setenv.c                       |     7 +
 src/runtime/cgo/gcc_windows_386.c                  |     6 +-
 src/runtime/cgo/gcc_windows_amd64.c                |     6 +-
 src/runtime/cgo/libcgo.h                           |     4 +-
 src/runtime/cgo/netbsd.c                           |     4 +
 src/runtime/cgo/openbsd.c                          |     4 +
 src/runtime/cgo/setenv.c                           |     3 +
 src/runtime/cgocall.go                             |    13 +-
 src/runtime/cgocallback.go                         |    40 +
 src/runtime/chan.go                                |    26 +-
 src/runtime/chan_test.go                           |    29 +
 src/runtime/crash_test.go                          |   120 +
 src/runtime/debug.go                               |    30 +-
 src/runtime/debug/{debug.c => debug.s}             |     0
 src/runtime/defs_windows.go                        |     3 +
 src/runtime/defs_windows_386.h                     |     3 +
 src/runtime/defs_windows_amd64.h                   |     3 +
 src/runtime/env_plan9.go                           |     6 +-
 src/runtime/env_posix.go                           |    13 +-
 src/runtime/error.go                               |    22 -
 src/runtime/export_test.go                         |     4 +-
 src/runtime/extern.go                              |     2 -
 src/runtime/funcdata.h                             |    28 +-
 src/runtime/hashmap.go                             |    31 +-
 src/runtime/heapdump.c                             |    88 +-
 src/runtime/malloc.c                               |    57 +-
 src/runtime/malloc.go                              |   136 +-
 src/runtime/malloc.h                               |    16 +-
 src/runtime/map_test.go                            |    96 +-
 src/runtime/mcache.c                               |    10 +-
 src/runtime/mem.go                                 |    43 +-
 src/runtime/mem_plan9.c                            |     1 +
 src/runtime/mem_windows.c                          |    12 +
 src/runtime/memclr_386.s                           |     2 +
 src/runtime/memclr_amd64.s                         |     2 +
 src/runtime/mfinal_test.go                         |    13 +-
 src/runtime/mgc0.c                                 |   607 +-
 src/runtime/mgc0.go                                |    88 +-
 src/runtime/mgc0.h                                 |    23 +-
 src/runtime/mheap.c                                |     4 +
 src/runtime/mprof.go                               |     9 +-
 src/runtime/os_darwin.c                            |    44 +-
 src/runtime/os_darwin.go                           |     2 -
 src/runtime/os_dragonfly.c                         |    44 +-
 src/runtime/os_freebsd.c                           |    48 +-
 src/runtime/os_freebsd.go                          |     2 -
 src/runtime/os_linux.c                             |    44 +-
 src/runtime/os_linux.go                            |     2 -
 src/runtime/os_nacl.c                              |    15 +-
 src/runtime/os_nacl.go                             |    13 +-
 src/runtime/os_netbsd.c                            |    44 +-
 src/runtime/os_netbsd.go                           |     2 -
 src/runtime/os_openbsd.c                           |    99 +-
 src/runtime/os_openbsd.go                          |     2 -
 src/runtime/os_plan9.c                             |    99 +-
 src/runtime/os_plan9.go                            |    79 +-
 src/runtime/os_plan9.h                             |     5 +-
 src/runtime/os_solaris.c                           |    61 +-
 src/runtime/os_solaris.go                          |    31 +-
 src/runtime/os_windows.c                           |   125 +-
 src/runtime/os_windows.go                          |    29 +-
 src/runtime/os_windows_386.c                       |   110 +-
 src/runtime/os_windows_amd64.c                     |   118 +-
 src/runtime/panic.c                                |    45 +-
 src/runtime/panic.go                               |   321 +-
 src/runtime/panic1.go                              |   209 -
 src/runtime/parfor.c                               |    14 +-
 src/runtime/pprof/mprof_test.go                    |    99 +
 src/runtime/pprof/pprof_test.go                    |    10 +-
 src/runtime/print1.go                              |     3 -
 src/runtime/proc.c                                 |   471 +-
 src/runtime/proc.go                                |   113 +
 src/runtime/race.go                                |     2 +
 src/runtime/rt0_linux_386.s                        |     2 +-
 src/runtime/rt0_linux_arm.s                        |     2 +-
 src/runtime/rt0_plan9_386.s                        |     8 +-
 src/runtime/rt0_plan9_amd64.s                      |     8 +-
 src/runtime/rt0_solaris_amd64.s                    |     2 +-
 src/runtime/rt0_windows_386.s                      |     2 +-
 src/runtime/rt0_windows_amd64.s                    |     2 +-
 src/runtime/runtime.c                              |    52 +-
 src/runtime/runtime.go                             |    23 +
 src/runtime/runtime.h                              |   151 +-
 src/runtime/runtime_test.go                        |    26 +-
 src/runtime/select.go                              |    23 +-
 src/runtime/sema.go                                |     8 +-
 src/runtime/signals_darwin.h                       |     3 +
 src/runtime/signals_dragonfly.h                    |     3 +
 src/runtime/signals_freebsd.h                      |     3 +
 src/runtime/signals_linux.h                        |     3 +
 src/runtime/signals_nacl.h                         |     3 +
 src/runtime/signals_netbsd.h                       |     3 +
 src/runtime/signals_openbsd.h                      |     3 +
 src/runtime/signals_plan9.h                        |     3 +
 src/runtime/signals_solaris.h                      |     3 +
 src/runtime/sigpanic_unix.go                       |    40 +
 src/runtime/slice.go                               |     8 +-
 src/runtime/stack.c                                |   789 +-
 src/runtime/stack.h                                |    27 +-
 src/runtime/stack_gen_test.go                      |  1473 --
 src/runtime/stack_test.go                          |   154 +-
 src/runtime/string.c                               |    80 +-
 src/runtime/string.go                              |    65 +-
 src/runtime/string_test.go                         |    13 +
 src/runtime/stubs.go                               |    78 +-
 src/runtime/symtab.go                              |     7 -
 src/runtime/sys_dragonfly_386.s                    |     2 +-
 src/runtime/sys_freebsd_386.s                      |     2 +-
 src/runtime/sys_netbsd_386.s                       |     2 +-
 src/runtime/sys_openbsd_386.s                      |     2 +-
 src/runtime/sys_plan9_386.s                        |    59 +-
 src/runtime/sys_plan9_amd64.s                      |    54 +-
 src/runtime/sys_solaris_amd64.s                    |     6 +-
 src/runtime/sys_windows_386.s                      |    81 +-
 src/runtime/sys_windows_amd64.s                    |    81 +-
 src/runtime/syscall_solaris.go                     |    88 +-
 src/runtime/syscall_windows.c                      |   166 -
 src/runtime/syscall_windows.go                     |    84 +-
 src/runtime/syscall_windows_test.go                |    84 +
 src/runtime/thunk.s                                |    41 +-
 src/runtime/thunk_windows.s                        |    30 +
 src/runtime/tls_arm.s                              |     6 +-
 src/runtime/traceback.go                           |   205 +-
 src/runtime/traceback_windows.go                   |    63 -
 src/runtime/type.h                                 |     2 +-
 src/runtime/typekind.go                            |    60 +-
 src/runtime/typekind.h                             |     3 -
 src/runtime/vdso_linux_amd64.c                     |    29 +-
 src/strconv/quote.go                               |     2 +-
 src/strings/strings.go                             |    11 +-
 src/sync/atomic/64bit_arm.go                       |    12 +
 src/sync/atomic/asm_arm.s                          |     2 +-
 src/sync/atomic/asm_linux_arm.s                    |     2 +-
 src/sync/atomic/export_linux_arm_test.go           |     2 -
 src/sync/atomic/value.go                           |    85 +
 src/sync/atomic/value_test.go                      |   195 +
 src/sync/once.go                                   |     7 +-
 src/sync/once_test.go                              |    26 +-
 src/sync/pool.go                                   |     2 +
 src/sync/pool_test.go                              |    54 +-
 src/syscall/asm.s                                  |     8 +
 src/syscall/asm_darwin_386.s                       |     1 +
 src/syscall/asm_darwin_amd64.s                     |     1 +
 src/syscall/asm_dragonfly_386.s                    |     1 +
 src/syscall/asm_dragonfly_amd64.s                  |     1 +
 src/syscall/asm_freebsd_386.s                      |     1 +
 src/syscall/asm_freebsd_amd64.s                    |     1 +
 src/syscall/asm_freebsd_arm.s                      |     1 +
 src/syscall/asm_linux_386.s                        |     1 +
 src/syscall/asm_linux_amd64.s                      |     1 +
 src/syscall/asm_linux_arm.s                        |     1 +
 src/syscall/asm_nacl_386.s                         |     1 +
 src/syscall/asm_nacl_amd64p32.s                    |     1 +
 src/syscall/asm_nacl_arm.s                         |     1 +
 src/syscall/asm_netbsd_386.s                       |     1 +
 src/syscall/asm_netbsd_amd64.s                     |     1 +
 src/syscall/asm_netbsd_arm.s                       |     1 +
 src/syscall/asm_openbsd_386.s                      |     1 +
 src/syscall/asm_openbsd_amd64.s                    |     1 +
 src/syscall/asm_plan9_386.s                        |     2 +
 src/syscall/asm_plan9_amd64.s                      |     2 +
 src/syscall/asm_windows.s                          |    13 -
 src/syscall/dll_windows.go                         |     3 +-
 src/syscall/env_plan9.go                           |    86 +-
 src/syscall/env_unix.go                            |    48 +-
 src/syscall/env_windows.go                         |     8 +
 src/syscall/exec_bsd.go                            |    40 +-
 src/syscall/exec_linux.go                          |   159 +-
 src/syscall/export_test.go                         |     7 +
 src/syscall/mkall_windows.bat                      |     2 +-
 src/syscall/mksyscall.pl                           |     6 +
 src/syscall/mksyscall_solaris.pl                   |     8 +-
 src/syscall/mksyscall_windows.go                   |    79 +-
 src/syscall/so_solaris.go                          |     2 +
 src/syscall/str.go                                 |     6 +-
 src/syscall/syscall.go                             |     7 +
 src/syscall/syscall_darwin.go                      |     1 +
 src/syscall/syscall_linux.go                       |     8 +-
 src/syscall/syscall_linux_386.go                   |     1 +
 src/syscall/syscall_linux_arm.go                   |     1 +
 src/syscall/syscall_plan9.go                       |     2 +
 src/syscall/syscall_test.go                        |    17 +
 src/syscall/syscall_unix.go                        |     2 +-
 src/syscall/syscall_windows.go                     |     4 +-
 src/syscall/zsyscall_darwin_386.go                 |    32 +
 src/syscall/zsyscall_darwin_amd64.go               |    32 +
 src/syscall/zsyscall_dragonfly_386.go              |    30 +
 src/syscall/zsyscall_dragonfly_amd64.go            |    30 +
 src/syscall/zsyscall_freebsd_386.go                |    30 +
 src/syscall/zsyscall_freebsd_amd64.go              |    30 +
 src/syscall/zsyscall_freebsd_arm.go                |    30 +
 src/syscall/zsyscall_linux_386.go                  |    50 +
 src/syscall/zsyscall_linux_amd64.go                |    51 +
 src/syscall/zsyscall_linux_arm.go                  |    50 +
 src/syscall/zsyscall_netbsd_386.go                 |    27 +
 src/syscall/zsyscall_netbsd_amd64.go               |    27 +
 src/syscall/zsyscall_netbsd_arm.go                 |    27 +
 src/syscall/zsyscall_openbsd_386.go                |    29 +
 src/syscall/zsyscall_openbsd_amd64.go              |    29 +
 src/syscall/zsyscall_plan9_386.go                  |    46 +-
 src/syscall/zsyscall_plan9_amd64.go                |    12 +-
 src/syscall/zsyscall_solaris_amd64.go              |    23 +
 src/syscall/zsyscall_windows.go                    |    36 +-
 src/syscall/ztypes_windows.go                      |     1 +
 src/testing/allocs_test.go                         |    29 +
 src/testing/cover.go                               |     9 +-
 src/testing/testing.go                             |    59 +-
 src/testing/testing_test.go                        |    18 +
 src/text/template/doc.go                           |     9 +-
 src/text/template/exec.go                          |     4 +-
 src/text/template/exec_test.go                     |    86 +-
 src/text/template/funcs.go                         |    86 +-
 src/time/sleep.go                                  |     7 +
 src/time/sleep_test.go                             |    21 +
 src/time/time.go                                   |     5 +
 src/unicode/utf8/utf8.go                           |    26 +-
 test/assign.go                                     |    12 +
 test/escape2.go                                    |     2 +
 test/escape2n.go                                   |  1494 ++
 test/fixedbugs/bug255.go                           |    19 +-
 test/fixedbugs/bug371.go                           |     6 +-
 test/fixedbugs/bug491.go                           |   110 +
 test/fixedbugs/issue4232.go                        |    29 +-
 test/fixedbugs/issue6703a.go                       |    16 +
 test/fixedbugs/issue6703b.go                       |    16 +
 test/fixedbugs/issue6703c.go                       |    18 +
 test/fixedbugs/issue6703d.go                       |    18 +
 test/fixedbugs/issue6703e.go                       |    18 +
 test/fixedbugs/issue6703f.go                       |    18 +
 test/fixedbugs/issue6703g.go                       |    20 +
 test/fixedbugs/issue6703h.go                       |    20 +
 test/fixedbugs/issue6703i.go                       |    20 +
 test/fixedbugs/issue6703j.go                       |    20 +
 test/fixedbugs/issue6703k.go                       |    21 +
 test/fixedbugs/issue6703l.go                       |    21 +
 test/fixedbugs/issue6703m.go                       |    25 +
 test/fixedbugs/issue6703n.go                       |    25 +
 test/fixedbugs/issue6703o.go                       |    23 +
 test/fixedbugs/issue6703p.go                       |    23 +
 test/fixedbugs/issue6703q.go                       |    28 +
 test/fixedbugs/issue6703r.go                       |    28 +
 test/fixedbugs/issue6703s.go                       |    18 +
 test/fixedbugs/issue6703t.go                       |    18 +
 test/fixedbugs/issue6703u.go                       |    18 +
 test/fixedbugs/issue6703v.go                       |    18 +
 test/fixedbugs/issue6703w.go                       |    21 +
 test/fixedbugs/issue6703x.go                       |    21 +
 test/fixedbugs/issue6703y.go                       |    23 +
 test/fixedbugs/issue6703z.go                       |    23 +
 test/fixedbugs/issue8017.go                        |    26 +
 test/fixedbugs/issue8060.dir/a.go                  |     7 +
 test/fixedbugs/issue8060.dir/b.go                  |    13 +
 test/fixedbugs/issue8060.go                        |     9 +
 test/fixedbugs/issue8079.go                        |    11 +
 test/fixedbugs/issue8280.dir/a.go                  |     3 +
 test/fixedbugs/issue8280.dir/b.go                  |     5 +
 test/fixedbugs/issue8280.go                        |     9 +
 test/fixedbugs/issue8311.go                        |    16 +
 test/fixedbugs/issue8507.go                        |    16 +
 test/fixedbugs/issue8761.go                        |    26 +
 test/fixedbugs/issue8961.go                        |    20 +
 test/interface/explicit.go                         |     4 +-
 test/interface/fail.go                             |    14 -
 test/linkx.go                                      |     8 +-
 test/live.go                                       |    22 +-
 test/live2.go                                      |    12 +-
 test/maplinear.go                                  |    22 +
 test/nosplit.go                                    |    13 +-
 test/recover.go                                    |    44 +-
 test/run.go                                        |     4 +
 663 files changed, 60099 insertions(+), 33996 deletions(-)
