commit dcb6547b76c5818b55294e203e8f5057794b23cf
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Mon Mar 7 08:54:28 2022 -0800

    cmd/compile: remove duplicate const logic from typecheck
    
    Now that we always use types2 to validate user source code, we can
    remove the constSet logic from typecheck for detecting duplicate
    expression switch cases and duplicate map literal keys. This logic is
    redundant with types2, and currently causes unified IR to report
    inappropriate duplicate constant errors that only appear after type
    substitution.
    
    Updates #42758.
    
    Change-Id: I51ee2c5106eec9abf40eba2480dc52603c68ba21
    Reviewed-on: https://go-review.googlesource.com/c/go/+/390474
    Trust: Matthew Dempsky <mdempsky@google.com>
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Robert Griesemer <gri@golang.org>

 src/cmd/compile/internal/noder/reader.go    |  6 --
 src/cmd/compile/internal/typecheck/const.go | 89 -----------------------------
 src/cmd/compile/internal/typecheck/expr.go  |  2 -
 src/cmd/compile/internal/typecheck/stmt.go  | 11 ----
 test/typeparam/issue42758.go                | 19 ++++++
 5 files changed, 19 insertions(+), 108 deletions(-)
