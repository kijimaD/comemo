commit 48a6362dff840cfe75d5f1a674157af1f5d9ee85
Author: Michael Anthony Knyszek <mknyszek@google.com>
Date:   Sun Nov 12 21:48:31 2023 +0000

    cmd/trace/v2: add goroutine analysis pages
    
    This is a complete fork and most of a rewrite of the goroutine analysis
    pages for v2 traces. It fixes an issue with the old page where GC time
    didn't really make any sense, generalizes the page and breaks things
    down further, and adds clarifying text.
    
    This change also modifies the SummarizeGoroutines API to not stream the
    trace. This is unfortunate, but we're already reading and holding the
    entire trace in memory for the trace viewer. We can revisit this
    decision in the future. Also, we want to do this now because the
    GoroutineSummary holds on to pointers to events, and these events will
    be used by the user region and user task analyses. While tracev2 events
    are values and they should be equivalent no matter how many times we
    parse a trace, this lets us reference the event in the slice directly.
    
    For #60773.
    For #63960.
    Fixes #62443.
    
    Change-Id: I1c5ab68141869378843f4f2826686038e4533090
    Reviewed-on: https://go-review.googlesource.com/c/go/+/541257
    Reviewed-by: Michael Pratt <mpratt@google.com>
    Auto-Submit: Michael Knyszek <mknyszek@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 src/cmd/trace/v2/goroutines.go          | 435 ++++++++++++++++++++++++++++++++
 src/cmd/trace/v2/main.go                |  11 +-
 src/internal/trace/goroutinesv2.go      |  70 +++--
 src/internal/trace/goroutinesv2_test.go |  18 +-
 src/internal/trace/traceviewer/http.go  |  29 ++-
 5 files changed, 532 insertions(+), 31 deletions(-)
