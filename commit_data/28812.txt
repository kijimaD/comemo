commit 26c7b4fb1e0553e8f9abe5fdd9008bb1f5bd3228
Author: Anthony Canino <anthony.canino1@gmail.com>
Date:   Sat Oct 10 15:24:34 2015 -0400

    cmd/compile: "abc"[1] is not an ideal constant
    
    "abc"[1] is not like 'b', in that -"abc"[1] is uint8 math, not ideal constant math.
    Delay the constantification until after ideal constant folding is over.
    
    Fixes #11370.
    
    Change-Id: Iba2fc00ca2455959e7bab8f4b8b4aac14b1f9858
    Reviewed-on: https://go-review.googlesource.com/15740
    Run-TryBot: Russ Cox <rsc@golang.org>
    Reviewed-by: Russ Cox <rsc@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/compile/internal/gc/ssa.go  |  6 ++++++
 src/cmd/compile/internal/gc/walk.go | 14 ++------------
 test/fixedbugs/issue11370.go        | 13 +++++++++++++
 3 files changed, 21 insertions(+), 12 deletions(-)
