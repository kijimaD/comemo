commit 4267fd389e941cf197cc3890cc42e474866c0d30
Author: qmuntal <quimmuntal@gmail.com>
Date:   Tue Feb 18 11:55:07 2025 +0100

    syscall: don't truncate newly created files on Windows
    
    There is no need for syscall.OpenFile to truncate newly created files.
    Some special Windows files, like the NUL device, can't be
    truncated, so we should avoid truncating unless it is really necessary.
    
    Fixes #71752.
    
    Change-Id: I8238048594f706f6a5281053d55cfe3dc898828d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/650276
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Damien Neil <dneil@google.com>
    Reviewed-by: Michael Knyszek <mknyszek@google.com>

 src/os/os_test.go               | 11 +++++++++++
 src/syscall/syscall_windows.go  | 22 +++++++++++++++++-----
 src/syscall/zsyscall_windows.go |  4 ++--
 3 files changed, 30 insertions(+), 7 deletions(-)
