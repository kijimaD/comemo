commit 9fedc481ea09a0539cd2669312429ef5416a8949
Author: Russ Cox <rsc@golang.org>
Date:   Mon Oct 17 15:33:29 2022 -0400

    runtime/internal/atomic: add write barrier-enabled pointer atomics
    
    UnsafePointer.Store, UnsafePointer.CompareAndSwap were missing,
    although .StoreNoWB and .CompareAndSwapNoWB existed.
    Same for Pointer[T}.
    
    Do the linkname tricks necessary to add those methods.
    
    Change-Id: I925ee27673288accb15ebe93898f9eb01ab46a98
    Reviewed-on: https://go-review.googlesource.com/c/go/+/443379
    Auto-Submit: Russ Cox <rsc@golang.org>
    Reviewed-by: Austin Clements <austin@google.com>
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/runtime/atomic_pointer.go        | 21 +++++++++++++
 src/runtime/internal/atomic/types.go | 60 ++++++++++++++++++++++++++----------
 2 files changed, 65 insertions(+), 16 deletions(-)
