commit ca33e1097155019d0636a0da805054b4182e9b7d
Author: Josh Bleecher Snyder <josharian@gmail.com>
Date:   Thu Mar 30 11:46:45 2017 -0700

    cmd/compile: rework reporting of oversized stack frames
    
    We don't support stack frames over 2GB.
    Rather than detect this during backend compilation,
    check for it at the end of compilation.
    This is arguably a more accurate check anyway,
    since it takes into account the full frame,
    including local stack, arguments, and arch-specific
    rounding, although it's unlikely anyone would ever notice.
    
    Also, rather than reporting the error right away,
    take note of it and report it later, at the top level.
    This is not relevant now, but it will help with making
    the backend concurrent, as the append to the list of
    oversized functions can be cheaply protected by a plain mutex.
    
    Updates #15756
    Updates #19250
    
    Change-Id: Id3fa21906616d62e9dc66e27a17fd5f83304e96e
    Reviewed-on: https://go-review.googlesource.com/38972
    Run-TryBot: Josh Bleecher Snyder <josharian@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/compile/internal/gc/main.go | 3 +++
 src/cmd/compile/internal/gc/pgen.go | 8 ++++----
 src/cmd/compile/internal/gc/subr.go | 2 ++
 3 files changed, 9 insertions(+), 4 deletions(-)
