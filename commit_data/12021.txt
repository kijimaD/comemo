commit 793f6f3cc3c2e6a5fc6636f984eadb808c7b62e8
Author: Rob Pike <r@golang.org>
Date:   Sat Feb 18 12:43:08 2012 +1100

    encoding/gob: fix mutually recursive slices of structs
    
    Fix by setting the element type if we discover it's zero while building.
    We could have fixed this better with foresight by doing the id setting in a
    different sequence, but doing that now would break binary compatibility.
    
    Fixes #2995.
    
    R=golang-dev, dsymonds
    CC=golang-dev
    https://golang.org/cl/5675083

 src/pkg/encoding/gob/encoder_test.go | 27 +++++++++++++++++++++++++++
 src/pkg/encoding/gob/type.go         | 16 ++++++++++++++++
 2 files changed, 43 insertions(+)
