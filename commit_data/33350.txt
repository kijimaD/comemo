commit 5617864900c397b9c0160a278ae35007e1d785ad
Author: Russ Cox <rsc@golang.org>
Date:   Tue Oct 31 12:59:47 2017 -0400

    cmd/go: pass package config to vet during "go vet"
    
    After this CL, "go vet" can be guaranteed to have complete type information
    about the packages being checked, even if cgo or swig is in use,
    which will in turn make it reasonable for vet checks to insist on type
    information. It also fixes vet's understanding of unusual import paths
    like relative paths and vendored packages.
    
    For now "go tool vet" will continue to cope without type information,
    but the eventual plan is for "go tool vet" to query the go command for
    what it needs, and also to be able to query alternate build systems
    like bazel. But that's future work.
    
    Fixes #4889.
    Fixes #12556 (if not already fixed).
    Fixes #15182.
    Fixes #16086.
    Fixes #17571.
    
    Change-Id: I932626ee7da649b302cd269b82eb6fe5d7b9f0f2
    Reviewed-on: https://go-review.googlesource.com/74750
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/dist/deps.go               |   3 --
 src/cmd/go/go_test.go              |   4 +-
 src/cmd/go/internal/load/pkg.go    |   2 +
 src/cmd/go/internal/vet/vet.go     |  36 ++++++-------
 src/cmd/go/internal/work/action.go |  48 +++++++++++++++++
 src/cmd/go/internal/work/exec.go   | 108 ++++++++++++++++++++++++++++++++++++-
 src/cmd/vet/all/whitelist/all.txt  |   4 --
 7 files changed, 177 insertions(+), 28 deletions(-)
