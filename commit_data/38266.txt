commit 448089854a971274db839a1cacea008b48134a19
Author: erifan01 <eric.fang@arm.com>
Date:   Wed Dec 12 08:29:51 2018 +0000

    cmd/asm: add arm64 v8.1 atomic instructions
    
    This change adds several arm64 v8.1 atomic instructions and test cases.
    They are LDADDAx, LDADDLx, LDANDAx, LDANDALx, LDANDLx, LDEORAx, LDEORALx,
    LDEORLx, LDORAx, LDORALx, LDORLx, SWPAx and SWPLx. Their form is consistent
    with the form of the existing atomic instructions.
    
    For instructions STXRx, STLXRx, STXPx and STLXPx, the second destination
    register can't be RSP. This CL also adds a check for this.
    
    LDADDx Rs, (Rb), Rt: *Rb -> Rt, Rs + *Rb -> *Rb
    LDANDx Rs, (Rb), Rt: *Rb -> Rt, Rs AND NOT(*Rb) -> *Rb
    LDEORx Rs, (Rb), Rt: *Rb -> Rt, Rs EOR *Rb -> *Rb
    LDORx  Rs, (Rb), Rt: *Rb -> Rt, Rs OR *Rb -> *Rb
    
    Change-Id: I9f9b0245958cb57ab7d88c66fb9159b23b9017fd
    Reviewed-on: https://go-review.googlesource.com/c/go/+/157001
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/asm/internal/arch/arm64.go             |  13 +-
 src/cmd/asm/internal/asm/testdata/arm64.s      | 133 +++++++++++++++++++--
 src/cmd/asm/internal/asm/testdata/arm64error.s | 120 +++++++++++++++++++
 src/cmd/internal/obj/arm64/a.out.go            |  70 +++++++++--
 src/cmd/internal/obj/arm64/anames.go           |  70 +++++++++--
 src/cmd/internal/obj/arm64/asm7.go             | 158 ++++++++++++++++---------
 6 files changed, 469 insertions(+), 95 deletions(-)
