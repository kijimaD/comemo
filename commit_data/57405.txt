commit a0d7bfa28683c2f7cf7868330295c9942a2fcdfd
Author: Kir Kolyshkin <kolyshkin@gmail.com>
Date:   Thu Sep 5 11:48:00 2024 -0700

    internal/syscall/unix: implement Eaccess on all unix platforms
    
    Eaccess, initially added by CL 414824 for linux only, was later
    implemented for freebsd (CL 531155), netbsd (CL 531876), dragonfly
    (CL 532675), openbsd (CL 538836), and darwin (CL 579976).
    
    The only unix platforms which lack Eaccess are Solaris/Illumos and AIX.
    
    For AIX, syscall.Faccessat is already available, the only missing piece
    was AT_EACCESS constant. Let's take it from [1], which, judging by a few
    other known AT_ constants, appears to be accurate.
    
    For Solaris, wire the faccessat using the same logic as in the syscall
    package.
    
    Now, when we have faccessat for every unix, we can drop eaccess_other.go
    and consolidate Eaccess implementations to use faccessat.
    
    [1]: https://github.com/rust-lang/libc/blob/main/src/unix/aix/mod.rs
    
    Change-Id: I7e1b90dedc5d8174235d3a79d5c662f3dcb909c3
    Reviewed-on: https://go-review.googlesource.com/c/go/+/611295
    Auto-Submit: Ian Lance Taylor <iant@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Tobias Klauser <tobias.klauser@gmail.com>
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>
    Run-TryBot: Kirill Kolyshkin <kolyshkin@gmail.com>

 src/internal/syscall/unix/at_aix.go                |  2 ++
 src/internal/syscall/unix/at_solaris.go            |  3 +++
 .../syscall/unix/{eaccess_linux.go => eaccess.go}  |  8 +++----
 src/internal/syscall/unix/eaccess_other.go         | 13 ----------
 .../unix/{eaccess_bsd.go => faccessat_bsd.go}      |  4 ----
 .../{eaccess_darwin.go => faccessat_darwin.go}     |  4 ----
 .../{eaccess_openbsd.go => faccessat_openbsd.go}   |  4 ----
 src/internal/syscall/unix/faccessat_solaris.go     | 28 ++++++++++++++++++++++
 src/internal/syscall/unix/faccessat_syscall.go     | 11 +++++++++
 9 files changed, 48 insertions(+), 29 deletions(-)
