commit 994f59666f0f79379d3b48bae7c1fb3e2b0f8dc1
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Fri Mar 29 12:39:19 2013 -0700

    bytes: don't grow Buffer if capacity is available
    
    Also added a new benchmark from the same test:
    
    benchmark                           old ns/op    new ns/op    delta
    BenchmarkBufferNotEmptyWriteRead      2643698       709189  -73.17%
    
    Fixes #5154
    
    R=golang-dev, r, gri
    CC=golang-dev
    https://golang.org/cl/8164043

 src/pkg/bytes/buffer.go      |  5 +++++
 src/pkg/bytes/buffer_test.go | 32 ++++++++++++++++++++++++++++++++
 src/pkg/bytes/export_test.go |  4 ++++
 3 files changed, 41 insertions(+)
