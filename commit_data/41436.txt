commit 2c484c0356c5e13a480b3842de0d345224a7bbf8
Author: Cherry Zhang <cherryyz@google.com>
Date:   Thu Aug 22 17:26:41 2019 -0400

    [dev.link] cmd/internal/obj: write object file in new format
    
    If -newobj is set, write object file in new format, which uses
    indices for symbol references instead of symbol names. The file
    format is described at the beginning of
    cmd/internal/goobj2/objfile.go.
    
    A new package, cmd/internal/goobj2, is introduced for reading and
    writing new object files. (The package name is temporary.) It is
    written in a way that trys to make the encoding as regular as
    possible, and the reader and writer as symmetric as possible.
    
    This is incomplete, and currently nothing will consume the new
    object file.
    
    Change-Id: Ifefedbf6456d760d15a9f40a28af6486c93100fe
    Reviewed-on: https://go-review.googlesource.com/c/go/+/196030
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/compile/internal/gc/iexport.go |   4 +-
 src/cmd/dist/buildtool.go              |   1 +
 src/cmd/internal/goobj2/funcinfo.go    | 114 ++++++++
 src/cmd/internal/goobj2/objfile.go     | 513 +++++++++++++++++++++++++++++++++
 src/cmd/internal/obj/link.go           |  11 +-
 src/cmd/internal/obj/objfile.go        |   5 +
 src/cmd/internal/obj/objfile2.go       | 350 ++++++++++++++++++++++
 src/cmd/internal/obj/sym.go            |   9 +-
 8 files changed, 992 insertions(+), 15 deletions(-)
