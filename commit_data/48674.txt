commit e146d3eafafe149aa3a28e6a251db9c01d04f11d
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Tue Feb 15 11:39:41 2022 -0800

    cmd/compile: switch to final unified IR export format
    
    Now that there's a native go/types importer for unified IR, the
    compiler no longer needs to stay backwards compatible with old iexport
    importers.
    
    This CL also updates the go/types and go/internal/gcimporter tests to
    expect that the unified IR importer sets the receiver parameter type
    to the underlying Interface type, rather than the Named type. This is
    a temporary workaround until we make a decision on #49906.
    
    Notably, this makes `GOEXPERIMENT=unified go test` work on generics
    code without requiring `-vet=off` (because previously cmd/vet was
    relying on unified IR's backwards-compatible iexport data, which
    omitted generic types).
    
    Change-Id: Iac7a2346bb7a91e6690fb2978fb702fadae5559d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/386004
    Trust: Matthew Dempsky <mdempsky@google.com>
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    Reviewed-by: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 .../compile/internal/importer/gcimporter_test.go   | 20 ++++-
 src/cmd/compile/internal/noder/export.go           | 46 ++---------
 src/cmd/compile/internal/noder/import.go           | 93 +++++++++-------------
 src/cmd/compile/internal/noder/reader.go           | 10 ---
 src/cmd/compile/internal/noder/unified.go          | 16 +---
 src/go/internal/gcimporter/gcimporter_test.go      | 27 ++++---
 src/go/types/eval_test.go                          | 10 ++-
 7 files changed, 89 insertions(+), 133 deletions(-)
