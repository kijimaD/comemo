commit 3c2a21ff13c53b93db50cfb37b186d6200e2ceec
Author: Austin Clements <austin@google.com>
Date:   Thu Feb 25 15:37:40 2016 -0500

    runtime: fix transient _Gwaiting states in newstack
    
    With concurrent stack shrinking, the stack can move the instant after
    a G enters _Gwaiting. There are only two places that put a G into
    _Gwaiting: gopark and newstack. We fixed uses of gopark. This commit
    fixes newstack by simplifying its G transitions and, in particular,
    eliminating or narrowing the transient _Gwaiting states it passes
    through so it's clear nothing in the G is accessed while in _Gwaiting.
    
    For #12967.
    
    Change-Id: I2440ead411d2bc61beb1e2ab020ebe3cb3481af9
    Reviewed-on: https://go-review.googlesource.com/20039
    Reviewed-by: Rick Hudson <rlh@golang.org>
    Run-TryBot: Austin Clements <austin@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/runtime/stack.go | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)
