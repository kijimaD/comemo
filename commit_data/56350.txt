commit 23f760fd58a0609b9e03da944e7949f7e26a7e29
Author: Michael Matloob <matloob@golang.org>
Date:   Wed May 1 13:51:20 2024 -0400

    cmd/go: remove checks that all counters incremented are in counters.txt
    
    This change removes cmd/go/testdata/counters.txt. It also removes the
    code that prepares it and checks that it contains all registered
    counters as well as counters for all flags and subcommands. It removes
    the counter registration mechanism, and uses telemetry.NewCounter to
    create new counters instead. It keeps the tests that check that at least
    one counter is incremented if the go command is invoked in a script test.
    
    Change-Id: Ic6bda5c64e90f0dd7e221968fce0e375e84d6e17
    Cq-Include-Trybots: luci.golang.try:gotip-windows-amd64-longtest,gotip-linux-amd64-longtest
    Reviewed-on: https://go-review.googlesource.com/c/go/+/582715
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Sam Thanawalla <samthanawalla@google.com>

 src/cmd/go/counters_test.go             | 140 -------
 src/cmd/go/internal/base/base.go        |  27 --
 src/cmd/go/internal/help/help.go        |   3 +-
 src/cmd/go/internal/modfetch/cache.go   |   3 +-
 src/cmd/go/internal/toolchain/select.go |   5 +-
 src/cmd/go/internal/toolchain/switch.go |   3 +-
 src/cmd/go/main.go                      |   5 +-
 src/cmd/go/script_test.go               |  20 -
 src/cmd/go/testdata/counters.txt        | 689 --------------------------------
 9 files changed, 11 insertions(+), 884 deletions(-)
