commit 94e40d5603797fe4d9302421682bb5b997d9c568
Author: qmuntal <quimmuntal@gmail.com>
Date:   Mon Aug 7 11:24:13 2023 +0200

    os: follow all name surrogate reparse points in Stat on Windows
    
    Previously, os.Stat only followed IO_REPARSE_TAG_SYMLINK
    and IO_REPARSE_TAG_MOUNT_POINT reparse points.
    
    This CL generalize the logic to detect which reparse points to follow
    by using the reparse tag value to determine whether the reparse point
    refers to another named entity, as documented in
    https://learn.microsoft.com/en-us/windows/win32/fileio/reparse-point-tags.
    
    The new behavior adds implicit support for correctly stat-ing reparse
    points other than mount points and symlinks, e.g.,
    IO_REPARSE_TAG_WCI_LINK and IO_REPARSE_TAG_IIS_CACHE.
    
    Updates #42184
    
    Change-Id: I51f56127d4dc6c0f43eb5dfa3bfa6d9e3922d000
    Reviewed-on: https://go-review.googlesource.com/c/go/+/516555
    Run-TryBot: Bryan Mills <bcmills@google.com>
    Reviewed-by: Michael Knyszek <mknyszek@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Bryan Mills <bcmills@google.com>
    Run-TryBot: Quim Muntal <quimmuntal@gmail.com>

 src/os/os_windows_test.go | 39 +++++++++++++++++++++++++++++++++++++++
 src/os/stat.go            |  4 ++++
 src/os/stat_windows.go    | 18 +++++++++---------
 src/os/types_windows.go   | 10 ++++++++++
 4 files changed, 62 insertions(+), 9 deletions(-)
