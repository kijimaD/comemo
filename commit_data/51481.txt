commit 8ed74ee39afab11012460fa3e54dd6b83a6439c0
Author: Michael Matloob <matloob@golang.org>
Date:   Wed Nov 30 12:53:13 2022 -0500

    go/internal/gcimporter: fix TestImportStdLib
    
    The test attempted to find all stdlib packages by scanning
    pkg/$GOOS_$GOARCH for .a files and then tried to import all of them.
    Now that .a files are no longer being placed there, the test is a
    noop. Fix this by using go list std (and filtering out testonly
    packages) and trying to import all of those to recreate what the test
    intended to do.
    
    This also removes a dependency on the pkg/$GOOS_$GOARCH directory
    which will stop being produced by dist in CL 453496.
    
    For #47257
    
    Change-Id: I7c1944a89db9da9269def3d64a11408a60d73d46
    Reviewed-on: https://go-review.googlesource.com/c/go/+/453858
    Reviewed-by: Michael Matloob <matloob@golang.org>
    Run-TryBot: Michael Matloob <matloob@golang.org>
    Reviewed-by: Bryan Mills <bcmills@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 .../compile/internal/importer/gcimporter_test.go   | 61 +++++++++-------------
 src/go/internal/gcimporter/gcimporter_test.go      | 61 +++++++++-------------
 2 files changed, 52 insertions(+), 70 deletions(-)
