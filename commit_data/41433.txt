commit 6b85fa80519615ae5fd58154277b47d77e5cf08b
Author: Jason A. Donenfeld <Jason@zx2c4.com>
Date:   Wed Oct 2 10:05:46 2019 +0200

    runtime: iterate ms via allm linked list to avoid race
    
    It's pointless to reach all ms via allgs, and doing so introduces a
    race, since the m member of a g can change underneath it. Instead
    iterate directly through the allm linked list.
    
    Updates: #31528
    Updates: #34130
    
    Change-Id: I34b88402b44339b0a5b4cd76eafd0ce6e43e2be1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/198417
    Run-TryBot: Jason A. Donenfeld <Jason@zx2c4.com>
    Reviewed-by: Alex Brainman <alex.brainman@gmail.com>
    Reviewed-by: Austin Clements <austin@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/runtime/os_windows.go | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)
