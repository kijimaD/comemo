commit a424f6e45e29960c933a7ccc1cd8fc9bb2766f15
Author: Lynn Boger <laboger@linux.vnet.ibm.com>
Date:   Wed Sep 23 11:06:39 2020 -0400

    cmd/asm,cmd/compile,cmd/internal/obj/ppc64: add extswsli support on power9
    
    This adds support for the extswsli instruction which combines
    extsw followed by a shift.
    
    New benchmark demonstrates the improvement:
    name      old time/op  new time/op  delta
    ExtShift  1.34µs ± 0%  1.30µs ± 0%  -3.15%  (p=0.057 n=4+3)
    
    Change-Id: I21b410676fdf15d20e0cbbaa75d7c6dcd3bbb7b0
    Reviewed-on: https://go-review.googlesource.com/c/go/+/257017
    Run-TryBot: Lynn Boger <laboger@linux.vnet.ibm.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Carlos Eduardo Seo <carlos.seo@gmail.com>
    Trust: Lynn Boger <laboger@linux.vnet.ibm.com>

 src/cmd/asm/internal/asm/testdata/ppc64enc.s |   1 +
 src/cmd/compile/internal/gc/bench_test.go    |  12 ++++
 src/cmd/compile/internal/ppc64/ssa.go        |   2 +-
 src/cmd/compile/internal/ssa/gen/PPC64.rules |   2 +
 src/cmd/compile/internal/ssa/gen/PPC64Ops.go |   1 +
 src/cmd/compile/internal/ssa/opGen.go        |  15 ++++
 src/cmd/compile/internal/ssa/rewritePPC64.go |  36 ++++++++++
 src/cmd/internal/obj/ppc64/a.out.go          |   2 +
 src/cmd/internal/obj/ppc64/anames.go         |   2 +
 src/cmd/internal/obj/ppc64/asm9.go           | 104 +++++++++++++++++----------
 test/codegen/shift.go                        |   7 +-
 11 files changed, 142 insertions(+), 42 deletions(-)
