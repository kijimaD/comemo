commit fd1f10966d5a3b87d051d92cd854dff8484e19c5
Author: Russ Cox <rsc@golang.org>
Date:   Thu Dec 15 13:35:59 2011 -0500

    more tags for go/build
    
    R=golang-dev, bradfitz
    CC=golang-dev
    https://golang.org/cl/5490047
---
 src/cmd/godoc/appinit.go                    | 2 ++
 src/pkg/exp/terminal/terminal.go            | 2 ++
 src/pkg/exp/terminal/terminal_test.go       | 2 ++
 src/pkg/exp/terminal/util.go                | 2 ++
 src/pkg/exp/winfsnotify/winfsnotify.go      | 2 ++
 src/pkg/exp/winfsnotify/winfsnotify_test.go | 2 ++
 src/pkg/exp/wingui/Makefile                 | 3 ++-
 src/pkg/exp/wingui/gui.go                   | 2 ++
 src/pkg/exp/wingui/winapi.go                | 2 ++
 src/pkg/exp/wingui/zwinapi.go               | 1 +
 10 files changed, 19 insertions(+), 1 deletion(-)

diff --git a/src/cmd/godoc/appinit.go b/src/cmd/godoc/appinit.go
index 2b3f41e160..3113498c84 100644
--- a/src/cmd/godoc/appinit.go
+++ b/src/cmd/godoc/appinit.go
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
+// +build ignore
+
 package main
 
 // This file replaces main.go when running godoc under app-engine.
diff --git a/src/pkg/exp/terminal/terminal.go b/src/pkg/exp/terminal/terminal.go
index 18d76cd6b9..99def1b1dc 100644
--- a/src/pkg/exp/terminal/terminal.go
+++ b/src/pkg/exp/terminal/terminal.go
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
+// +build linux
+
 package terminal
 
 import "io"
diff --git a/src/pkg/exp/terminal/terminal_test.go b/src/pkg/exp/terminal/terminal_test.go
index a2197210e2..75628f695e 100644
--- a/src/pkg/exp/terminal/terminal_test.go
+++ b/src/pkg/exp/terminal/terminal_test.go
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
+// +build linux
+
 package terminal
 
 import (
diff --git a/src/pkg/exp/terminal/util.go b/src/pkg/exp/terminal/util.go
index 5b5327f102..c11f08ee66 100644
--- a/src/pkg/exp/terminal/util.go
+++ b/src/pkg/exp/terminal/util.go
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
+// +build linux
+
 // Package terminal provides support functions for dealing with terminals, as
 // commonly found on UNIX systems.
 //
diff --git a/src/pkg/exp/winfsnotify/winfsnotify.go b/src/pkg/exp/winfsnotify/winfsnotify.go
index d47ffd1392..a6e3a6a8fb 100644
--- a/src/pkg/exp/winfsnotify/winfsnotify.go
+++ b/src/pkg/exp/winfsnotify/winfsnotify.go
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
+// +build windows
+
 // Package winfsnotify allows the user to receive
 // file system event notifications on Windows.
 package winfsnotify
diff --git a/src/pkg/exp/winfsnotify/winfsnotify_test.go b/src/pkg/exp/winfsnotify/winfsnotify_test.go
index b9c43d9c00..59ac1624a2 100644
--- a/src/pkg/exp/winfsnotify/winfsnotify_test.go
+++ b/src/pkg/exp/winfsnotify/winfsnotify_test.go
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
+// +build windows
+
 package winfsnotify
 
 import (
diff --git a/src/pkg/exp/wingui/Makefile b/src/pkg/exp/wingui/Makefile
index 18fd30f3a6..bf69c98a51 100644
--- a/src/pkg/exp/wingui/Makefile
+++ b/src/pkg/exp/wingui/Makefile
@@ -18,6 +18,7 @@ GOFILES=\
 include ../../../Make.cmd
 
 zwinapi.go: winapi.go
-	$(GOROOT)/src/pkg/syscall/mksyscall_windows.pl $< \
+	(echo '// +build windows'; \
+	$(GOROOT)/src/pkg/syscall/mksyscall_windows.pl $<) \
 		| gofmt \
 		> $@
diff --git a/src/pkg/exp/wingui/gui.go b/src/pkg/exp/wingui/gui.go
index d58421bcfa..3b79873fa2 100644
--- a/src/pkg/exp/wingui/gui.go
+++ b/src/pkg/exp/wingui/gui.go
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
+// +build windows
+
 package main
 
 import (
diff --git a/src/pkg/exp/wingui/winapi.go b/src/pkg/exp/wingui/winapi.go
index 24f3dd4d72..f876088e91 100644
--- a/src/pkg/exp/wingui/winapi.go
+++ b/src/pkg/exp/wingui/winapi.go
@@ -2,6 +2,8 @@
 // Use of this source code is governed by a BSD-style
 // license that can be found in the LICENSE file.
 
+// +build windows
+
 package main
 
 import (
diff --git a/src/pkg/exp/wingui/zwinapi.go b/src/pkg/exp/wingui/zwinapi.go
index b062ca3372..5666c6de53 100644
--- a/src/pkg/exp/wingui/zwinapi.go
+++ b/src/pkg/exp/wingui/zwinapi.go
@@ -1,3 +1,4 @@
+// +build windows
 // mksyscall_windows.pl winapi.go
 // MACHINE GENERATED BY THE COMMAND ABOVE; DO NOT EDIT
 
