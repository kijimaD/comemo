commit a89fd32316954dea9fa87e45b266eb2e648f7f8e
Author: Cherry Zhang <cherryyz@google.com>
Date:   Tue Jun 23 17:29:17 2020 -0400

    [dev.link] cmd/link: fix data race on AIX
    
    On AIX, in relocsym we call Xcoffadddynrel, which adds a
    relocation record to a global array. relocsym already runs in
    parallel. In the past we only parallelize over segments, and
    we call Xcoffadddynrel only for symbols in data segment, so it is
    effectively called sequentially. In CL 239197 we started to do
    more fine-grained parallelism, so we need to make sure it is safe
    to call Xcoffadddynrel in parallel.
    
    Fix AIX build.
    
    Change-Id: I3128193995a5a99d9fa04c8e728e590f17298da3
    Reviewed-on: https://go-review.googlesource.com/c/go/+/239561
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/link/internal/ld/xcoff.go | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)
