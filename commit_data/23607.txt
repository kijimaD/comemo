commit 202807789946a8f3f415bf00007ee100cf3ec710
Author: Russ Cox <rsc@golang.org>
Date:   Wed Jul 1 14:12:31 2015 -0400

    runtime: randomize scheduling in -race mode
    
    Basic randomization of goroutine scheduling for -race mode.
    It is probably possible to do much better (there's a paper linked
    in the issue that I haven't read, for example), but this suffices
    to introduce at least some unpredictability into the scheduling order.
    The goal here is to have _something_ for Go 1.5, so that we don't
    start hitting more of these scheduling order-dependent bugs
    if we change the scheduler order again in Go 1.6.
    
    For #11372.
    
    Change-Id: Idf1154123fbd5b7a1ee4d339e93f97635cc2bacb
    Reviewed-on: https://go-review.googlesource.com/11795
    Reviewed-by: Austin Clements <austin@google.com>

 src/runtime/proc1.go           | 22 +++++++++++++++++++
 src/runtime/race/sched_test.go | 48 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 70 insertions(+)
