commit 3848488f0f9ea597e9fc69cfd8e942ea7cf35311
Author: Colin Arnott <colin@urandom.co.uk>
Date:   Sun Jul 18 08:12:23 2021 +0000

    cmd/go/internal/test: add an all sentinel to -vet
    
    The vet flag either accepts a list of vets to run, or a distinguished
    value, off, to disable vet during test. By default only 100% reliable
    checks are run, thus there is no way to run all vets. This change adds
    another distinguished value, all, that runs every vet, by passing no
    flags.
    
    During development it was discovered that parsing of the -vet flag value
    is problematic, in that it accepts deprecated flags like -all. The root
    cause is detailed in #47309, but for now passing distinguished values
    (all, off) and anything else returns an error.
    
    Fixes #45963
    
    Change-Id: I39fafb7d717dad51b507d560b3f6e604510a2881
    Reviewed-on: https://go-review.googlesource.com/c/go/+/334873
    Trust: Than McIntosh <thanm@google.com>
    Trust: Jay Conrod <jayconrod@google.com>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go/alldocs.go                   |  3 +-
 src/cmd/go/internal/test/test.go        |  3 +-
 src/cmd/go/internal/test/testflag.go    | 60 ++++++++++++++++++++-------------
 src/cmd/go/testdata/script/test_vet.txt | 23 ++++++++++++-
 4 files changed, 63 insertions(+), 26 deletions(-)
