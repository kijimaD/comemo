commit eae5fc88c13d6902a7fe9c595fb02155eb037cbe
Author: Martin Möhrmann <moehrmann@google.com>
Date:   Sat Aug 25 16:53:23 2018 +0200

    internal/bytealg: replace use of runtime.support_sse2 with cpu.X86.HasSSE2
    
    This makes the runtime.support_sse2 variable unused
    so it is removed in this CL too.
    
    Change-Id: Ia8b9ffee7ac97128179f74ef244b10315e44c234
    Reviewed-on: https://go-review.googlesource.com/131455
    Run-TryBot: Martin Möhrmann <moehrmann@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
---
 src/internal/bytealg/compare_386.s | 2 +-
 src/runtime/proc.go                | 1 -
 src/runtime/runtime2.go            | 1 -
 3 files changed, 1 insertion(+), 3 deletions(-)

diff --git a/src/internal/bytealg/compare_386.s b/src/internal/bytealg/compare_386.s
index 89296e1690..f73e3f8b35 100644
--- a/src/internal/bytealg/compare_386.s
+++ b/src/internal/bytealg/compare_386.s
@@ -45,7 +45,7 @@ TEXT cmpbody<>(SB),NOSPLIT,$0-0
 	JEQ	allsame
 	CMPL	BP, $4
 	JB	small
-	CMPB	runtime·support_sse2(SB), $1
+	CMPB	internal∕cpu·X86+const_offsetX86HasSSE2(SB), $1
 	JNE	mediumloop
 largeloop:
 	CMPL	BP, $16
diff --git a/src/runtime/proc.go b/src/runtime/proc.go
index 75d309a9f6..73b4a1d9d6 100644
--- a/src/runtime/proc.go
+++ b/src/runtime/proc.go
@@ -510,7 +510,6 @@ func cpuinit() {
 	// Support cpu feature variables are used in code generated by the compiler
 	// to guard execution of instructions that can not be assumed to be always supported.
 	support_popcnt = cpu.X86.HasPOPCNT
-	support_sse2 = cpu.X86.HasSSE2
 	support_sse41 = cpu.X86.HasSSE41
 
 	arm64_support_atomics = cpu.ARM64.HasATOMICS
diff --git a/src/runtime/runtime2.go b/src/runtime/runtime2.go
index e4c6b3b52a..259bb376ae 100644
--- a/src/runtime/runtime2.go
+++ b/src/runtime/runtime2.go
@@ -847,7 +847,6 @@ var (
 	// Set in runtime.cpuinit.
 	// TODO: deprecate these; use internal/cpu directly.
 	support_popcnt        bool
-	support_sse2          bool
 	support_sse41         bool
 	arm64_support_atomics bool
 
