commit 06fcc32d1460dce6436e675a978eb269d4a5db26
Author: Michael Munday <munday@ca.ibm.com>
Date:   Wed Nov 23 14:54:12 2016 -0500

    runtime/cgo: save correct floating point registers on s390x
    
    When transitioning from C code to Go code we must respect the C
    calling convention. On s390x this means that r6-r13, r15 and f8-f15
    must be saved and restored by functions that use them.
    
    On s390x we were saving the wrong set of floating point registers
    (f0, f2, f4 and f6) rather than f8-f15 which means that Go code
    could clobber registers that C code expects to be restored. This
    CL modifies the crosscall functions on s390x to save/restore the
    correct floating point registers.
    
    Fixes #18035.
    
    Change-Id: I5cc6f552c893a4e677669c8891521bf735492e97
    Reviewed-on: https://go-review.googlesource.com/33571
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/runtime/asm_s390x.s     | 14 +++--------
 src/runtime/cgo/asm_s390x.s | 46 +++++++++++++++++++++--------------
 src/runtime/cgo/gcc_s390x.S | 58 ++++++++++++++++++++++++++-------------------
 3 files changed, 65 insertions(+), 53 deletions(-)
