commit b41185c5c3da2d5f52b3b5aa7eb034addd458938
Author: Dan Scales <danscales@google.com>
Date:   Thu Jan 13 13:20:19 2022 -0800

    cmd/compile: add call to ImportedBody() when exporting shape inst body
    
    When we export a shape instantiation, because a particular
    fully-instantiated type is needed by an inlineable function, we possibly
    export the body of the instantiation, if it is inlineable. In this case,
    we should have been calling ImportedBody() to make sure that the
    function body had already been read in (if it is actually imported from
    another package).
    
    Fixes #50598
    
    Change-Id: I512d2bcc745faa6ff3a97e25bc8f46e2c2643d23
    Reviewed-on: https://go-review.googlesource.com/c/go/+/378494
    Trust: Dan Scales <danscales@google.com>
    Run-TryBot: Dan Scales <danscales@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/typecheck/crawler.go |  1 +
 test/typeparam/issue50598.dir/a0.go           | 23 +++++++++++++++++++++++
 test/typeparam/issue50598.dir/a1.go           | 11 +++++++++++
 test/typeparam/issue50598.dir/a2.go           | 11 +++++++++++
 test/typeparam/issue50598.dir/main.go         | 22 ++++++++++++++++++++++
 test/typeparam/issue50598.go                  |  7 +++++++
 6 files changed, 75 insertions(+)
