commit 84aac622a40d4707513b02cf056977d852b38e18
Author: Keith Randall <khr@golang.org>
Date:   Thu Aug 25 16:02:57 2016 -0700

    cmd/compile: intrinsify the rest of runtime/internal/atomic for amd64
    
    Atomic swap, add/and/or, compare and swap.
    
    Also works on amd64p32.
    
    Change-Id: Idf2d8f3e1255f71deba759e6e75e293afe4ab2ba
    Reviewed-on: https://go-review.googlesource.com/27813
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/compile/internal/amd64/prog.go         |   5 +
 src/cmd/compile/internal/amd64/ssa.go          |  45 +++-
 src/cmd/compile/internal/gc/ssa.go             |  43 +++
 src/cmd/compile/internal/ssa/func.go           |  12 +
 src/cmd/compile/internal/ssa/gen/AMD64.rules   |  32 +++
 src/cmd/compile/internal/ssa/gen/AMD64Ops.go   |  41 ++-
 src/cmd/compile/internal/ssa/gen/genericOps.go |  20 +-
 src/cmd/compile/internal/ssa/opGen.go          | 146 +++++++++++
 src/cmd/compile/internal/ssa/rewriteAMD64.go   | 348 +++++++++++++++++++++++++
 9 files changed, 681 insertions(+), 11 deletions(-)
