commit 03614562ca5a16102be948c1b6808f5bc423de66
Author: Alberto Donizetti <alb.donizetti@gmail.com>
Date:   Thu Oct 5 16:05:03 2017 +0200

    cmd/compile: remove x86 arch-specific rules for +2‚Åø multiplication
    
    amd64 and 386 have rules to reduce multiplication by a positive power
    of two, but a more general reduction (both for positive and negative
    powers of two) is already performed by generic rules that were added
    in CL 36323 to replace walkmul (see lines 166:173 in generic.rules).
    
    The x86 and amd64 rules are never triggered during all.bash and can be
    removed, reducing rules duplication.
    
    The change also adds a few code generation tests for amd64 and 386.
    
    Change-Id: I566d48186643bd722a4c0137fe94e513b8b20e36
    Reviewed-on: https://go-review.googlesource.com/68450
    Run-TryBot: Alberto Donizetti <alb.donizetti@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/gc/asm_test.go      | 38 +++++++++++++++++++++++++---
 src/cmd/compile/internal/ssa/gen/386.rules   |  1 -
 src/cmd/compile/internal/ssa/gen/AMD64.rules |  1 -
 src/cmd/compile/internal/ssa/rewrite386.go   | 24 ++++--------------
 src/cmd/compile/internal/ssa/rewriteAMD64.go | 24 ++++--------------
 5 files changed, 45 insertions(+), 43 deletions(-)
