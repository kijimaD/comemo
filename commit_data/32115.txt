commit 0bae9b083bdbf4d15d65fe175eaa98e4a83d22ea
Author: Cherry Zhang <cherryyz@google.com>
Date:   Thu Apr 6 10:01:36 2017 -0400

    cmd/internal/obj/arm64: fix encoding of AND MBCON
    
    When a constant is both MOVCON (can fit into a MOV instruction)
    and BITCON (can fit into a logical instruction), the assembler
    chooses to use the MOVCON encoding, which is actually longer for
    logical instructions. We add MBCON rules explicitly to make sure
    it uses the BITCON encoding.
    
    Updates #19857.
    
    Change-Id: Ib9881be363cbc491ac2a0792b36b87e74eff34a8
    Reviewed-on: https://go-review.googlesource.com/39652
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/asm/internal/asm/testdata/arm64.s | 9 +++++++++
 src/cmd/internal/obj/arm64/a.out.go       | 9 ++++++---
 src/cmd/internal/obj/arm64/asm7.go        | 4 ++++
 3 files changed, 19 insertions(+), 3 deletions(-)
