commit 4f1b0a44cb46f3df28f5ef82e5769ebeac1bc493
Author: Russ Cox <rsc@golang.org>
Date:   Thu Oct 29 14:17:47 2020 -0400

    all: update to use os.ReadFile, os.WriteFile, os.CreateTemp, os.MkdirTemp
    
    As part of #42026, these helpers from io/ioutil were moved to os.
    (ioutil.TempFile and TempDir became os.CreateTemp and MkdirTemp.)
    
    Update the Go tree to use the preferred names.
    
    As usual, code compiled with the Go 1.4 bootstrap toolchain
    and code vendored from other sources is excluded.
    
    ReadDir changes are in a separate CL, because they are not a
    simple search and replace.
    
    For #42026.
    
    Change-Id: If318df0216d57e95ea0c4093b89f65e5b0ababb3
    Reviewed-on: https://go-review.googlesource.com/c/go/+/266365
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/archive/tar/reader_test.go                     |  3 +-
 src/archive/tar/tar_test.go                        |  3 +-
 src/archive/tar/writer_test.go                     |  3 +-
 src/archive/zip/reader_test.go                     | 11 +++---
 src/archive/zip/writer_test.go                     |  4 +--
 src/cmd/addr2line/addr2line_test.go                |  7 ++--
 src/cmd/api/goapi.go                               |  3 +-
 src/cmd/api/goapi_test.go                          |  3 +-
 src/cmd/cover/cover.go                             |  3 +-
 src/cmd/cover/cover_test.go                        | 31 ++++++++--------
 src/cmd/cover/html.go                              |  5 ++-
 src/cmd/fix/main.go                                |  3 +-
 src/cmd/fix/typecheck.go                           |  7 ++--
 src/cmd/go/go_test.go                              | 19 +++++-----
 src/cmd/go/go_windows_test.go                      |  5 ++-
 src/cmd/go/help_test.go                            |  4 +--
 src/cmd/go/internal/auth/netrc.go                  |  3 +-
 src/cmd/go/internal/bug/bug.go                     |  5 ++-
 src/cmd/go/internal/cache/cache.go                 |  5 ++-
 src/cmd/go/internal/cache/cache_test.go            | 13 ++++---
 src/cmd/go/internal/cache/default.go               |  3 +-
 src/cmd/go/internal/cache/hash_test.go             |  3 +-
 src/cmd/go/internal/cfg/cfg.go                     |  3 +-
 src/cmd/go/internal/envcmd/env.go                  |  7 ++--
 src/cmd/go/internal/fsys/fsys.go                   |  2 +-
 src/cmd/go/internal/fsys/fsys_test.go              |  3 +-
 src/cmd/go/internal/generate/generate.go           |  3 +-
 src/cmd/go/internal/imports/scan_test.go           |  5 +--
 src/cmd/go/internal/load/pkg.go                    |  4 +--
 .../lockedfile/internal/filelock/filelock_test.go  |  5 ++-
 src/cmd/go/internal/lockedfile/lockedfile_test.go  |  9 +++--
 src/cmd/go/internal/modcmd/vendor.go               |  2 +-
 src/cmd/go/internal/modcmd/verify.go               |  3 +-
 src/cmd/go/internal/modconv/convert_test.go        |  5 ++-
 src/cmd/go/internal/modconv/modconv_test.go        |  6 ++--
 src/cmd/go/internal/modfetch/cache_test.go         |  3 +-
 src/cmd/go/internal/modfetch/codehost/codehost.go  |  5 ++-
 src/cmd/go/internal/modfetch/codehost/git_test.go  |  3 +-
 src/cmd/go/internal/modfetch/codehost/shell.go     |  3 +-
 src/cmd/go/internal/modfetch/codehost/vcs.go       |  3 +-
 src/cmd/go/internal/modfetch/coderepo.go           |  3 +-
 src/cmd/go/internal/modfetch/coderepo_test.go      | 13 ++++---
 src/cmd/go/internal/modfetch/fetch.go              |  5 ++-
 .../internal/modfetch/zip_sum_test/zip_sum_test.go |  3 +-
 src/cmd/go/internal/modload/init.go                |  8 ++---
 src/cmd/go/internal/modload/query_test.go          |  3 +-
 src/cmd/go/internal/modload/vendor.go              |  4 +--
 src/cmd/go/internal/renameio/renameio.go           |  4 +--
 src/cmd/go/internal/renameio/renameio_test.go      |  3 +-
 src/cmd/go/internal/renameio/umask_test.go         |  3 +-
 src/cmd/go/internal/robustio/robustio.go           |  2 +-
 src/cmd/go/internal/robustio/robustio_flaky.go     |  5 ++-
 src/cmd/go/internal/robustio/robustio_other.go     |  3 +-
 src/cmd/go/internal/test/test.go                   |  4 +--
 src/cmd/go/internal/txtar/archive.go               |  4 +--
 src/cmd/go/internal/vcs/vcs_test.go                |  3 +-
 src/cmd/go/internal/web/file_test.go               |  3 +-
 src/cmd/go/internal/work/action.go                 |  3 +-
 src/cmd/go/internal/work/build_test.go             |  9 +++--
 src/cmd/go/internal/work/buildid.go                |  3 +-
 src/cmd/go/internal/work/exec.go                   | 17 +++++----
 src/cmd/go/internal/work/gc.go                     |  7 ++--
 src/cmd/go/internal/work/gccgo.go                  |  3 +-
 src/cmd/go/script_test.go                          | 23 ++++++------
 src/cmd/go/testdata/addmod.go                      | 13 ++++---
 src/cmd/go/testdata/savedir.go                     |  3 +-
 src/cmd/go/testdata/script/build_issue6480.txt     |  5 ++-
 src/cmd/go/testdata/script/build_trimpath.txt      |  3 +-
 src/cmd/go/testdata/script/cover_error.txt         |  5 ++-
 src/cmd/go/testdata/script/gopath_moved_repo.txt   |  5 ++-
 .../script/mod_download_concurrent_read.txt        |  3 +-
 src/cmd/go/testdata/script/mod_modinfo.txt         |  3 +-
 src/cmd/go/testdata/script/mod_test_cached.txt     |  7 ++--
 .../go/testdata/script/test_compile_tempfile.txt   |  2 +-
 src/cmd/go/testdata/script/test_generated_main.txt |  3 +-
 .../go/testdata/script/test_race_install_cgo.txt   |  8 ++---
 src/cmd/gofmt/gofmt.go                             |  5 ++-
 src/cmd/gofmt/gofmt_test.go                        | 13 ++++---
 src/cmd/nm/nm_test.go                              |  9 +++--
 src/cmd/objdump/objdump_test.go                    |  5 ++-
 src/cmd/pack/pack_test.go                          | 13 ++++---
 src/cmd/trace/annotations_test.go                  |  4 +--
 src/cmd/trace/pprof.go                             |  3 +-
 src/cmd/vet/vet_test.go                            |  5 ++-
 src/compress/bzip2/bzip2_test.go                   |  4 +--
 src/compress/flate/deflate_test.go                 |  6 ++--
 src/compress/flate/huffman_bit_writer_test.go      | 29 ++++++++-------
 src/compress/flate/reader_test.go                  |  4 +--
 src/compress/lzw/reader_test.go                    |  4 +--
 src/compress/lzw/writer_test.go                    |  3 +-
 src/compress/zlib/writer_test.go                   |  3 +-
 src/crypto/md5/gen.go                              |  4 +--
 src/crypto/tls/handshake_test.go                   |  3 +-
 src/crypto/tls/link_test.go                        |  3 +-
 src/crypto/tls/tls.go                              |  6 ++--
 src/crypto/x509/name_constraints_test.go           |  3 +-
 src/crypto/x509/root_ios_gen.go                    |  4 +--
 src/crypto/x509/root_plan9.go                      |  3 +-
 src/crypto/x509/root_unix.go                       |  4 +--
 src/crypto/x509/root_unix_test.go                  |  5 ++-
 src/debug/dwarf/dwarf5ranges_test.go               |  4 +--
 src/debug/gosym/pclntab_test.go                    |  5 ++-
 src/debug/pe/file_test.go                          | 13 ++++---
 src/embed/internal/embedtest/embedx_test.go        |  4 +--
 src/go/build/build_test.go                         | 11 +++---
 src/go/doc/doc_test.go                             |  6 ++--
 src/go/format/benchmark_test.go                    |  4 +--
 src/go/format/format_test.go                       |  6 ++--
 src/go/importer/importer_test.go                   |  3 +-
 src/go/internal/gccgoimporter/importer_test.go     |  5 ++-
 src/go/internal/gcimporter/gcimporter_test.go      |  6 ++--
 src/go/internal/srcimporter/srcimporter.go         |  3 +-
 src/go/parser/interface.go                         |  3 +-
 src/go/parser/performance_test.go                  |  4 +--
 src/go/printer/performance_test.go                 |  4 +--
 src/go/printer/printer_test.go                     | 12 +++----
 src/go/scanner/scanner_test.go                     |  3 +-
 src/go/types/check_test.go                         |  3 +-
 src/go/types/hilbert_test.go                       |  4 +--
 src/hash/crc32/gen_const_ppc64le.go                |  4 +--
 src/html/template/examplefiles_test.go             |  3 +-
 src/html/template/template.go                      |  4 +--
 src/image/color/palette/gen.go                     |  4 +--
 src/image/gif/reader_test.go                       |  4 +--
 src/image/internal/imageutil/gen.go                |  3 +-
 src/image/jpeg/reader_test.go                      |  7 ++--
 src/image/png/reader_test.go                       |  3 +-
 src/index/suffixarray/gen.go                       |  6 ++--
 src/index/suffixarray/suffixarray_test.go          |  6 ++--
 src/internal/cpu/cpu_s390x_test.go                 |  4 +--
 src/internal/obscuretestdata/obscuretestdata.go    |  3 +-
 src/internal/poll/read_test.go                     |  3 +-
 src/internal/testenv/testenv_windows.go            |  3 +-
 src/internal/trace/gc_test.go                      |  6 ++--
 src/internal/trace/parser_test.go                  |  2 +-
 src/log/syslog/syslog_test.go                      |  5 ++-
 src/math/big/link_test.go                          |  4 +--
 src/math/bits/make_examples.go                     |  4 +--
 src/math/bits/make_tables.go                       |  4 +--
 src/mime/multipart/formdata.go                     |  3 +-
 src/net/dnsclient_unix_test.go                     |  3 +-
 src/net/error_test.go                              |  3 +-
 src/net/http/filetransport_test.go                 |  5 ++-
 src/net/http/fs_test.go                            |  8 ++---
 src/net/http/request_test.go                       |  3 +-
 src/net/http/transfer_test.go                      |  3 +-
 src/net/http/transport_test.go                     |  3 +-
 src/net/mockserver_test.go                         |  5 ++-
 src/net/net_windows_test.go                        |  7 ++--
 src/net/unixsock_test.go                           |  3 +-
 src/os/error_test.go                               |  9 +++--
 src/os/exec/exec_test.go                           |  2 +-
 src/os/exec/lp_unix_test.go                        |  3 +-
 src/os/exec/lp_windows_test.go                     |  7 ++--
 src/os/fifo_test.go                                |  3 +-
 src/os/os_test.go                                  | 42 +++++++++++-----------
 src/os/os_unix_test.go                             |  4 +--
 src/os/os_windows_test.go                          | 29 ++++++++-------
 src/os/path_test.go                                |  4 +--
 src/os/path_windows_test.go                        |  3 +-
 src/os/pipe_test.go                                |  3 +-
 src/os/readfrom_linux_test.go                      |  4 +--
 src/os/removeall_test.go                           | 20 +++++------
 src/os/signal/signal_test.go                       |  3 +-
 src/os/signal/signal_windows_test.go               |  3 +-
 src/os/stat_test.go                                |  9 +++--
 src/os/timeout_test.go                             |  3 +-
 src/os/user/lookup_plan9.go                        |  3 +-
 src/path/filepath/example_unix_walk_test.go        |  3 +-
 src/path/filepath/match_test.go                    |  7 ++--
 src/path/filepath/path_test.go                     | 33 +++++++++--------
 src/path/filepath/path_windows_test.go             | 19 +++++-----
 src/runtime/crash_test.go                          |  3 +-
 src/runtime/crash_unix_test.go                     |  5 ++-
 src/runtime/debug/heapdump_test.go                 |  5 ++-
 src/runtime/debug_test.go                          |  4 +--
 src/runtime/env_plan9.go                           |  4 +--
 src/runtime/internal/sys/gengoos.go                |  8 ++---
 src/runtime/memmove_linux_amd64_test.go            |  3 +-
 src/runtime/mkduff.go                              |  4 +--
 src/runtime/mkfastlog2table.go                     |  4 +--
 src/runtime/mksizeclasses.go                       |  3 +-
 src/runtime/pprof/pprof_test.go                    |  5 ++-
 src/runtime/pprof/proto.go                         |  4 +--
 src/runtime/pprof/proto_test.go                    |  3 +-
 src/runtime/race/output_test.go                    |  5 ++-
 src/runtime/race/testdata/io_test.go               |  3 +-
 src/runtime/runtime-gdb_test.go                    | 25 +++++++------
 src/runtime/runtime-lldb_test.go                   |  9 +++--
 src/runtime/signal_windows_test.go                 |  5 ++-
 src/runtime/syscall_windows_test.go                | 25 +++++++------
 src/runtime/testdata/testprog/memprof.go           |  3 +-
 src/runtime/testdata/testprog/syscalls_linux.go    |  3 +-
 src/runtime/testdata/testprog/timeprof.go          |  3 +-
 src/runtime/testdata/testprog/vdso.go              |  3 +-
 src/runtime/testdata/testprogcgo/pprof.go          |  3 +-
 src/runtime/testdata/testprogcgo/threadpprof.go    |  3 +-
 src/runtime/trace/trace_test.go                    |  3 +-
 src/runtime/wincallback.go                         |  7 ++--
 src/sort/genzfunc.go                               |  4 +--
 src/strconv/makeisprint.go                         |  4 +--
 src/syscall/dirent_test.go                         |  9 +++--
 src/syscall/exec_linux_test.go                     | 15 ++++----
 src/syscall/getdirentries_test.go                  |  5 ++-
 src/syscall/mkasm_darwin.go                        |  9 +++--
 src/syscall/syscall_linux_test.go                  | 11 +++---
 src/syscall/syscall_unix_test.go                   |  7 ++--
 src/syscall/syscall_windows_test.go                |  3 +-
 src/testing/testing.go                             |  5 ++-
 src/text/template/examplefiles_test.go             |  3 +-
 src/text/template/helper.go                        |  4 +--
 src/text/template/link_test.go                     |  7 ++--
 src/time/genzabbrs.go                              |  4 +--
 src/time/tzdata/generate_zipdata.go                |  3 +-
 src/time/zoneinfo_read.go                          |  2 +-
 215 files changed, 556 insertions(+), 704 deletions(-)
