commit 3ee87d02b063e368259486d83e4ea391538f84c2
Author: Robert Griesemer <gri@golang.org>
Date:   Tue Feb 19 11:19:58 2013 -0800

    cmd/godoc: use go/build to determine package and example files
    
    Also:
    - faster code for example extraction
    - simplify handling of command documentation:
      all "main" packages are treated as commands
    - various minor cleanups along the way
    
    For commands written in Go, any doc.go file containing
    documentation must now be part of package main (rather
    then package documentation), otherwise the documentation
    won't show up in godoc (it will still build, though).
    
    For commands written in C, documentation may still be
    in doc.go files defining package documentation, but the
    recommended way is to explicitly ignore those files with
    a +build ignore constraint to define package main.
    
    Fixes #4806.
    
    R=adg, rsc, dave, bradfitz
    CC=golang-dev
    https://golang.org/cl/7333046

 lib/godoc/package.html        |   2 +-
 lib/godoc/package.txt         |   2 +-
 misc/dashboard/builder/doc.go |   2 +-
 misc/goplay/doc.go            |   2 +-
 src/cmd/5a/doc.go             |   4 +-
 src/cmd/5c/doc.go             |   4 +-
 src/cmd/5g/doc.go             |   4 +-
 src/cmd/5l/doc.go             |   4 +-
 src/cmd/6a/doc.go             |   4 +-
 src/cmd/6c/doc.go             |   4 +-
 src/cmd/6g/doc.go             |   4 +-
 src/cmd/6l/doc.go             |   4 +-
 src/cmd/8a/doc.go             |   4 +-
 src/cmd/8c/doc.go             |   4 +-
 src/cmd/8g/doc.go             |   4 +-
 src/cmd/8l/doc.go             |   4 +-
 src/cmd/cc/doc.go             |   4 +-
 src/cmd/cgo/doc.go            |   2 +-
 src/cmd/cov/doc.go            |   4 +-
 src/cmd/fix/doc.go            |   2 +-
 src/cmd/gc/doc.go             |   4 +-
 src/cmd/go/doc.go             |   2 +-
 src/cmd/go/main.go            |   2 +-
 src/cmd/godoc/dirtrees.go     |   8 +-
 src/cmd/godoc/doc.go          |   2 +-
 src/cmd/godoc/godoc.go        | 267 +++++++++++++++++-------------------------
 src/cmd/godoc/parser.go       |  51 ++------
 src/cmd/gofmt/doc.go          |   2 +-
 src/cmd/ld/doc.go             |   4 +-
 src/cmd/nm/doc.go             |   4 +-
 src/cmd/pack/doc.go           |   4 +-
 src/cmd/prof/doc.go           |   4 +-
 src/cmd/vet/doc.go            |   2 +-
 src/cmd/yacc/doc.go           |   2 +-
 src/pkg/exp/ebnflint/doc.go   |   2 +-
 src/pkg/exp/gotype/doc.go     |   2 +-
 36 files changed, 193 insertions(+), 237 deletions(-)
