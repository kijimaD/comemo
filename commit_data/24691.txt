commit b50b21d3e130cf19de99c2736d038b636dde75c3
Author: Mikio Hara <mikioh.mikioh@gmail.com>
Date:   Tue Jul 21 12:51:01 2015 +0900

    net: make Dial, Listen{,Packet} for TCP/UDP with invalid port fail
    
    This change makes Dial, Listen and ListenPacket with invalid port fail
    whatever GODEBUG=netdns is.
    
    Please be informed that cgoLookupPort with an out of range literal
    number may return either the lower or upper bound value, 0 or 65535,
    with no error on some platform.
    
    Fixes #11715.
    
    Change-Id: I43f9c4fb5526d1bf50b97698e0eb39d29fd74c35
    Reviewed-on: https://go-review.googlesource.com/12447
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/net/error_test.go | 44 ++++++++++++++++++++++++++++++++++++++------
 src/net/ipsock.go     |  2 +-
 src/net/lookup.go     | 13 ++++++++++---
 src/net/parse.go      | 14 +++++++++++++-
 src/net/parse_test.go | 22 ++++++++++++++++++++++
 src/net/port.go       | 24 ------------------------
 src/net/port_test.go  | 12 +++++++++---
 7 files changed, 93 insertions(+), 38 deletions(-)
