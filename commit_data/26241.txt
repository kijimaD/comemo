commit a4f10bddc3013809e91212c43761688481ac352e
Author: Robert Griesemer <gri@golang.org>
Date:   Tue Jan 5 17:21:09 2016 -0800

    go/importer: always handle forward-declared imports in export data
    
    The textual export data generated by gc sometimes contains forward
    references of packages. In rare cases such forward-referenced packages
    were not created when needed because no package name was present.
    
    Create unnamed packages in this case and set the name later when it
    becomes known.
    
    Fixes #13566.
    
    Change-Id: I193e0ec712e874030b194ab8ecb3fca140f7997a
    Reviewed-on: https://go-review.googlesource.com/18301
    Reviewed-by: Russ Cox <rsc@golang.org>
    Reviewed-by: Alan Donovan <adonovan@google.com>

 src/go/internal/gcimporter/gcimporter.go      | 48 +++++++++++++++------------
 src/go/internal/gcimporter/gcimporter_test.go | 36 ++++++++++++++++++++
 src/go/internal/gcimporter/testdata/a.go      | 14 ++++++++
 src/go/internal/gcimporter/testdata/b.go      | 11 ++++++
 src/go/types/package.go                       |  3 ++
 5 files changed, 90 insertions(+), 22 deletions(-)
