commit 9bdbf73c98b21c602f1304993176a6db0714f802
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Wed Jun 23 14:04:11 2021 -0700

    [dev.typeparams] cmd/compile: simplify writer.collectDecls
    
    The previous code for walking the syntax AST to find declarations
    needed to know whether a declaration appeared within block scope, but
    syntax.Crawl (n√©e syntax.Walk) made that somewhat awkward.
    
    This CL simplifies it a little, taking advantage of syntax.Walk's
    support for keeping per-subtree state.
    
    Change-Id: I03c7da8c44bec40f88e983852dc6bbab7e6ac13c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/330549
    Trust: Matthew Dempsky <mdempsky@google.com>
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Cuong Manh Le <cuong.manhle.vn@gmail.com>

 src/cmd/compile/internal/noder/writer.go | 148 ++++++++++++++++++-------------
 1 file changed, 85 insertions(+), 63 deletions(-)
