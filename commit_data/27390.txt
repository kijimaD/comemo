commit d8ee180ab2722e92c568e322fbc8690688f992e3
Author: Alexandru Moșoi <brtzsnr@gmail.com>
Date:   Thu Mar 24 08:48:41 2016 +0100

    cmd/compile: fold more of CMPQ and ANDQ
    
    g used to produce CMPQ/SBBQ/ANDQ, but f didn't even though
    s&15 is at most s&63.
    
    func f(x uint64, s uint) uint64 {
            return x >> (s & 63)
    }
    func g(x uint64, s uint) uint64 {
            return x >> (s & 15)
    }
    
    Change-Id: Iab4a1a6e10b471dead9f1203e9d894677cf07bb2
    Reviewed-on: https://go-review.googlesource.com/21048
    Run-TryBot: Alexandru Moșoi <alexandru@mosoi.ro>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/ssa/gen/AMD64.rules |  8 ++++----
 src/cmd/compile/internal/ssa/rewriteAMD64.go | 16 ++++++++--------
 2 files changed, 12 insertions(+), 12 deletions(-)
