commit 1946a77e69b0f8620ab58472c08e061bd8a5ba4b
Merge: 6923019a71 6e46c8fbb5
Author: Gerrit Code Review <noreply-gerritcodereview@google.com>
Date:   Sat Jan 23 01:19:52 2021 +0000

    Merge "[dev.typeparams] all: merge dev.regabi (7e0a81d) into dev.typeparams" into dev.typeparams

 api/go1.16.txt                                     |   15 +-
 doc/contribute.html                                |    4 +-
 doc/editors.html                                   |    4 +-
 doc/go1.16.html                                    |  117 +-
 lib/time/update.bash                               |    4 +-
 lib/time/zoneinfo.zip                              |  Bin 424205 -> 424205 bytes
 misc/cgo/test/pkg_test.go                          |    2 +-
 misc/cgo/testcarchive/carchive_test.go             |    5 -
 misc/ios/README                                    |    7 +
 src/archive/tar/strconv.go                         |    2 +-
 src/cmd/api/goapi.go                               |    2 +-
 src/cmd/api/run.go                                 |    2 +-
 src/cmd/asm/internal/asm/parse.go                  |    2 +-
 src/cmd/cgo/gcc.go                                 |    7 +
 src/cmd/cgo/out.go                                 |    6 +-
 src/cmd/cgo/util.go                                |    6 +-
 src/cmd/compile/internal/{gc => abi}/abiutils.go   |   42 +-
 src/cmd/compile/internal/arm64/ssa.go              |   20 +-
 src/cmd/compile/internal/base/base.go              |    4 -
 src/cmd/compile/internal/base/flag.go              |    2 +-
 src/cmd/compile/internal/base/link.go              |   36 +
 src/cmd/compile/internal/base/print.go             |    2 +-
 src/cmd/compile/internal/bitvec/bv.go              |    2 +-
 src/cmd/compile/internal/deadcode/deadcode.go      |    2 +-
 src/cmd/compile/internal/dwarfgen/dwarf.go         |   36 +-
 src/cmd/compile/internal/escape/escape.go          |  192 +-
 src/cmd/compile/internal/gc/compile.go             |   21 +-
 src/cmd/compile/internal/gc/main.go                |   24 +-
 src/cmd/compile/internal/gc/obj.go                 |    6 +-
 src/cmd/compile/internal/inline/inl.go             |  372 +-
 src/cmd/compile/internal/ir/const.go               |    2 +-
 src/cmd/compile/internal/ir/expr.go                |   47 +-
 src/cmd/compile/internal/ir/fmt.go                 |   52 +-
 src/cmd/compile/internal/ir/func.go                |    9 +-
 src/cmd/compile/internal/ir/mini.go                |    7 +-
 src/cmd/compile/internal/ir/name.go                |   48 +-
 src/cmd/compile/internal/ir/node.go                |   41 +-
 src/cmd/compile/internal/ir/node_gen.go            |   65 +-
 src/cmd/compile/internal/ir/op_string.go           |  143 +-
 src/cmd/compile/internal/ir/sizeof_test.go         |    2 +-
 src/cmd/compile/internal/ir/stmt.go                |   34 +-
 src/cmd/compile/internal/ir/symtab.go              |   20 +-
 src/cmd/compile/internal/liveness/bvset.go         |    2 +-
 src/cmd/compile/internal/liveness/plive.go         |   59 +-
 src/cmd/compile/internal/noder/decl.go             |    8 +-
 src/cmd/compile/internal/noder/import.go           |    2 +-
 src/cmd/compile/internal/noder/lex.go              |    3 +
 src/cmd/compile/internal/noder/noder.go            |   42 +-
 src/cmd/compile/internal/objw/prog.go              |    2 +-
 src/cmd/compile/internal/pkginit/init.go           |    4 +-
 src/cmd/compile/internal/pkginit/initorder.go      |   18 +-
 src/cmd/compile/internal/reflectdata/alg.go        |    2 +-
 src/cmd/compile/internal/reflectdata/reflect.go    |  147 +-
 src/cmd/compile/internal/ssa/deadstore.go          |   22 +-
 src/cmd/compile/internal/ssa/expand_calls.go       |   81 +-
 src/cmd/compile/internal/ssa/func.go               |    9 +-
 src/cmd/compile/internal/ssa/gen/386.rules         |    2 +-
 src/cmd/compile/internal/ssa/gen/AMD64.rules       |    2 +-
 src/cmd/compile/internal/ssa/gen/ARM.rules         |    2 +-
 src/cmd/compile/internal/ssa/gen/ARM64.rules       |    2 +-
 src/cmd/compile/internal/ssa/gen/ARM64Ops.go       |   32 +-
 src/cmd/compile/internal/ssa/gen/PPC64.rules       |    2 +-
 src/cmd/compile/internal/ssa/gen/S390X.rules       |    2 +-
 src/cmd/compile/internal/ssa/gen/generic.rules     |    4 +-
 src/cmd/compile/internal/ssa/html.go               |    2 +-
 src/cmd/compile/internal/ssa/location.go           |   26 +
 src/cmd/compile/internal/ssa/op.go                 |   10 +-
 src/cmd/compile/internal/ssa/opGen.go              |   40 +
 src/cmd/compile/internal/ssa/rewrite.go            |   43 +-
 src/cmd/compile/internal/ssa/rewrite386.go         |   12 +-
 src/cmd/compile/internal/ssa/rewriteAMD64.go       |   16 +-
 src/cmd/compile/internal/ssa/rewriteARM.go         |    4 +-
 src/cmd/compile/internal/ssa/rewriteARM64.go       |    8 +-
 src/cmd/compile/internal/ssa/rewritePPC64.go       |   16 +-
 src/cmd/compile/internal/ssa/rewriteS390X.go       |   16 +-
 src/cmd/compile/internal/ssa/rewritegeneric.go     |    8 +-
 src/cmd/compile/internal/ssagen/abi.go             |   14 +-
 src/cmd/compile/internal/ssagen/nowb.go            |    4 +-
 src/cmd/compile/internal/ssagen/pgen.go            |    2 +-
 src/cmd/compile/internal/ssagen/ssa.go             |  465 +--
 src/cmd/compile/internal/staticdata/data.go        |   70 +-
 src/cmd/compile/internal/staticdata/embed.go       |   58 +-
 src/cmd/compile/internal/staticinit/sched.go       |   60 +-
 .../compile/internal/{gc => test}/abiutils_test.go |   10 +-
 .../internal/{gc => test}/abiutilsaux_test.go      |   19 +-
 .../test/testdata/reproducible/issue38068.go       |    2 +-
 src/cmd/compile/internal/typebits/typebits.go      |   12 +-
 src/cmd/compile/internal/typecheck/const.go        |    2 +-
 src/cmd/compile/internal/typecheck/dcl.go          |   12 +-
 src/cmd/compile/internal/typecheck/expr.go         |    6 +-
 src/cmd/compile/internal/typecheck/func.go         |   44 +-
 src/cmd/compile/internal/typecheck/iexport.go      |   52 +-
 src/cmd/compile/internal/typecheck/iimport.go      |   92 +-
 src/cmd/compile/internal/typecheck/stmt.go         |    8 +-
 src/cmd/compile/internal/typecheck/subr.go         |   10 +-
 src/cmd/compile/internal/typecheck/syms.go         |   15 +-
 src/cmd/compile/internal/typecheck/typecheck.go    |   16 +-
 src/cmd/compile/internal/types/alg.go              |    4 +-
 src/cmd/compile/internal/types/fmt.go              |    2 +-
 src/cmd/compile/internal/types/size.go             |   41 +-
 src/cmd/compile/internal/types/sym.go              |   47 +-
 src/cmd/compile/internal/types/type.go             |    4 +-
 src/cmd/compile/internal/types2/stdlib_test.go     |    2 +
 src/cmd/compile/internal/walk/assign.go            |   55 +-
 src/cmd/compile/internal/walk/builtin.go           |   37 +-
 src/cmd/compile/internal/walk/closure.go           |    2 +-
 src/cmd/compile/internal/walk/compare.go           |    4 +-
 src/cmd/compile/internal/walk/complit.go           |   46 +-
 src/cmd/compile/internal/walk/convert.go           |   42 +-
 src/cmd/compile/internal/walk/expr.go              |   60 +-
 src/cmd/compile/internal/walk/order.go             |   97 +-
 src/cmd/compile/internal/walk/race.go              |    9 +-
 src/cmd/compile/internal/walk/range.go             |   24 +-
 src/cmd/compile/internal/walk/select.go            |   15 +-
 src/cmd/compile/internal/walk/stmt.go              |   23 +-
 src/cmd/compile/internal/walk/switch.go            |    7 +-
 src/cmd/compile/internal/walk/temp.go              |   40 +
 src/cmd/compile/internal/walk/walk.go              |  300 +-
 src/cmd/cover/func.go                              |    2 +-
 src/cmd/cover/testdata/toolexec.go                 |    2 +-
 src/cmd/dist/buildtool.go                          |    4 +-
 src/cmd/doc/dirs.go                                |    2 +-
 src/cmd/fix/typecheck.go                           |    2 +-
 src/cmd/go.mod                                     |    4 +-
 src/cmd/go.sum                                     |    8 +-
 src/cmd/go/alldocs.go                              |  862 +----
 src/cmd/go/go_test.go                              |    5 +-
 src/cmd/go/internal/base/base.go                   |    2 +-
 src/cmd/go/internal/bug/bug.go                     |    2 +-
 src/cmd/go/internal/fmtcmd/fmt.go                  |    3 +-
 src/cmd/go/internal/generate/generate.go           |   20 +-
 src/cmd/go/internal/get/get.go                     |    2 +-
 src/cmd/go/internal/help/helpdoc.go                |   19 +-
 src/cmd/go/internal/list/list.go                   |   12 +-
 src/cmd/go/internal/load/pkg.go                    |  134 +-
 src/cmd/go/internal/load/test.go                   |    8 +-
 src/cmd/go/internal/modcmd/download.go             |    4 +-
 src/cmd/go/internal/modcmd/edit.go                 |    4 +-
 src/cmd/go/internal/modcmd/graph.go                |    2 +
 src/cmd/go/internal/modcmd/init.go                 |    2 +
 src/cmd/go/internal/modcmd/tidy.go                 |    2 +
 src/cmd/go/internal/modcmd/vendor.go               |   78 +-
 src/cmd/go/internal/modcmd/verify.go               |    2 +
 src/cmd/go/internal/modcmd/why.go                  |    2 +
 src/cmd/go/internal/modfetch/codehost/codehost.go  |    2 +-
 src/cmd/go/internal/modfetch/codehost/git.go       |    2 +-
 src/cmd/go/internal/modfetch/fetch.go              |  108 +-
 src/cmd/go/internal/modfetch/proxy.go              |   61 +-
 src/cmd/go/internal/modget/get.go                  |  127 +-
 src/cmd/go/internal/modget/query.go                |    4 +-
 src/cmd/go/internal/modload/help.go                |  484 +--
 src/cmd/go/internal/modload/import.go              |   82 +-
 src/cmd/go/internal/modload/import_test.go         |   13 +-
 src/cmd/go/internal/modload/init.go                |   75 +-
 src/cmd/go/internal/modload/load.go                |   31 +-
 src/cmd/go/internal/modload/modfile.go             |    4 +-
 src/cmd/go/internal/modload/mvs.go                 |   16 -
 src/cmd/go/internal/modload/vendor.go              |    2 +-
 src/cmd/go/internal/test/genflags.go               |    2 +-
 src/cmd/go/internal/test/test.go                   |    2 +-
 src/cmd/go/internal/test/testflag.go               |    2 +-
 src/cmd/go/internal/tool/tool.go                   |   17 +-
 src/cmd/go/internal/vcs/vcs.go                     |    4 +-
 src/cmd/go/internal/vet/vetflag.go                 |    2 +-
 src/cmd/go/internal/work/action.go                 |    3 +
 src/cmd/go/internal/work/build.go                  |    7 +-
 src/cmd/go/internal/work/buildid.go                |    2 +-
 src/cmd/go/internal/work/exec.go                   |   44 +-
 src/cmd/go/internal/work/gccgo.go                  |    8 +-
 src/cmd/go/testdata/addmod.go                      |    2 +-
 .../go/testdata/script/build_darwin_cc_arch.txt    |   24 +
 src/cmd/go/testdata/script/cgo_path.txt            |   35 +
 src/cmd/go/testdata/script/embed.txt               |   45 +-
 src/cmd/go/testdata/script/embed_fmt.txt           |   22 +
 src/cmd/go/testdata/script/govcs.txt               |   52 +-
 src/cmd/go/testdata/script/mod_bad_domain.txt      |    2 +-
 src/cmd/go/testdata/script/mod_edit.txt            |    6 +
 src/cmd/go/testdata/script/mod_get_fallback.txt    |    2 +-
 .../testdata/script/mod_get_promote_implicit.txt   |   10 +-
 src/cmd/go/testdata/script/mod_get_replaced.txt    |    2 +-
 src/cmd/go/testdata/script/mod_get_retract.txt     |    2 +-
 src/cmd/go/testdata/script/mod_gobuild_import.txt  |    2 +-
 src/cmd/go/testdata/script/mod_init_tidy.txt       |    4 +-
 .../go/testdata/script/mod_install_pkg_version.txt |   11 +-
 src/cmd/go/testdata/script/mod_invalid_path.txt    |    2 +-
 src/cmd/go/testdata/script/mod_list_bad_import.txt |    2 +-
 src/cmd/go/testdata/script/mod_readonly.txt        |   10 +-
 .../go/testdata/script/mod_replace_readonly.txt    |    6 +-
 src/cmd/go/testdata/script/mod_sum_ambiguous.txt   |   22 +-
 src/cmd/go/testdata/script/mod_sum_readonly.txt    |   12 +-
 src/cmd/go/testdata/script/mod_vendor_auto.txt     |    6 +-
 src/cmd/go/testdata/script/mod_vendor_embed.txt    |  179 +
 src/cmd/go/testdata/script/mod_versions.txt        |    6 +-
 src/cmd/go/testdata/script/test_exit.txt           |   17 +
 src/cmd/go/testdata/script/test_flag.txt           |    6 +-
 src/cmd/internal/browser/browser.go                |    2 +-
 src/cmd/internal/diff/diff.go                      |    2 +-
 src/cmd/internal/dwarf/dwarf.go                    |    2 +-
 src/cmd/internal/goobj/mkbuiltin.go                |    4 +-
 src/cmd/internal/moddeps/moddeps_test.go           |  400 +-
 src/cmd/internal/obj/link.go                       |   38 +
 src/cmd/internal/obj/textflag.go                   |    2 +-
 src/cmd/internal/obj/x86/obj6.go                   |   10 +-
 src/cmd/internal/objfile/xcoff.go                  |    4 +-
 src/cmd/internal/pkgpath/pkgpath.go                |    2 +-
 src/cmd/link/internal/arm64/asm.go                 |    2 +-
 src/cmd/link/internal/ld/data.go                   |    4 +-
 src/cmd/link/internal/ld/execarchive.go            |    2 +-
 src/cmd/link/internal/ld/fallocate_test.go         |    8 +-
 src/cmd/link/internal/ld/lib.go                    |   14 +-
 src/cmd/link/internal/ld/main.go                   |   15 +-
 src/cmd/link/internal/ld/symtab.go                 |    2 +-
 src/cmd/link/link_test.go                          |    1 +
 src/cmd/objdump/objdump_test.go                    |    5 -
 src/cmd/test2json/main.go                          |    8 +-
 src/cmd/trace/pprof.go                             |    2 +-
 src/cmd/vendor/golang.org/x/mod/modfile/rule.go    |   30 +
 .../golang.org/x/tools/go/analysis/analysis.go     |    4 +
 .../golang.org/x/tools/go/analysis/diagnostic.go   |    4 +
 .../vendor/golang.org/x/tools/go/analysis/doc.go   |    4 +
 .../go/analysis/internal/analysisflags/help.go     |    4 +
 .../analysis/passes/internal/analysisutil/util.go  |    4 +
 .../x/tools/go/analysis/passes/printf/types.go     |    4 +
 .../go/analysis/passes/structtag/structtag.go      |   94 +-
 .../go/analysis/unitchecker/unitchecker112.go      |    4 +
 .../golang.org/x/tools/go/analysis/validate.go     |    4 +
 .../golang.org/x/tools/go/ast/astutil/util.go      |    4 +
 .../golang.org/x/tools/go/ast/inspector/typeof.go  |    4 +
 src/cmd/vendor/modules.txt                         |    4 +-
 src/crypto/elliptic/p224.go                        |   41 +-
 src/crypto/elliptic/p224_test.go                   |  277 +-
 src/crypto/rand/rand_windows.go                    |    4 +-
 src/crypto/x509/root.go                            |    6 +-
 src/crypto/x509/root_ios.go                        |  280 +-
 src/crypto/x509/x509.go                            |   84 -
 src/crypto/x509/x509_test.go                       |   56 +-
 src/embed/embed.go                                 |   10 +-
 src/embed/internal/embedtest/embed_test.go         |   33 +-
 src/encoding/asn1/asn1.go                          |    9 +
 src/go/build/build.go                              |   70 +-
 src/go/build/build_test.go                         |    3 +-
 src/go/build/constraint/expr.go                    |  574 +++
 src/go/build/constraint/expr_test.go               |  317 ++
 src/go/build/deps_test.go                          |   11 +-
 src/go/build/read.go                               |  109 +-
 src/go/build/read_test.go                          |   69 +-
 src/go/internal/gccgoimporter/gccgoinstallation.go |    2 +-
 src/go/internal/srcimporter/srcimporter.go         |    2 +-
 src/go/types/stdlib_test.go                        |    2 +
 src/html/template/exec_test.go                     |   20 +
 src/html/template/template.go                      |   46 +-
 src/internal/execabs/execabs.go                    |   70 +
 src/internal/execabs/execabs_test.go               |  104 +
 src/internal/goroot/gc.go                          |    2 +-
 src/internal/syscall/windows/syscall_windows.go    |    2 +
 src/internal/syscall/windows/zsyscall_windows.go   |   13 +
 src/io/fs/glob.go                                  |    4 +-
 src/io/fs/glob_test.go                             |    2 +-
 src/io/fs/walk.go                                  |   15 +-
 src/io/fs/walk_test.go                             |   26 -
 src/math/rand/gen_cooked.go                        |    2 +-
 src/net/http/httputil/dump.go                      |   15 +-
 src/net/http/httputil/dump_test.go                 |   80 +-
 src/net/http/serve_test.go                         |    6 +-
 src/os/os_test.go                                  |   18 +-
 src/os/os_windows_test.go                          |   11 +-
 src/os/testdata/dirfs/a                            |    0
 src/os/testdata/dirfs/b                            |    0
 src/os/testdata/dirfs/dir/x                        |    0
 src/reflect/all_test.go                            |  170 -
 src/reflect/type.go                                |   45 +-
 src/runtime/asm_amd64.s                            |    4 +
 src/runtime/defs_openbsd.go                        |   14 +
 src/runtime/defs_openbsd_amd64.go                  |   14 +
 src/runtime/defs_openbsd_arm64.go                  |    9 +
 src/runtime/histogram.go                           |   32 +-
 src/runtime/metrics.go                             |   36 +-
 src/runtime/metrics/description.go                 |   16 +-
 src/runtime/metrics/doc.go                         |    4 +-
 src/runtime/metrics/histogram.go                   |   29 +-
 src/runtime/metrics/value.go                       |    2 +-
 src/runtime/metrics_test.go                        |   40 +-
 src/runtime/mgcmark.go                             |    1 -
 src/runtime/mgcscavenge.go                         |    2 +-
 src/runtime/mmap.go                                |   11 +-
 src/runtime/os3_solaris.go                         |    5 +
 src/runtime/os_aix.go                              |    5 +
 src/runtime/os_darwin.go                           |    5 +
 src/runtime/os_dragonfly.go                        |    5 +
 src/runtime/os_freebsd.go                          |    5 +
 src/runtime/os_js.go                               |    5 +
 src/runtime/os_linux.go                            |    5 +
 src/runtime/os_netbsd.go                           |    5 +
 src/runtime/os_openbsd.go                          |   90 +-
 src/runtime/os_openbsd_libc.go                     |   58 +
 src/runtime/os_openbsd_syscall.go                  |   46 +
 src/runtime/os_openbsd_syscall1.go                 |   15 +
 src/runtime/os_openbsd_syscall2.go                 |   95 +
 src/runtime/os_plan9.go                            |    5 +
 src/runtime/os_windows.go                          |   54 +-
 src/runtime/proc.go                                |   81 +-
 src/runtime/runtime2.go                            |    3 +-
 src/runtime/signal_openbsd.go                      |    2 +-
 src/runtime/stubs2.go                              |    7 +-
 src/runtime/stubs3.go                              |    7 +-
 src/runtime/sys_darwin.go                          |   44 -
 src/runtime/sys_libc.go                            |   53 +
 src/runtime/sys_linux_mips64x.s                    |   14 +
 src/runtime/sys_openbsd.go                         |   59 +
 src/runtime/sys_openbsd1.go                        |   34 +
 src/runtime/sys_openbsd2.go                        |  250 ++
 src/runtime/sys_openbsd_amd64.s                    |  729 ++--
 src/runtime/sys_openbsd_arm64.s                    |  269 +-
 src/runtime/time.go                                |    6 +
 src/runtime/timestub2.go                           |    5 +-
 src/runtime/tls_arm64.s                            |    4 +
 src/runtime/traceback.go                           |   27 +-
 src/runtime/type.go                                |    2 +-
 src/syscall/syscall_windows.go                     |    1 -
 src/syscall/zsyscall_windows.go                    |    9 -
 src/testing/fstest/testfs.go                       |    3 +-
 src/time/sleep.go                                  |   13 +-
 src/time/tzdata/zipdata.go                         | 3878 ++++++++++----------
 test/abi/regabipragma.dir/main.go                  |   36 +
 test/abi/regabipragma.dir/tmp/foo.go               |   19 +
 test/abi/regabipragma.go                           |   10 +
 test/abi/regabipragma.out                          |    6 +
 test/closure3.dir/main.go                          |   46 +-
 test/closure5.dir/a.go                             |   11 +
 test/closure5.dir/main.go                          |   15 +
 test/closure5.go                                   |   10 +
 test/codegen/condmove.go                           |    6 +-
 test/codegen/spectre.go                            |    4 +-
 test/embedfunc.go                                  |   15 +
 test/embedvers.go                                  |   12 +
 test/escape2.go                                    |    2 +-
 test/escape2n.go                                   |    2 +-
 test/escape4.go                                    |    6 +-
 test/fixedbugs/issue13799.go                       |   12 +-
 test/fixedbugs/issue43551.dir/a.go                 |   13 +
 test/fixedbugs/issue43551.dir/b.go                 |   14 +
 test/fixedbugs/issue43551.go                       |    7 +
 test/fixedbugs/issue43570.go                       |   40 +
 test/fixedbugs/issue43619.go                       |  119 +
 test/fixedbugs/issue43677.go                       |   18 +
 test/fixedbugs/issue43701.go                       |   18 +
 test/fixedbugs/issue43762.go                       |   11 +
 test/fixedbugs/issue7921.go                        |    2 +-
 test/initexp.go                                    |   36 +
 test/inline.go                                     |   22 +-
 test/reorder.go                                    |   16 +
 test/run.go                                        |   62 +-
 352 files changed, 9499 insertions(+), 7197 deletions(-)
