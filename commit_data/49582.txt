commit 5f0d821adda38b728592b9ee919c94013eb2ab5f
Author: Robert Griesemer <gri@golang.org>
Date:   Sat Aug 28 13:00:41 2021 -0700

    cmd/compile/internal/types2: use a typeWriter to write types (cleanup)
    
    Rather then passing through a buffer, qualified, and visited
    list to each helper function, maintain state in a typeWriter
    object and use methods on it. This cleans up this code quite
    a bit.
    
    Use a map ("seen") for cycle detection rather than a list.
    
    Move printing of [ and ] for type lists into the typeList
    method so that callers don't have to do it themselves.
    
    Change-Id: I1346373e979cb90710fbc073953aa51e2f6581f9
    Reviewed-on: https://go-review.googlesource.com/c/go/+/345890
    Trust: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/types2/object.go     |   2 +-
 src/cmd/compile/internal/types2/subst.go      |   7 +-
 src/cmd/compile/internal/types2/typelists.go  |   4 +-
 src/cmd/compile/internal/types2/typestring.go | 206 +++++++++++++-------------
 src/cmd/compile/internal/types2/unify.go      |  13 +-
 5 files changed, 119 insertions(+), 113 deletions(-)
