commit b7a85e0003cedb1b48a1fd3ae5b746ec6330102e
Author: Damien Neil <dneil@google.com>
Date:   Wed Jul 7 16:34:34 2021 -0700

    net/http/httputil: close incoming ReverseProxy request body
    
    Reading from an incoming request body after the request handler aborts
    with a panic can cause a panic, becuse http.Server does not (contrary
    to its documentation) close the request body in this case.
    
    Always close the incoming request body in ReverseProxy.ServeHTTP to
    ensure that any in-flight outgoing requests using the body do not
    read from it.
    
    Updates #46866
    Fixes CVE-2021-36221
    
    Change-Id: I310df269200ad8732c5d9f1a2b00de68725831df
    Reviewed-on: https://go-review.googlesource.com/c/go/+/333191
    Trust: Damien Neil <dneil@google.com>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    Reviewed-by: Filippo Valsorda <filippo@golang.org>

 src/net/http/httputil/reverseproxy.go      |  9 +++++++
 src/net/http/httputil/reverseproxy_test.go | 39 ++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+)
