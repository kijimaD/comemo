commit d24b57a6a1a3530e590b7c0a72dc78043e198630
Author: Elias Naur <elias.naur@gmail.com>
Date:   Sun Nov 6 21:40:57 2016 +0100

    runtime: handle SIGPIPE in c-archive and c-shared programs
    
    Before this CL, Go programs in c-archive or c-shared buildmodes
    would not handle SIGPIPE. That leads to surprising behaviour where
    writes on a closed pipe or socket would raise SIGPIPE and terminate
    the program. This CL changes the Go runtime to handle
    SIGPIPE regardless of buildmode. In addition, SIGPIPE from non-Go
    code is forwarded.
    
    Fixes #17393
    Updates #16760
    
    Change-Id: I155e82020a03a5cdc627a147c27da395662c3fe8
    Reviewed-on: https://go-review.googlesource.com/32796
    Run-TryBot: Elias Naur <elias.naur@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 misc/cgo/testcarchive/carchive_test.go     | 19 ++++++++++++++++
 misc/cgo/testcarchive/main2.c              | 36 +++++++++++++++++++++++++++++-
 misc/cgo/testcarchive/main3.c              |  7 ++++++
 misc/cgo/testcarchive/main5.c              | 18 +++++++++++++++
 misc/cgo/testcarchive/src/libgo2/libgo2.go | 30 +++++++++++++++++++++++++
 misc/cgo/testcarchive/src/libgo3/libgo3.go | 12 ++++++++++
 src/os/signal/doc.go                       |  9 ++++----
 src/runtime/signal_unix.go                 | 14 ++++++++----
 8 files changed, 136 insertions(+), 9 deletions(-)
