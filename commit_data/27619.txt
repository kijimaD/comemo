commit 6d6e16001bb04d4bf60c6d14d1f64684a043ef6c
Merge: 22972d2207 5e1b7bdecf
Author: Austin Clements <austin@google.com>
Date:   Tue Apr 5 16:37:29 2016 -0400

    [dev.garbage] Merge branch 'master' into dev.garbage
    
    Change-Id: I47ac4112befc07d3674d7a88827227199edd93b4

 doc/go1.7.txt                                      |    1 +
 misc/cgo/testcarchive/carchive_test.go             |    7 +-
 misc/cgo/testcshared/test.bash                     |    2 +-
 misc/cgo/testshared/shared_test.go                 |    2 +-
 src/cmd/asm/internal/arch/arch.go                  |   58 +
 src/cmd/asm/internal/arch/s390x.go                 |  139 +
 src/cmd/asm/internal/asm/asm.go                    |   30 +
 src/cmd/asm/internal/asm/endtoend_test.go          |    4 +
 src/cmd/asm/internal/asm/operand_test.go           |  103 +
 src/cmd/asm/internal/asm/testdata/s390x.s          |  215 +
 src/cmd/compile/internal/amd64/ggen.go             |   18 +-
 src/cmd/compile/internal/amd64/gsubr.go            |   10 +-
 src/cmd/compile/internal/amd64/ssa.go              |  157 +-
 src/cmd/compile/internal/arm/cgen64.go             |    6 +-
 src/cmd/compile/internal/arm/ggen.go               |   18 +-
 src/cmd/compile/internal/arm/gsubr.go              |    4 +-
 src/cmd/compile/internal/arm/ssa.go                |    2 +-
 src/cmd/compile/internal/arm64/ggen.go             |   16 +-
 src/cmd/compile/internal/arm64/gsubr.go            |    6 +-
 src/cmd/compile/internal/gc/alg.go                 |  161 +-
 src/cmd/compile/internal/gc/align.go               |   64 +-
 src/cmd/compile/internal/gc/bexport.go             | 1141 ++-
 src/cmd/compile/internal/gc/bimport.go             |  754 +-
 src/cmd/compile/internal/gc/builtin.go             |   31 +-
 src/cmd/compile/internal/gc/builtin/runtime.go     |   36 +-
 src/cmd/compile/internal/gc/cgen.go                |  160 +-
 src/cmd/compile/internal/gc/closure.go             |   44 +-
 src/cmd/compile/internal/gc/const.go               |  119 +-
 src/cmd/compile/internal/gc/cplx.go                |    6 +-
 src/cmd/compile/internal/gc/dcl.go                 |  105 +-
 src/cmd/compile/internal/gc/esc.go                 |   64 +-
 src/cmd/compile/internal/gc/export.go              |   53 +-
 src/cmd/compile/internal/gc/fmt.go                 |   79 +-
 src/cmd/compile/internal/gc/gen.go                 |   31 +-
 src/cmd/compile/internal/gc/global_test.go         |    2 +-
 src/cmd/compile/internal/gc/go.go                  |   18 +-
 src/cmd/compile/internal/gc/gsubr.go               |   16 +-
 src/cmd/compile/internal/gc/inl.go                 |   27 +-
 src/cmd/compile/internal/gc/main.go                |   23 +-
 src/cmd/compile/internal/gc/order.go               |   28 +-
 src/cmd/compile/internal/gc/parser.go              |   54 +-
 src/cmd/compile/internal/gc/pgen.go                |   10 +-
 src/cmd/compile/internal/gc/plive.go               |   15 +-
 src/cmd/compile/internal/gc/racewalk.go            |   10 +-
 src/cmd/compile/internal/gc/range.go               |   24 +-
 src/cmd/compile/internal/gc/reflect.go             |  186 +-
 src/cmd/compile/internal/gc/sinit.go               |   73 +-
 src/cmd/compile/internal/gc/ssa.go                 |  331 +-
 src/cmd/compile/internal/gc/subr.go                |  364 +-
 src/cmd/compile/internal/gc/swt.go                 |   31 +-
 src/cmd/compile/internal/gc/syntax.go              |   53 +-
 .../compile/internal/gc/testdata/arithConst_ssa.go | 8618 +++++++++++++-------
 .../compile/internal/gc/testdata/divbyzero_ssa.go  |   58 +
 .../internal/gc/testdata/gen/arithConstGen.go      |   26 +-
 src/cmd/compile/internal/gc/type.go                |  347 +-
 src/cmd/compile/internal/gc/typecheck.go           |  334 +-
 src/cmd/compile/internal/gc/universe.go            |   12 +-
 src/cmd/compile/internal/gc/walk.go                |  317 +-
 src/cmd/compile/internal/mips64/ggen.go            |   10 +-
 src/cmd/compile/internal/mips64/gsubr.go           |    4 +-
 src/cmd/compile/internal/ppc64/ggen.go             |   16 +-
 src/cmd/compile/internal/ppc64/gsubr.go            |    6 +-
 src/cmd/compile/internal/ssa/check.go              |   22 +-
 src/cmd/compile/internal/ssa/checkbce.go           |   23 +
 src/cmd/compile/internal/ssa/compile.go            |    4 +
 src/cmd/compile/internal/ssa/config.go             |    7 +
 src/cmd/compile/internal/ssa/decompose.go          |   13 +-
 src/cmd/compile/internal/ssa/dom.go                |    2 +-
 src/cmd/compile/internal/ssa/dom_test.go           |    4 +-
 src/cmd/compile/internal/ssa/export_test.go        |   17 +
 src/cmd/compile/internal/ssa/fuse.go               |    2 +-
 src/cmd/compile/internal/ssa/gen/AMD64.rules       |  215 +-
 src/cmd/compile/internal/ssa/gen/AMD64Ops.go       |   44 +-
 src/cmd/compile/internal/ssa/gen/ARMOps.go         |    2 +
 src/cmd/compile/internal/ssa/gen/dec.rules         |   86 +
 src/cmd/compile/internal/ssa/gen/decOps.go         |    2 +
 src/cmd/compile/internal/ssa/gen/generic.rules     |  253 +-
 src/cmd/compile/internal/ssa/gen/genericOps.go     |   63 +-
 src/cmd/compile/internal/ssa/gen/main.go           |    3 +-
 src/cmd/compile/internal/ssa/gen/rulegen.go        |    2 +
 src/cmd/compile/internal/ssa/loopbce.go            |  260 +
 src/cmd/compile/internal/ssa/nilcheck_test.go      |    2 +-
 src/cmd/compile/internal/ssa/opGen.go              |  189 +
 src/cmd/compile/internal/ssa/phiopt.go             |    4 +
 src/cmd/compile/internal/ssa/prove.go              |  202 +-
 src/cmd/compile/internal/ssa/rewrite.go            |   59 +-
 src/cmd/compile/internal/ssa/rewriteAMD64.go       | 3231 +++++++-
 src/cmd/compile/internal/ssa/rewritedec.go         |  384 +
 src/cmd/compile/internal/ssa/rewritegeneric.go     |  954 +--
 src/cmd/compile/internal/ssa/stackalloc.go         |    2 +-
 src/cmd/compile/internal/ssa/type.go               |    4 +-
 src/cmd/compile/internal/ssa/type_test.go          |    2 +-
 src/cmd/compile/internal/ssa/value.go              |   23 +-
 src/cmd/compile/internal/x86/cgen64.go             |   10 +-
 src/cmd/compile/internal/x86/ggen.go               |   20 +-
 src/cmd/compile/internal/x86/gsubr.go              |    8 +-
 src/cmd/dist/buildtool.go                          |    2 +
 src/cmd/dist/deps.go                               |   57 +-
 src/cmd/dist/test.go                               |    4 +-
 src/cmd/go/pkg_test.go                             |    5 +-
 src/cmd/gofmt/gofmt_test.go                        |    4 +-
 src/cmd/internal/goobj/read.go                     |   10 +-
 src/cmd/internal/obj/arm64/anames7.go              |    4 +
 src/cmd/internal/obj/arm64/obj7.go                 |    4 +-
 src/cmd/internal/obj/link.go                       |    3 +-
 src/cmd/internal/obj/mips/anames0.go               |    4 +
 src/cmd/internal/obj/mips/obj0.go                  |    6 +-
 src/cmd/internal/obj/objfile.go                    |  473 +-
 src/cmd/internal/obj/ppc64/anames9.go              |    4 +
 src/cmd/internal/obj/ppc64/asm9.go                 |    4 +-
 src/cmd/internal/obj/ppc64/obj9.go                 |    4 +-
 src/cmd/internal/obj/s390x/a.out.go                |  895 ++
 src/cmd/internal/obj/s390x/anames.go               |  650 ++
 src/cmd/internal/obj/s390x/anamesz.go              |   39 +
 src/cmd/internal/obj/s390x/asmz.go                 | 4628 +++++++++++
 src/cmd/internal/obj/s390x/listz.go                |   73 +
 src/cmd/internal/obj/s390x/objz.go                 | 1013 +++
 src/cmd/internal/obj/s390x/vector.go               | 1061 +++
 src/cmd/internal/obj/sym.go                        |    1 -
 src/cmd/internal/objfile/elf.go                    |    5 +
 src/cmd/internal/objfile/goobj.go                  |    8 +-
 src/cmd/internal/objfile/macho.go                  |    5 +
 src/cmd/internal/objfile/objfile.go                |    8 +
 src/cmd/internal/objfile/pe.go                     |    5 +
 src/cmd/internal/objfile/plan9obj.go               |    6 +
 src/cmd/link/internal/amd64/asm.go                 |    6 +-
 src/cmd/link/internal/amd64/obj.go                 |   13 -
 src/cmd/link/internal/ld/arch.go                   |    9 +
 src/cmd/link/internal/ld/data.go                   |   47 +-
 src/cmd/link/internal/ld/deadcode.go               |    9 +-
 src/cmd/link/internal/ld/dwarf.go                  |    4 +-
 src/cmd/link/internal/ld/elf.go                    |  235 +-
 src/cmd/link/internal/ld/ldelf.go                  |   38 +-
 src/cmd/link/internal/ld/lib.go                    |   41 +-
 src/cmd/link/internal/ld/link.go                   |   11 +-
 src/cmd/link/internal/ld/objfile.go                |  366 +-
 src/cmd/link/internal/ld/pe.go                     |   71 +-
 src/cmd/link/internal/ld/sym.go                    |    1 -
 src/cmd/link/internal/ld/symtab.go                 |   26 +-
 src/cmd/link/internal/s390x/asm.go                 |  598 ++
 src/cmd/link/internal/s390x/l.go                   |   79 +
 src/cmd/link/internal/s390x/obj.go                 |  119 +
 src/cmd/pprof/internal/profile/proto.go            |   62 +
 src/cmd/pprof/internal/profile/proto_test.go       |   67 +
 src/cmd/pprof/pprof.go                             |   95 +-
 src/cmd/vet/copylock.go                            |    6 +-
 src/cmd/vet/print.go                               |   94 +-
 src/cmd/vet/testdata/copylock.go                   |   14 +-
 src/cmd/vet/testdata/print.go                      |   22 +
 src/compress/flate/deflate.go                      |   29 +-
 src/compress/flate/deflate_test.go                 |   12 +-
 src/compress/flate/flate_test.go                   |   78 +
 src/compress/flate/inflate.go                      |   27 +-
 src/compress/flate/reader_test.go                  |    7 +
 src/compress/flate/writer_test.go                  |   29 +-
 src/compress/gzip/gunzip.go                        |  103 +-
 src/compress/gzip/gunzip_test.go                   |   65 +-
 src/compress/gzip/gzip.go                          |   26 +-
 src/context/context.go                             |  447 +
 src/context/context_test.go                        |  575 ++
 src/context/withtimeout_test.go                    |   25 +
 src/crypto/cipher/xor_test.go                      |    2 +-
 src/crypto/dsa/dsa.go                              |    4 +
 src/crypto/elliptic/p256.go                        |    4 +-
 src/crypto/elliptic/p256_amd64.go                  |    2 +-
 src/crypto/x509/cert_pool.go                       |   24 +-
 src/crypto/x509/root.go                            |    9 +-
 src/crypto/x509/root_cgo_darwin.go                 |   12 +-
 src/crypto/x509/root_darwin_arm_gen.go             |    7 +-
 src/crypto/x509/root_darwin_armx.go                |    7 +-
 src/crypto/x509/root_nocgo_darwin.go               |    4 +-
 src/crypto/x509/root_plan9.go                      |   18 +-
 src/crypto/x509/root_unix.go                       |   23 +-
 src/crypto/x509/root_windows.go                    |    3 +-
 src/crypto/x509/verify.go                          |   14 +-
 src/crypto/x509/verify_test.go                     |    2 +-
 src/crypto/x509/x509_test.go                       |    2 +-
 src/debug/elf/elf.go                               |  136 +-
 src/debug/elf/file.go                              |   51 +
 src/debug/elf/file_test.go                         |   21 +-
 .../testdata/go-relocation-test-gcc531-s390x.obj   |  Bin 0 -> 3864 bytes
 src/debug/gosym/pclntab_test.go                    |    1 +
 src/encoding/binary/binary.go                      |   24 +-
 src/encoding/json/decode.go                        |   32 +-
 src/encoding/json/decode_test.go                   |   62 +-
 src/encoding/json/encode.go                        |   53 +-
 src/encoding/json/encode_test.go                   |   16 +
 src/encoding/xml/marshal.go                        |    2 +-
 src/expvar/expvar.go                               |    1 +
 src/fmt/fmt_test.go                                |    1 +
 src/fmt/format.go                                  |   24 +-
 src/fmt/print.go                                   |    4 -
 src/go/build/deps_test.go                          |   10 +-
 src/go/internal/gcimporter/bimport.go              |  151 +-
 src/go/types/assignments.go                        |    8 +
 src/go/types/stdlib_test.go                        |    1 +
 src/go/types/testdata/stmt0.src                    |    2 +-
 src/hash/crc64/crc64_test.go                       |   89 +-
 src/html/template/css.go                           |    2 +-
 src/html/template/escape.go                        |   92 +-
 src/html/template/escape_test.go                   |    2 +-
 src/image/decode_test.go                           |    1 +
 src/image/jpeg/reader.go                           |    6 +
 src/image/jpeg/scan.go                             |  128 +-
 .../testdata/video-001.progressive.truncated.jpeg  |  Bin 0 -> 7456 bytes
 .../testdata/video-001.progressive.truncated.png   |  Bin 0 -> 23616 bytes
 src/internal/syscall/windows/registry/syscall.go   |    2 +-
 .../syscall/windows/registry/zsyscall_windows.go   |    5 +-
 src/internal/syscall/windows/syscall_windows.go    |    2 +-
 src/internal/syscall/windows/sysdll/sysdll.go      |   28 +
 src/internal/syscall/windows/zsyscall_windows.go   |    5 +-
 src/internal/testenv/testenv.go                    |    8 +
 src/internal/trace/parser.go                       |    2 +-
 src/io/io.go                                       |    7 +
 src/mime/encodedword.go                            |    2 +-
 src/mime/encodedword_test.go                       |   35 +-
 src/net/dial_test.go                               |  128 +-
 src/net/dnsclient_unix.go                          |   17 +
 src/net/dnsclient_unix_test.go                     |   51 +
 src/net/fd_mutex.go                                |   87 +-
 src/net/fd_plan9.go                                |   49 -
 src/net/fd_unix.go                                 |   55 +-
 src/net/fd_windows.go                              |   57 +-
 src/net/http/cgi/host.go                           |   10 +-
 src/net/http/cgi/host_test.go                      |   18 +
 src/net/http/cgi/testdata/test.cgi                 |    4 +
 src/net/http/client.go                             |  179 +-
 src/net/http/clientserver_test.go                  |   78 +
 src/net/http/h2_bundle.go                          |  972 ++-
 src/net/http/http.go                               |   12 +
 src/net/http/httptest/server.go                    |   28 +-
 src/net/http/httputil/persist.go                   |  173 +-
 src/net/http/httputil/reverseproxy.go              |   12 +-
 src/net/http/httputil/reverseproxy_test.go         |   20 +
 src/net/http/lex.go                                |   94 +
 src/net/http/readrequest_test.go                   |   21 +
 src/net/http/request.go                            |  142 +-
 src/net/http/response.go                           |   11 +-
 src/net/http/response_test.go                      |    7 +-
 src/net/http/responsewrite_test.go                 |   33 +
 src/net/http/serve_test.go                         |   55 +-
 src/net/http/server.go                             |   10 +-
 src/net/http/transport.go                          |  251 +-
 src/net/http/transport_test.go                     |  105 +-
 src/net/mail/message.go                            |   17 +-
 src/net/mail/message_test.go                       |   22 +-
 src/net/net_windows_test.go                        |   40 +-
 src/net/tcpsock_test.go                            |   47 +
 src/os/error_test.go                               |   12 +-
 src/os/error_unix.go                               |    2 +-
 src/os/error_unix_test.go                          |   39 +
 src/os/error_windows_test.go                       |   35 +
 src/os/file.go                                     |    2 +
 src/path/example_test.go                           |    9 +-
 src/path/filepath/example_unix_test.go             |   14 +
 src/path/filepath/export_windows_test.go           |    7 +
 src/path/filepath/path_windows_test.go             |  161 +
 src/path/filepath/symlink_windows.go               |  100 +-
 src/reflect/all_test.go                            |  602 ++
 src/reflect/export_test.go                         |    5 +
 src/reflect/type.go                                |  473 +-
 src/runtime/asm_386.s                              |   10 +
 src/runtime/asm_amd64.s                            |   21 +-
 src/runtime/cgo.go                                 |    2 +
 src/runtime/cgo/callbacks_traceback.go             |   17 +
 src/runtime/cgo/gcc_libinit_windows.c              |   80 +-
 src/runtime/cgo/gcc_traceback.c                    |   29 +
 src/runtime/cgocall.go                             |    7 +
 src/runtime/chan_test.go                           |   29 +-
 src/runtime/crash_cgo_test.go                      |   12 +
 src/runtime/export_test.go                         |   16 +
 src/runtime/export_windows_test.go                 |    5 +
 src/runtime/gc_test.go                             |   17 +
 src/runtime/iface.go                               |   67 +-
 src/runtime/mbarrier.go                            |   25 -
 src/runtime/memmove_386.s                          |   19 +-
 src/runtime/memmove_amd64.s                        |   24 +-
 src/runtime/mgcsweep.go                            |    2 +-
 src/runtime/mheap.go                               |    2 +-
 src/runtime/os1_linux.go                           |    9 +-
 src/runtime/os1_windows.go                         |   92 +-
 src/runtime/proc.go                                |   54 +-
 src/runtime/rt0_windows_386.s                      |   34 +
 src/runtime/rt0_windows_amd64.s                    |   31 +
 src/runtime/runtime2.go                            |    9 +-
 src/runtime/signal_solaris.go                      |    2 +-
 src/runtime/string.go                              |    3 +
 src/runtime/symtab.go                              |    1 +
 src/runtime/sys_linux_386.s                        |    3 +
 src/runtime/sys_linux_amd64.s                      |   59 +-
 src/runtime/sys_linux_arm.s                        |    4 +
 src/runtime/sys_linux_arm64.s                      |    4 +
 src/runtime/sys_linux_mips64x.s                    |    4 +
 src/runtime/sys_linux_ppc64x.s                     |   15 +
 src/runtime/sys_windows_386.s                      |   17 +-
 src/runtime/sys_windows_amd64.s                    |   20 +-
 src/runtime/syscall_windows.go                     |   35 +
 src/runtime/syscall_windows_test.go                |  245 +
 .../testdata/testprogcgo/threadpanic_windows.c     |    3 +-
 src/runtime/testdata/testprogcgo/traceback.go      |   80 +
 src/runtime/traceback.go                           |  247 +
 src/runtime/wbfat.go                               |  190 -
 src/runtime/wbfat_gen.go                           |   41 -
 src/syscall/dll_windows.go                         |   27 +-
 src/syscall/exec_bsd.go                            |    6 +-
 src/syscall/exec_linux.go                          |    6 +-
 src/syscall/exec_plan9.go                          |    6 +-
 src/syscall/exec_solaris.go                        |    6 +-
 src/syscall/exec_unix.go                           |    2 +-
 src/syscall/lsf_linux.go                           |    2 +-
 src/syscall/mkall.sh                               |    9 +-
 src/syscall/mkpost.go                              |   63 +
 src/syscall/mksyscall_windows.go                   |   48 +-
 src/syscall/syscall_linux_s390x.go                 |  299 +
 src/syscall/syscall_test.go                        |   14 +
 src/syscall/syscall_windows.go                     |    2 +-
 src/syscall/types_linux.go                         |   23 +-
 src/syscall/zerrors_linux_s390x.go                 | 1940 +++++
 src/syscall/zsyscall_linux_s390x.go                | 1576 ++++
 src/syscall/zsyscall_windows.go                    |   27 +-
 src/syscall/zsysnum_linux_s390x.go                 |  326 +
 src/syscall/ztypes_linux_s390x.go                  |  619 ++
 src/testing/sub_test.go                            |    8 +-
 src/vendor/golang.org/x/net/http2/hpack/encode.go  |    2 +-
 src/vendor/golang.org/x/net/http2/hpack/hpack.go   |   15 +-
 test/checkbce.go                                   |   89 +
 test/escape_closure.go                             |   26 +
 test/fixedbugs/issue13779.go                       |   15 +
 test/fixedbugs/issue14999.go                       |   18 +
 test/fixedbugs/issue15002.go                       |  132 +
 test/fixedbugs/issue15013.go                       |   24 +
 test/fixedbugs/issue15039.go                       |   25 +
 test/fixedbugs/issue15042.go                       |   27 +
 test/fixedbugs/issue15071.dir/exp/exp.go           |   24 +
 test/fixedbugs/issue15071.dir/main.go              |   14 +
 test/fixedbugs/issue8613.go                        |   39 +
 test/ken/embed.go                                  |    2 +-
 test/live_ssa.go                                   |  649 ++
 test/loopbce.go                                    |  176 +
 test/prove.go                                      |  199 +-
 test/run.go                                        |    4 +-
 test/strength.go                                   |   45 +
 342 files changed, 37585 insertions(+), 9172 deletions(-)
