commit eb4f4d16ae6333171c14f8da304f2bfa2829e4ff
Author: RÃ©my Oudompheng <oudomphe@phare.normalesup.org>
Date:   Mon Nov 12 23:56:11 2012 +0100

    cmd/5g, cmd/6g: pass the full torture test.
    
    The patch adds more cases to agenr to allocate registers later,
    and makes 6g generate addresses for sgen in something else than
    SI and DI. It avoids a complex save/restore sequence that
    amounts to allocate a register before descending in subtrees.
    
    Fixes #4207.
    
    R=golang-dev, dave, rsc
    CC=golang-dev
    https://golang.org/cl/6817080

 src/cmd/5g/cgen.c  | 15 +++++++++++++++
 src/cmd/5g/gsubr.c |  1 +
 src/cmd/6g/cgen.c  | 44 ++++++++++++++++++++++++++------------------
 test/torture.go    | 31 +++++++++++++++----------------
 4 files changed, 57 insertions(+), 34 deletions(-)
