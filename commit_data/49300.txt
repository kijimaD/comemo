commit 508624f359f168cab32814f63d29a4305fb01588
Author: Robert Griesemer <gri@golang.org>
Date:   Sun Aug 8 12:37:35 2021 -0700

    [dev.typeparams] cmd/compile/internal/types2: expand is only required for *Named types
    
    Now that the pointer identity for a *Named type doesn't change
    anymore when going from lazy instantiated to actually instantiated
    (= expanded) state, expand() only needs to be called when we deal
    with *Named types and only if we care about a *Named type's internals.
    
    Remove the expand function and respective calls for all types and
    replace with specific t.expand() method calls where t is a *Named.
    
    Change-Id: If82299360d60108b00adc4013b29399aec90b940
    Reviewed-on: https://go-review.googlesource.com/c/go/+/340749
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/types2/builtins.go   |  2 +-
 src/cmd/compile/internal/types2/expr.go       |  1 -
 src/cmd/compile/internal/types2/named.go      |  9 ---------
 src/cmd/compile/internal/types2/predicates.go |  6 ++----
 src/cmd/compile/internal/types2/signature.go  |  2 +-
 src/cmd/compile/internal/types2/type.go       |  5 ++++-
 src/cmd/compile/internal/types2/typexpr.go    |  3 +--
 src/cmd/compile/internal/types2/unify.go      |  6 ++----
 src/cmd/compile/internal/types2/union.go      | 11 +++++------
 9 files changed, 16 insertions(+), 29 deletions(-)
