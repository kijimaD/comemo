commit 25e9417b9807bc6166b127f698d145ce060cd23f
Author: Than McIntosh <thanm@google.com>
Date:   Thu May 7 10:06:28 2020 -0400

    [dev.link] cmd/link: convert Asmb2 path to loader APIs for Elf/AMD64
    
    This patch converts the linker's Asmb2 phase to use loader APIs
    for AMD64 (other architectures to be converted in a subsequent
    patch).
    
    Change-Id: I5a9aa9b03769cabc1a22b982f48fd113213d7bcf
    Reviewed-on: https://go-review.googlesource.com/c/go/+/233338
    Run-TryBot: Than McIntosh <thanm@google.com>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/link/internal/amd64/asm.go  |   8 +-
 src/cmd/link/internal/ld/data.go    |   5 +
 src/cmd/link/internal/ld/dwarf.go   |  22 +-
 src/cmd/link/internal/ld/dwarf2.go  |  14 +-
 src/cmd/link/internal/ld/elf.go     | 117 ++++----
 src/cmd/link/internal/ld/elf2.go    | 585 ++++++++++++++++++++++++++++++++++++
 src/cmd/link/internal/ld/lib.go     |  39 +--
 src/cmd/link/internal/ld/lib2.go    |  51 ++++
 src/cmd/link/internal/ld/main.go    |   2 +-
 src/cmd/link/internal/ld/symtab.go  | 155 ++++++----
 src/cmd/link/internal/ld/symtab2.go | 166 ++++++++++
 11 files changed, 1004 insertions(+), 160 deletions(-)
