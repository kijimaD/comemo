commit 356f5a117641711e8ef6df731dfeefefbe2fe3e3
Author: Jay Conrod <jayconrod@google.com>
Date:   Tue Mar 5 14:53:03 2019 -0500

    cmd/go: list directories in module cache replacements
    
    "go list" has allowed listing directory paths to packages in the
    module cache since CL 126715. This is sometimes necessary for tools
    gathering package information about source files in imported packages.
    
    With this change, we only allow directories in the module cache for
    modules in the build list after replacements are applied. Previously,
    we ignored replacements when expanding file system path patterns while
    constructing the build list.
    
    Fixes #29548
    
    Change-Id: Ic7f89122c4656c8967c14545cb7117f98e89e721
    Reviewed-on: https://go-review.googlesource.com/c/go/+/165381
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/cmd/go/internal/modload/load.go                 | 13 ++++++++++++-
 src/cmd/go/testdata/script/mod_list_replace_dir.txt | 19 +++++++++++++++++++
 2 files changed, 31 insertions(+), 1 deletion(-)
