commit 837b35cc55c258bb57ac9fa337ed0783a6fcc617
Author: Russ Cox <rsc@golang.org>
Date:   Mon Dec 7 09:14:44 2020 -0500

    [dev.regabi] cmd/compile: adjust IR representations
    
    Based on actually using the IR when prototyping adding
    type assertions, a few changes to improve it:
    
    - Merge DeferStmt and GoStmt, since they are variants of one thing.
    - Introduce LogicalExpr for && and ||, since they (alone) need an init list before Y.
    - Add an explicit op to various constructors to make them easier to use.
    - Add separate StructKeyExpr - it stores Value in a different abstract location (Left) than KeyExpr (Right).
    - Export all fields for use by rewrites (and later reflection).
    
    Passes buildall w/ toolstash -cmp.
    
    Change-Id: Iefbff2386d2bb9ef511ce53b7f92ff6c709dc991
    Reviewed-on: https://go-review.googlesource.com/c/go/+/275883
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/gc/typecheck.go |  17 +--
 src/cmd/compile/internal/gc/universe.go  |   3 +-
 src/cmd/compile/internal/ir/expr.go      | 186 ++++++++++++++++++-------------
 src/cmd/compile/internal/ir/name.go      |   8 ++
 src/cmd/compile/internal/ir/node.go      |  51 +++++----
 src/cmd/compile/internal/ir/node_gen.go  |  76 ++++++++-----
 src/cmd/compile/internal/ir/stmt.go      | 139 +++++++++++------------
 src/cmd/compile/internal/ir/val.go       |   2 +-
 8 files changed, 266 insertions(+), 216 deletions(-)
