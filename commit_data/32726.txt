commit 5e797879350e749e49dc627d717ca069b6c833f3
Author: Ben Shi <powerman1st@163.com>
Date:   Wed May 17 07:00:27 2017 +0000

    cmd/internal/obj/arm: report invalid .S/.P/.W suffix in ARM instructions
    
    Many instructions can not have a .S suffix, such as MULS, SWI, CLZ,
    CMP, STREX and others. And so do .P and .W suffixes. Even wrong
    assembly code is generated for some instructions with invalid
    suffixes.
    
    This patch tries to simplify .S/.W/.P checks. And a wrong assembly
    test for arm is added.
    
    fixes #20377
    
    Change-Id: Iba1c99d9e6b7b16a749b4d93ca2102e17c5822fe
    Reviewed-on: https://go-review.googlesource.com/43561
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/asm/internal/asm/endtoend_test.go    |  4 ++
 src/cmd/asm/internal/asm/testdata/arm.s      | 26 +++++-----
 src/cmd/asm/internal/asm/testdata/armerror.s | 10 ++++
 src/cmd/internal/obj/arm/asm5.go             | 76 +++++++++++++++++++++++-----
 4 files changed, 91 insertions(+), 25 deletions(-)
