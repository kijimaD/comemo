commit 0b9ca4d90737017fc9bb0cf125e2005c61782b79
Author: Michael Anthony Knyszek <mknyszek@google.com>
Date:   Wed Apr 21 23:50:58 2021 +0000

    runtime/metrics: add tiny allocs metric
    
    Currently tiny allocations are not represented in either MemStats or
    runtime/metrics, but they're represented in MemStats (indirectly) via
    Mallocs. Add them to runtime/metrics by first merging
    memstats.tinyallocs into consistentHeapStats (just for simplicity; it's
    monotonic so metrics would still be self-consistent if we just read it
    atomically) and then adding /gc/heap/tiny/allocs:objects to the list of
    supported metrics.
    
    Change-Id: Ie478006ab942a3e877b4a79065ffa43569722f3d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/312909
    Trust: Michael Knyszek <mknyszek@google.com>
    Run-TryBot: Michael Knyszek <mknyszek@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Michael Pratt <mpratt@google.com>

 src/runtime/export_test.go         |  2 +-
 src/runtime/mcache.go              | 18 +++++++++++-------
 src/runtime/metrics.go             |  7 +++++++
 src/runtime/metrics/description.go | 10 ++++++++++
 src/runtime/metrics/doc.go         |  7 +++++++
 src/runtime/metrics_test.go        | 23 ++++++++++++++++++++++-
 src/runtime/mstats.go              | 10 ++++++----
 7 files changed, 64 insertions(+), 13 deletions(-)
