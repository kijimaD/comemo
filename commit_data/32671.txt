commit 1d44c4e37847a975c40f8f15df7914939b540f6b
Author: Alex Brainman <alex.brainman@gmail.com>
Date:   Thu May 11 11:55:59 2017 +1000

    cmd/link: actually generate .debug_gdb_scripts section on windows
    
    Adjust finddebugruntimepath to look for runtime/debug.go file
    instead of runtime/runtime.go. This actually finds runtime.GOMAXPROCS
    in every Go executable (including windows).
    
    I also included "-Wl,-T,fix_debug_gdb_scripts.ld" parameter to gcc
    invocation on windows to work around gcc bug (see #20183 for details).
    
    This CL only fixes windows -buildmode=exe, buildmode=c-archive
    is still broken.
    
    Thanks to Egon Elbre and Nick Clifton for investigation.
    
    Fixes #20183
    Fixes #20218
    
    Change-Id: I5369a4db3913226aef3d9bd6317446856b0a1c34
    Reviewed-on: https://go-review.googlesource.com/43331
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/link/internal/ld/dwarf.go |  8 ++++++--
 src/cmd/link/internal/ld/lib.go   | 27 +++++++++++++++++++++++++++
 src/debug/pe/file_test.go         | 10 ++++++++++
 3 files changed, 43 insertions(+), 2 deletions(-)
