commit d6ca24477afa85a3ab559935faa4fed917911e4f
Author: Nobuki Fujii <scofni@gmail.com>
Date:   Sun Sep 18 11:52:07 2022 +0900

    testing: fail if T.Setenv is called via T.Run in a parallel test
    
    The existing implementation can call to T.Setenv in T.Run even after
    calling to T.Parallel, so I changed it to cause a panic in that case.
    
    Fixes #55128
    
    Change-Id: Ib89d998ff56f00f96a5ca218af071bd35fdae53a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/431101
    Run-TryBot: Bryan Mills <bcmills@google.com>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Reviewed-by: Bryan Mills <bcmills@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Auto-Submit: Bryan Mills <bcmills@google.com>

 src/testing/testing.go      | 20 ++++++++++++++++----
 src/testing/testing_test.go | 32 ++++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+), 4 deletions(-)
