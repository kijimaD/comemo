commit 4fc45ae8794eaa84505629e82997b90503c89aa2
Author: Giovanni Bajo <rasky@develer.com>
Date:   Sun Feb 26 02:54:32 2017 +0100

    cmd/compile: improve generic rules for BCE based on AND operations.
    
    Match more patterns generated by the compiler where the index for
    a bound check is bounded through a AND operation, with different
    register sizes.
    
    These rules trigger a dozen of times in a bootstrap.
    
    Change-Id: Ic9fff16f21d08580f19a366c3ee1a372e58357d1
    Reviewed-on: https://go-review.googlesource.com/37442
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/ssa/gen/generic.rules |  12 +-
 src/cmd/compile/internal/ssa/rewritegeneric.go | 228 ++++++++++++++++++++++++-
 test/checkbce.go                               |  45 ++++-
 3 files changed, 274 insertions(+), 11 deletions(-)
