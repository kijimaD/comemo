commit 39ca989b883b913287d282365510a9152a3f80e6
Author: qmuntal <quimmuntal@gmail.com>
Date:   Thu Jan 12 15:47:19 2023 +0100

    cmd/link: generate .xdata PE section
    
    This CL adds a .xdata section to the PE file generated by the Go linker.
    It is also the first CL of the SEH chain that adds effective support
    for unwinding the Go stack, as demonstrated by the newly added tests.
    
    The .xdata section is a standard PE section that contains
    an array of unwind data info structures. This structures are used to
    record the effects a function has on the stack pointer,
    and where the nonvolatile registers are saved on the stack [1].
    
    Note that this CL still does not support unwinding the cgo stack.
    
    Updates #57302
    
    [1] https://learn.microsoft.com/en-us/cpp/build/exception-handling-x64#struct-unwind_info
    
    Change-Id: I6f305a51ed130b758ff9ca7b90c091e50a109a6f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/457455
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Reviewed-by: Davis Goodin <dagood@microsoft.com>
    Run-TryBot: Quim Muntal <quimmuntal@gmail.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/link/internal/ld/asmb.go                 |   3 +
 src/cmd/link/internal/ld/data.go                 |  36 ++++++-
 src/cmd/link/internal/ld/lib.go                  |   3 +-
 src/cmd/link/internal/ld/pe.go                   |  23 +++-
 src/cmd/link/internal/ld/seh.go                  |  26 +++--
 src/cmd/link/internal/sym/symkind.go             |   2 +-
 src/cmd/link/internal/sym/symkind_string.go      |   6 +-
 src/internal/syscall/windows/syscall_windows.go  |   1 +
 src/internal/syscall/windows/zsyscall_windows.go |   7 ++
 src/runtime/runtime-seh_windows_test.go          | 128 +++++++++++++++++++++++
 10 files changed, 216 insertions(+), 19 deletions(-)
