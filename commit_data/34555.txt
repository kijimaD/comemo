commit 91102bf723c2e0912cbc4621f03827c0c3062128
Author: Ilya Tocar <ilya.tocar@intel.com>
Date:   Thu Mar 1 16:52:27 2018 -0600

    runtime: use bytes.IndexByte in findnull
    
    bytes.IndexByte is heavily optimized. Use it in findnull.
    This is second attempt, similar to CL97523.
    In this version we never call IndexByte on region of memory,
    that crosses page boundary. A bit slower than CL97523,
    but still fast:
    
    name        old time/op  new time/op  delta
    GoString-6   164ns ± 2%   118ns ± 0%  -28.00%  (p=0.000 n=10+6)
    
    findnull is also used in gostringnocopy,
    which is used in many hot spots in the runtime.
    
    Fixes #23830
    
    Change-Id: Id843dd4f65a34309d92bdd8df229e484d26b0cb2
    Reviewed-on: https://go-review.googlesource.com/98015
    Run-TryBot: Ilya Tocar <ilya.tocar@intel.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>

 misc/cgo/test/basic.go              | 14 ++++++++++
 misc/cgo/test/cgo_test.go           |  4 ++-
 misc/cgo/test/issue24206.go         | 54 +++++++++++++++++++++++++++++++++++++
 misc/cgo/test/issue24206_generic.go | 13 +++++++++
 src/runtime/string.go               | 34 ++++++++++++++++++-----
 5 files changed, 112 insertions(+), 7 deletions(-)
