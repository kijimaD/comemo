commit b6898dde3d7488cfa41b4f126f6fed49d2918ea5
Author: Rob Findley <rfindley@google.com>
Date:   Tue Jul 25 11:57:37 2023 -0400

    go/types, types2: instantiated interfaces must be concurrency safe
    
    It is the responsibility of go/types to complete any interface it
    creates, except for those created by the user using NewInterface.
    However, this was not being done for interfaces created during
    instantiation.
    
    Fix this by (rather carefully) ensuring that all newly created
    interfaces are eventually completed.
    
    Fixes golang/go#61561
    
    Change-Id: I3926e7c9cf80714838d2c1b5f36a2d3221c60c41
    Reviewed-on: https://go-review.googlesource.com/c/go/+/513015
    Run-TryBot: Robert Findley <rfindley@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Auto-Submit: Robert Findley <rfindley@google.com>
    Reviewed-by: Robert Griesemer <gri@google.com>

 src/cmd/compile/internal/types2/api_test.go  | 55 ++++++++++++++++++++++++++++
 src/cmd/compile/internal/types2/interface.go |  1 +
 src/cmd/compile/internal/types2/named.go     |  7 ++++
 src/cmd/compile/internal/types2/subst.go     |  6 +++
 src/go/types/api_test.go                     | 55 ++++++++++++++++++++++++++++
 src/go/types/interface.go                    |  1 +
 src/go/types/named.go                        |  7 ++++
 src/go/types/subst.go                        |  6 +++
 8 files changed, 138 insertions(+)
