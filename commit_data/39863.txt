commit f6c691e0e1b1434a02301c39e6d66e21699a98a8
Author: Bryan C. Mills <bcmills@google.com>
Date:   Thu Sep 5 14:27:27 2019 -0400

    cmd/go/internal/modfetch/codehost: treat nonexistent repositories as “not found”
    
    If a go-import directive refers to a nonexistent repository, today we
    treat that as an error fetching a module that actually exists.
    That makes the HTTP server responsible for determining which
    repositories do or do not exist, which may in general depend on
    the user's separately-stored credentials, and imposes significant
    complexity on such a server, which can otherwise be very simple.
    
    Instead, check the repository URL and/or error message to try to
    determine whether the repository exists at all. If the repo does not
    exist, treat its absence as a “not found” error — as if the server had
    not returned it in the first place.
    
    Updates #34094
    
    Change-Id: I142619ff43b96d0de428cdd0b01cca828c9ba234
    Reviewed-on: https://go-review.googlesource.com/c/go/+/194561
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go/internal/modfetch/codehost/git.go    | 40 ++++++++++++++++++++-----
 src/cmd/go/internal/modfetch/proxy.go           | 17 ++++++++++-
 src/cmd/go/testdata/script/mod_missing_repo.txt | 15 ++++++++++
 3 files changed, 63 insertions(+), 9 deletions(-)
