commit bd6628e62dd5ef1e389d6551a83ef4f2baabebb5
Author: Cherry Zhang <cherryyz@google.com>
Date:   Mon Mar 29 13:44:08 2021 -0400

    cmd/compile: check deferred nil interface call before wrapping it
    
    Currently, for "defer i.M()" if i is nil it panics at the point of
    defer statement, not when deferred function is called. We need to
    do the nil check before wrapping it.
    
    Updates #40724.
    
    Change-Id: I62c669264668991f71999e2cf4610a9066247f9d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/305549
    Trust: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: David Chase <drchase@google.com>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/compile/internal/walk/order.go | 11 +++++++++++
 1 file changed, 11 insertions(+)
