commit ea522bc546bb9f66285ea00744de8b258368b3ed
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Thu May 27 02:50:17 2021 -0700

    [dev.typeparams] cmd/compile: add and use ir.RawOrigExpr
    
    This CL adds ir.RawOrigExpr, which can be used to represent arbitrary
    constant expressions without needing to build and carry around an
    entire IR representation of the original expression. It also allows
    distinguishing how the constant was originally written by the
    user (e.g., "0xff" vs "255").
    
    This CL then also updates irgen to make use of this functionality for
    expressions that were constant folded by types2.
    
    Change-Id: I41e04e228e715ae2735c357b75633a2d08ee7021
    Reviewed-on: https://go-review.googlesource.com/c/go/+/323210
    Trust: Matthew Dempsky <mdempsky@google.com>
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Griesemer <gri@golang.org>
    Reviewed-by: Dan Scales <danscales@google.com>

 src/cmd/compile/internal/ir/expr.go       | 14 +++++++++
 src/cmd/compile/internal/ir/fmt.go        |  5 +++
 src/cmd/compile/internal/ir/node_gen.go   | 16 ++++++++++
 src/cmd/compile/internal/ir/val.go        |  2 +-
 src/cmd/compile/internal/noder/expr.go    | 51 +++++++++++++++++++++++++++----
 src/cmd/compile/internal/noder/helpers.go | 26 ++++++++++++++++
 6 files changed, 107 insertions(+), 7 deletions(-)
