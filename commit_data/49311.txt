commit eeb7899137cda1c2cd60dab65ff41f627436db5b
Author: Cherry Mui <cherryyz@google.com>
Date:   Mon Aug 2 12:18:19 2021 -0400

    [dev.typeparams] internal/buildcfg: always enable regabi on AMD64
    
    In Go 1.17 we added register ABI on AMD64 on Linux/macOS/Windows
    as a GOEXPERIMENT, on by default. In Go 1.18, we commit to always
    enabling register ABI on AMD64.
    
    Now "go build" for AMD64 always have goexperiment.regabi* tags
    set. However, at bootstrapping cmd/dist does not set the tags
    when building go_bootstrap. For this to work, unfortunately, we
    need to hard-code AMD64 to use register ABI in runtime code.
    
    Change-Id: I0b31e678e186b9cdeeb8502cd9e38ed0d7e72d4f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/341151
    Trust: Cherry Mui <cherryyz@google.com>
    Run-TryBot: Cherry Mui <cherryyz@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Michael Knyszek <mknyszek@google.com>
    Reviewed-by: Austin Clements <austin@google.com>

 src/internal/abi/abi_amd64.go   |  3 ---
 src/internal/abi/abi_generic.go |  4 ++--
 src/internal/buildcfg/exp.go    |  4 +++-
 src/runtime/stubs.go            | 10 ++--------
 4 files changed, 7 insertions(+), 14 deletions(-)
