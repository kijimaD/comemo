commit 9027e5d2b486906f1fce862be295defe44cea213
Author: Bryan C. Mills <bcmills@google.com>
Date:   Thu Apr 20 13:56:20 2023 -0400

    os/user: skip tests that invoke Current if it returns an expected error
    
    Today Current may fail if the binary is not built with cgo
    and USER and/or HOME is not set in the environment.
    That should not cause the test to fail.
    
    After this change,
    
            GOCACHE=$(go env GOCACHE) CGO_ENABLED=0 USER= HOME= go test os/user
    
    now passes on linux/amd64.
    
    For #59583.
    
    Change-Id: Id290cd1088051e930d73f0dd554177124796e8f2
    Reviewed-on: https://go-review.googlesource.com/c/go/+/487015
    Reviewed-by: Michael Pratt <mpratt@google.com>
    Run-TryBot: Bryan Mills <bcmills@google.com>
    Reviewed-by: Johan Brandhorst-Satzkorn <johan.brandhorst@gmail.com>
    Auto-Submit: Bryan Mills <bcmills@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/os/user/cgo_user_test.go | 11 +++++++++++
 src/os/user/user_test.go     | 42 +++++++++++++++++++++++++++++++++++++-----
 2 files changed, 48 insertions(+), 5 deletions(-)
