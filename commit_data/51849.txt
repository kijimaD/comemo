commit 43115ff094be30b7a3c45eaf82ee6d257f3aa6c6
Author: Ian Lance Taylor <iant@golang.org>
Date:   Sat Jan 28 20:05:53 2023 -0800

    cmd/link, cmd/dist, internal/platform: consolidate c-archive support
    
    Make all the tests for whether -buildmode=c-archive is supported consistent.
    Base this on the historical code, on whether cmd/compile supports -shared,
    and whether cmd/link permits the mode.
    
    Change-Id: Ib996546906f698ade4c32b8e6c705838e4ad4b90
    Reviewed-on: https://go-review.googlesource.com/c/go/+/463984
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Reviewed-by: Bryan Mills <bcmills@google.com>
    Auto-Submit: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/cmd/dist/test.go               | 24 ++++++++++++++++++------
 src/cmd/link/internal/ld/config.go |  2 ++
 src/internal/platform/supported.go | 25 ++++++++++++++++++++++---
 3 files changed, 42 insertions(+), 9 deletions(-)
