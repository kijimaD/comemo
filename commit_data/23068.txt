commit a21cf5b6a281df2c3506105cecfbeeda70afca1c
Author: David Chase <drchase@google.com>
Date:   Fri May 15 12:19:07 2015 -0400

    cmd/internal/gc: extend escape analysis to pointers in slices
    
    Modified esc.go to allow slice literals (before append)
    to be non-escaping.  Modified tests to account for changes
    in escape behavior and to also test the two cases that
    were previously not tested.
    
    Also minor cleanups to debug-printing within esc.go
    
    Allocation stats for running compiler
    ( cd src/html/template;
      for i in {1..5} ; do
         go tool 6g -memprofile=testzz.${i}.prof  -memprofilerate=1 *.go ;
         go tool pprof -alloc_objects -text  testzz.${i}.prof ;
         done ; )
    before about 86k allocations
    after  about 83k allocations
    
    Fixes #8972
    
    Change-Id: Ib61dd70dc74adb40d6f6fdda6eaa4bf7d83481de
    Reviewed-on: https://go-review.googlesource.com/10118
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/internal/gc/esc.go | 100 +++++++++++++++++++++------------------------
 test/escape2.go            |  14 +++----
 test/escape2n.go           |  14 +++----
 test/escape_slice.go       |  81 ++++++++++++++++++++++++++++++++++--
 4 files changed, 138 insertions(+), 71 deletions(-)
