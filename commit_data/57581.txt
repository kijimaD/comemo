commit f4e6815652cf3c4803001dd9ab7f0d7f125a466c
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Wed Aug 16 21:16:29 2023 -0700

    cmd/compile/internal/noder: remove inlined closure naming hack
    
    I previously used a clumsy hack to copy Closgen back and forth while
    inlining, to handle when an inlined function contains closures, which
    need to each be uniquely numbered.
    
    The real solution was to name the closures using r.inlCaller, rather
    than r.curfn. This CL adds a helper method to do exactly this.
    
    Change-Id: I510553b5d7a8f6581ea1d21604e834fd6338cb06
    Reviewed-on: https://go-review.googlesource.com/c/go/+/520339
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    Auto-Submit: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>
    Reviewed-by: Cuong Manh Le <cuong.manhle.vn@gmail.com>

 src/cmd/compile/internal/noder/reader.go | 37 +++++++++++++++++++-------------
 test/closure3.dir/main.go                |  8 +++----
 2 files changed, 26 insertions(+), 19 deletions(-)
