commit cb19a20121cc9f5171df7bf537f6f741080b5a60
Author: Rob Pike <r@golang.org>
Date:   Fri Feb 6 11:39:23 2015 -0800

    [dev.cc] cmd/asm: rewrite to work with new obj API
    
    Considerable rewriting of the parser and assembler (code generator)
    but it's simpler and shorter now. The internal Addr type is gone; so
    is the package that held it. Parsing of operands goes directly into
    obj.Addrs now.
    
    There is a horrible hack regarding register pairs. It uses the Class
    field to store the second register since it needs _some_ place to
    put it but none is provided in the API. An alternative would be nice
    but this works for now.
    
    Once again creates identical .6 and .8 files as the old assembler.
    
    Change-Id: I8207d6dfdfdb5bbed0bd870cb34ee0fe61c2fbfd
    Reviewed-on: https://go-review.googlesource.com/4062
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/asm/internal/addr/addr.go | 114 ----------
 src/cmd/asm/internal/arch/arch.go |  62 ++----
 src/cmd/asm/internal/asm/asm.go   | 432 ++++++++++++--------------------------
 src/cmd/asm/internal/asm/parse.go | 316 ++++++++++++++++------------
 src/cmd/asm/internal/lex/lex.go   |   5 +-
 src/cmd/asm/internal/lex/stack.go |   7 -
 src/cmd/asm/main.go               |   2 -
 7 files changed, 328 insertions(+), 610 deletions(-)
