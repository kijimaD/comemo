commit 1ba04c171a3c3a1ea0e5157e8340b606ec9d8949
Author: Dmitriy Vyukov <dvyukov@google.com>
Date:   Tue Jan 21 11:20:23 2014 +0400

    runtime: per-P defer pool
    Instead of a per-goroutine stack of defers for all sizes,
    introduce per-P defer pool for argument sizes 8, 24, 40, 56, 72 bytes.
    
    For a program that starts 1e6 goroutines and then joins then:
    old: rss=6.6g virtmem=10.2g time=4.85s
    new: rss=4.5g virtmem= 8.2g time=3.48s
    
    R=golang-codereviews, rsc
    CC=golang-codereviews
    https://golang.org/cl/42750044

 src/pkg/runtime/cgocall.c |   2 -
 src/pkg/runtime/mgc0.c    |  23 +++++--
 src/pkg/runtime/msize.c   |  10 ++-
 src/pkg/runtime/panic.c   | 160 +++++++++++++++++++++-------------------------
 src/pkg/runtime/proc.c    |   1 -
 src/pkg/runtime/runtime.h |  11 +---
 6 files changed, 97 insertions(+), 110 deletions(-)
