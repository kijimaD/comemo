commit f8ae30c4a201dbdb6652cbb72cd51762863c7447
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Feb 22 13:43:23 2017 -0800

    cmd/compile/internal/parser: improved a couple of error messages
    
    The new syntax tree introduced with 1.8 represents send statements
    (ch <- x) as statements; the old syntax tree represented them as
    expressions (and parsed them as such) but complained if they were
    used in expression context. As a consequence, some of the errors
    that in the past were of the form "ch <- x used as value" now look
    like "unexpected <- ..." because a "<-" is not valid according to
    Go syntax in those situations. Accept the new error message.
    
    Also: Fine-tune handling of misformed for loop headers.
    
    Also: Minor cleanups/better comments.
    
    Fixes #17590.
    
    Change-Id: Ia541dea1f2f015c1b21f5b3ae44aacdec60a8aba
    Reviewed-on: https://go-review.googlesource.com/37386
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/syntax/parser.go | 24 ++++++++++++------------
 test/syntax/chan1.go                      |  4 ++--
 test/syntax/semi4.go                      |  9 ++-------
 3 files changed, 16 insertions(+), 21 deletions(-)
