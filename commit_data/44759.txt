commit eb3e27ac1a9346c7c2669ba2b863811607eddeae
Author: Jay Conrod <jayconrod@google.com>
Date:   Wed Apr 15 14:42:15 2020 -0400

    cmd/go: add -retracted flag to 'go list'
    
    The -retracted flag causes 'go list' to load information about
    retracted module module versions.
    
    When -retracted is used with -f or -json, the Retracted field is set
    to a string containing the reason for the retraction on retracted
    module versions. The string is based on comments on the retract
    directive. This field is also populated when the -u flag is used.
    
    When -retracted is used with -versions, retracted versions are shown.
    Normally, they are omitted.
    
    For #24031
    
    Change-Id: Ic13d516eddffb1b8404e21034f78cecc9896d1b8
    Reviewed-on: https://go-review.googlesource.com/c/go/+/228382
    Reviewed-by: Michael Matloob <matloob@golang.org>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/cmd/go/alldocs.go                              |  15 ++-
 src/cmd/go/internal/list/list.go                   | 100 ++++++++++++++++---
 src/cmd/go/internal/modcmd/download.go             |   5 +-
 src/cmd/go/internal/modcmd/why.go                  |   3 +-
 src/cmd/go/internal/modload/build.go               |  50 ++++++++--
 src/cmd/go/internal/modload/list.go                |  27 +++---
 .../mod/example.com_retract_missingmod_v1.0.0.txt  |   8 ++
 .../mod/example.com_retract_missingmod_v1.9.0.txt  |   4 +
 .../mod/example.com_retract_self_all_v1.9.0.txt    |  14 +++
 .../example.com_retract_self_prerelease_v1.0.0.txt |  16 +++
 .../example.com_retract_self_prerelease_v1.9.0.txt |  19 ++++
 ...mple.com_retract_self_prerelease_v1.9.1-pre.txt |  16 +++
 ..._self_pseudo_v0.0.0-20200325131415-0123456789ab |  20 ++++
 .../example.com_retract_self_pseudo_v1.0.0-bad.txt |  14 +++
 .../mod/example.com_retract_self_pseudo_v1.9.0.txt |  16 +++
 src/cmd/go/testdata/script/mod_list_pseudo.txt     |  21 +---
 src/cmd/go/testdata/script/mod_list_retract.txt    | 108 +++++++++++++++++++++
 src/cmd/go/testdata/script/mod_retract_replace.txt |  51 ++++++++++
 18 files changed, 455 insertions(+), 52 deletions(-)
