commit 572f168ed26bb32e83562cffb336f2df3a651d9c
Author: Russ Cox <rsc@golang.org>
Date:   Mon Dec 21 02:08:34 2020 -0500

    [dev.regabi] cmd/compile: separate various from Main
    
    Move various code out of Main itself and into helper functions
    that can be moved into other packages as package gc splits up.
    
    Similarly, move order and instrument inside walk to reduce the amount
    of API surface needed from the eventual package walk.
    
    Change-Id: I7849258038c6e39625a0385af9c0edd6a3b654a1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/279304
    Trust: Russ Cox <rsc@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/gc/abiutils_test.go |   8 +-
 src/cmd/compile/internal/gc/dcl.go           |   6 +
 src/cmd/compile/internal/gc/go.go            |   2 -
 src/cmd/compile/internal/gc/inl.go           |  20 +++
 src/cmd/compile/internal/gc/main.go          | 203 +++++----------------------
 src/cmd/compile/internal/gc/pgen.go          |  10 +-
 src/cmd/compile/internal/gc/ssa.go           |  19 ++-
 src/cmd/compile/internal/gc/typecheck.go     | 114 +++++++++++++++
 src/cmd/compile/internal/gc/walk.go          |   8 ++
 9 files changed, 211 insertions(+), 179 deletions(-)
