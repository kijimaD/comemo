commit bf634c76b28a4a857c9d2a039c53982ffbdcceb7
Author: Dan Scales <danscales@google.com>
Date:   Wed Apr 14 14:54:14 2021 -0700

    cmd/compile: look for function in instantiations in all global assignments
    
    Add in some missing global assignment ops to the list of globals ops
    that should be traversed to look for generic function instantiations.
    The most common other one for global assigments (and the relevant one
    for this bug) is OAS2FUNC, but also look at global assigments with
    OAS2DOTTYPE, OAS2MAPR, OAS2RECV, and OASOP.
    
    Bonus small fix: get rid of -G=3 case in ir.IsAddressable. Now that we
    don't call the old typechecker from noder2, we don't need this -G-3
    check anymore.
    
    Fixes #45547.
    
    Change-Id: I75fecec55ea0d6f62e1c2294d4d77447ed9be6ae
    Reviewed-on: https://go-review.googlesource.com/c/go/+/310210
    Trust: Dan Scales <danscales@google.com>
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Dan Scales <danscales@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Griesemer <gri@golang.org>

 src/cmd/compile/internal/ir/expr.go       |  7 -------
 src/cmd/compile/internal/noder/stencil.go | 10 +++++++---
 test/typeparam/issue45547.go              | 20 ++++++++++++++++++++
 3 files changed, 27 insertions(+), 10 deletions(-)
