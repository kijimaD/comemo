commit 0fd6ae548f550bdbee4a434285ff052fb9dc7417
Author: Michael Pratt <mpratt@google.com>
Date:   Fri Apr 28 15:52:16 2023 -0400

    cmd/compile: escape package path for PGO symbol matching
    
    Symbol names in the final executable apply escaping to the final
    component of a package path (main in example.com becomes
    example%2ecom.main).
    
    ir.PkgFuncName does not perform this escaping, meaning we'd fail to
    match functions that are escaped in the profile.
    
    Add ir.LinkFuncName which does perform escaping and use it for PGO.
    
    Fixes #59887.
    
    Change-Id: I10634d63d99d0a6fd2f72b929ab35ea227e1336f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/490555
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Auto-Submit: Michael Pratt <mpratt@google.com>
    Run-TryBot: Michael Pratt <mpratt@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/cmd/compile/internal/inline/inl.go  |  4 ++--
 src/cmd/compile/internal/ir/func.go     | 25 ++++++++++++++++++++-----
 src/cmd/compile/internal/pgo/irgraph.go | 26 +++++++++++++-------------
 3 files changed, 35 insertions(+), 20 deletions(-)
