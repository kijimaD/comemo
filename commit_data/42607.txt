commit 64c22b70bf00e15615bb17c29f808b55bc339682
Author: Michael Knyszek <mknyszek@google.com>
Date:   Fri Jan 24 16:51:11 2020 +0000

    Revert "runtime: don't hold worldsema across mark phase"
    
    This reverts commit 7b294cdd8df0a9523010f6ffc80c59e64578f34b, CL 182657.
    
    Reason for revert: This change may be causing latency problems
    for applications which call ReadMemStats, because it may cause
    all goroutines to stop until the GC completes.
    
    https://golang.org/cl/215157 fixes this problem, but it's too
    late in the cycle to land that.
    
    Updates #19812.
    
    Change-Id: Iaa26f4dec9b06b9db2a771a44e45f58d0aa8f26d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/216358
    Run-TryBot: Michael Knyszek <mknyszek@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/runtime/debug.go                  |  4 ++--
 src/runtime/mgc.go                    |  9 -------
 src/runtime/proc.go                   | 44 ++++-------------------------------
 src/runtime/trace.go                  | 17 ++++++--------
 src/runtime/trace/trace_stack_test.go |  1 -
 5 files changed, 13 insertions(+), 62 deletions(-)
