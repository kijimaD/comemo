commit cefc0bbc9011baa62a8284d61452ba33245e8455
Author: Baokun Lee <nototon@gmail.com>
Date:   Thu May 9 11:24:30 2019 +0800

    cmd/go/internal/renameio: allow write file with the specified permissions
    
    Now renameio package creates file use ioutil.TempFile, which calls
    OpenFile with mode 0600, we should support creates a file with given
    permission bits.
    
    Fixes #31871
    
    Change-Id: I0436e9f7081f2fce18bf9f3b14d55b02d4d995fb
    Reviewed-on: https://go-review.googlesource.com/c/go/+/175958
    Run-TryBot: Baokun Lee <nototon@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/cmd/go/internal/cache/cache.go            |  2 +-
 src/cmd/go/internal/modfetch/cache.go         |  4 +--
 src/cmd/go/internal/modfetch/fetch.go         |  4 +--
 src/cmd/go/internal/modload/init.go           |  2 +-
 src/cmd/go/internal/renameio/renameio.go      | 26 ++++++++++++----
 src/cmd/go/internal/renameio/renameio_test.go | 44 +++++++++++++++++++++++++++
 6 files changed, 70 insertions(+), 12 deletions(-)
