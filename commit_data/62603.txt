commit cd2f347c61bd9f41e977d74dc2dd3a1f36b65800
Author: 古大羊 <lj1788@gmail.com>
Date:   Mon Feb 10 12:49:15 2025 +0800

    crypto/tls: fix ECH compatibility
    
    Previously, the code only checked supportedVersions[0] for TLS 1.3
    However, Chromium-based
    browsers may list TLS 1.3 at different positions, causing ECH failures.
    This fix:
        Iterates through supportedVersions to accept connections as long as TLS 1.3 is present.
        Improves ECH compatibility, ensuring Chrome, Edge, and other browsers work properly.
    
    Fixes #71642
    
    Change-Id: I32f4219fb6654d5cc22c7f33497c6142c0acb4f2
    Reviewed-on: https://go-review.googlesource.com/c/go/+/648015
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Roland Shoemaker <roland@golang.org>
    Reviewed-by: David Chase <drchase@google.com>
    Reviewed-by: Daniel McCarney <daniel@binaryparadox.net>

 src/crypto/tls/ech.go | 24 ++++++++++++++++++++++--
 1 file changed, 22 insertions(+), 2 deletions(-)
