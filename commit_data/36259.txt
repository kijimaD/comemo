commit d0712096b32d032b0b83a5eb899a7359a830732b
Author: Tobias Klauser <tklauser@distanz.ch>
Date:   Thu Apr 12 10:27:42 2018 +0200

    runtime: use internal/cpu.X86.HasAVX2 instead of support_avx2
    
    After CL 104636 cpu.X86.HasAVX is set early enough that it can be used
    in runtimeÂ·memclrNoHeapPointers. Add an offset to use in assembly and
    replace the only occurence of support_avx2.
    
    Change-Id: Icada62efeb3e24d71251d55623a8a8602364c9a8
    Reviewed-on: https://go-review.googlesource.com/106595
    Run-TryBot: Tobias Klauser <tobias.klauser@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    Reviewed-by: Ilya Tocar <ilya.tocar@intel.com>

 src/runtime/asm_386.s         | 10 +---------
 src/runtime/asm_amd64.s       | 10 +---------
 src/runtime/asm_amd64p32.s    | 10 +---------
 src/runtime/cpuflags_amd64.go | 10 +++++++++-
 src/runtime/memclr_amd64.s    |  3 ++-
 src/runtime/runtime2.go       |  1 -
 6 files changed, 14 insertions(+), 30 deletions(-)
