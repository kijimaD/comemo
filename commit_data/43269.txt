commit 5ef78c4d84620f6594ad63cbd1b3b43f41670636
Author: Russ Cox <rsc@golang.org>
Date:   Mon Oct 12 15:41:14 2020 -0400

    hash/crc32: fix race between lazy Castagnoli init and Update/Write
    
    The switch on tab is checking tab == castagnoliTable,
    but castagnoliTable can change value during a concurrent
    call to MakeTable.
    
    Fixes #41911.
    
    Change-Id: I6124dcdbf33e17fe302baa3e1aa03202dec61b4c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/261639
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/hash/crc32/crc32.go      | 16 ++++++++++------
 src/hash/crc32/crc32_test.go | 10 ++++++++++
 2 files changed, 20 insertions(+), 6 deletions(-)
