commit 8dbf3e9393400d72d313e5616c88873e07692c70
Author: Keith Randall <khr@golang.org>
Date:   Sat Oct 23 10:16:41 2021 -0700

    cmd/compile: fix fuse pass to do CFG surgery correctly
    
    removePred and removeArg do different things. removePred moves the last
    predecessor to index k, whereas removeArg slides all the args k or
    greater down by 1 index.
    
    Kind of unfortunate different behavior in things named similarly.
    
    Fixes #49122
    
    Change-Id: I9ae409bdac744e713f4c121f948e43db6fdc8542
    Reviewed-on: https://go-review.googlesource.com/c/go/+/358117
    Trust: Keith Randall <khr@golang.org>
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Cuong Manh Le <cuong.manhle.vn@gmail.com>

 src/cmd/compile/internal/ssa/fuse_branchredirect.go |  6 +++++-
 test/fixedbugs/issue49122.go                        | 16 ++++++++++++++++
 2 files changed, 21 insertions(+), 1 deletion(-)
