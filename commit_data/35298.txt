commit a0222ec518a80909060151ccbc275e67f3f03b60
Author: fanzha02 <fannie.zhang@arm.com>
Date:   Wed Jan 17 10:25:26 2018 +0000

    cmd/internal/obj/arm64: fix assemble add/adds/sub/subs/cmp/cmn(extended register) bug
    
    The current code encodes the wrong option value in the binary.
    
    The fix reconstructs the function opxrrr() that does not encode the option
    value into the binary value when arguments is sign or zero-extended register.
    
    Add the relevant test cases and negative tests.
    
    Fixes #23501
    Change-Id: Ie5850ead2ad08d9a235a5664869aac5051762f1f
    Reviewed-on: https://go-review.googlesource.com/88876
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/asm/internal/arch/arm64.go             |  7 +++-
 src/cmd/asm/internal/asm/testdata/arm64.s      | 16 +++++++--
 src/cmd/asm/internal/asm/testdata/arm64error.s |  2 ++
 src/cmd/internal/obj/arm64/asm7.go             | 48 +++++++++++++++++---------
 4 files changed, 54 insertions(+), 19 deletions(-)
