commit b569b87ca1f6905ed38cafc2bae6e26f4ec416b7
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Nov 4 09:21:49 2015 -0800

    cmd/compile/internal/gc: recursive-descent parser
    
    This is a translation of the yacc-based parser with adjustements
    to make the grammar work for a recursive-descent parser followed
    by cleanups and simplifications.
    
    The yacc actions were mostly literally copied for correctness
    with better temporary names.
    
    A few of the syntax tests were adjusted for slightly different
    error messages (it is very difficult to match the yacc-based
    error messages in all cases, and sometimes the new parser could
    produce better errors).
    
    The new parser is enabled by default.
    To switch back to the yacc-based parser, set -oldparser.
    To hardwire the switch back, uncomment "oldparser = 1" in lex.go.
    
    - passes all.bash
    - ~18% reduced parse time per file on average for make.bash
    - ~3% reduced compile time for building cmd/compile
    
    Change-Id: Icb5651bb9d8b9f66261762d2c94a03793050d4ce
    Reviewed-on: https://go-review.googlesource.com/16665
    Run-TryBot: Robert Griesemer <gri@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/compile/internal/gc/go.go     |    2 +-
 src/cmd/compile/internal/gc/lex.go    |   48 +-
 src/cmd/compile/internal/gc/parser.go | 3438 +++++++++++++++++++++++++++++++++
 src/cmd/compile/internal/gc/subr.go   |    2 +-
 test/fixedbugs/bug358.go              |    7 +-
 test/syntax/chan.go                   |    6 +-
 test/syntax/forvar.go                 |    1 +
 test/syntax/semi4.go                  |    2 +-
 test/syntax/semi6.go                  |    6 +-
 test/syntax/semi7.go                  |    2 +-
 test/syntax/vareq1.go                 |    2 +-
 11 files changed, 3494 insertions(+), 22 deletions(-)
