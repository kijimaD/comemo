commit 7c7cecc1846aaaa0ce73931644fe1df2b4559e09
Author: Dave Brophy <dave@brophy.uk>
Date:   Tue Aug 28 18:13:40 2018 +0000

    fmt: fix incorrect format of whole-number floats when using %#v
    
    This fixes the unwanted behaviour where printing a zero float with the
    #v fmt verb outputs "0" - e.g. missing the trailing decimal. This means
    that the output would be interpreted as an int rather than a float when
    parsed as Go source. After this change the the output is "0.0".
    
    Fixes #26363
    
    Change-Id: Ic5c060522459cd5ce077675d47c848b22ddc34fa
    GitHub-Last-Rev: adfb061363f0566acec134c81be9a3dcb1f4cac8
    GitHub-Pull-Request: golang/go#26383
    Reviewed-on: https://go-review.googlesource.com/123956
    Reviewed-by: Daniel Martí <mvdan@mvdan.cc>
    Reviewed-by: Rob Pike <r@golang.org>
    Run-TryBot: Daniel Martí <mvdan@mvdan.cc>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/fmt/fmt_test.go |  8 ++++++++
 src/fmt/format.go   | 41 ++++++++++++++++++++++++++---------------
 test/switch5.go     |  8 ++++----
 3 files changed, 38 insertions(+), 19 deletions(-)
