commit 00723603eb1e183e010371fc5aa76a3d8efda8d1
Author: Than McIntosh <thanm@google.com>
Date:   Wed Apr 22 13:40:22 2020 -0400

    [dev.link] cmd/link/internal/loader: fix AttrSubSymbol
    
    The code that runs as a part of loadlibfull converts the linker's
    outer/sub state and sets the sym.Symbol AttrSubSymbol if a symbol has
    both A) an outer sym, and B) is listed as a sub-symbol by some other
    symbol.
    
    Make sure that we have the same logic in the original loader method,
    since we need to use it as part of dodata() prior to loadlibfull.
    
    Change-Id: I200adab741d778a6ba821419e8ea131ad19375bc
    Reviewed-on: https://go-review.googlesource.com/c/go/+/229440
    Run-TryBot: Than McIntosh <thanm@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/link/internal/loader/loader.go | 36 ++++++++++++++++++++++------------
 1 file changed, 23 insertions(+), 13 deletions(-)
