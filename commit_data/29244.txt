commit ba048f7ce4a14e956635efc80fc1447c3b8851dd
Author: Russ Cox <rsc@golang.org>
Date:   Thu Oct 20 20:26:31 2016 -0400

    sync: enable Pool when using race detector
    
    Disabled by https://golang.org/cl/53020044 due to false positives.
    Reenable and model properly.
    
    Fixes #17306.
    
    Change-Id: I28405ddfcd17f58cf1427c300273212729154359
    Reviewed-on: https://go-review.googlesource.com/31589
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Dmitry Vyukov <dvyukov@google.com>

 src/runtime/race/testdata/pool_test.go | 47 ++++++++++++++++++++
 src/runtime/stubs.go                   |  3 ++
 src/sync/pool.go                       | 81 +++++++++++++++++++++-------------
 3 files changed, 101 insertions(+), 30 deletions(-)
