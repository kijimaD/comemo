commit aa680c0c49b55722a72ad3772e590cd2f9af541d
Author: Jay Conrod <jayconrod@google.com>
Date:   Fri Sep 13 13:58:58 2019 -0400

    cmd/go: don't include package dir in cache key when -trimpath is set
    
    The '-trimpath' flag tells 'go build' to trim any paths from the
    output files that are tied to the current workspace or toolchain. When
    this flag is set, we do not need to include the package directory in
    the text hashed to construct the action ID for each package.
    
    Fixes #33772
    
    Change-Id: I20b902d2f58019709b15864ca79aa0d9255ae707
    Reviewed-on: https://go-review.googlesource.com/c/go/+/195318
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/cmd/go/internal/work/exec.go              |  8 ++++----
 src/cmd/go/script_test.go                     | 20 ++++++++++++++----
 src/cmd/go/testdata/script/build_trimpath.txt | 29 ++++++++++++++++++++++++---
 3 files changed, 46 insertions(+), 11 deletions(-)
