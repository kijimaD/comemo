commit ebcd17979326b44f445cdfe7640dc53cf14c19ca
Author: Atin M <amalaviy@akamai.com>
Date:   Fri May 6 12:20:12 2016 -0400

    crypto/tls: set Conn.ConnectionState.ServerName unconditionally
    
    Moves the state.ServerName assignment to outside the if
    statement that checks for handshakeComplete.
    
    Fixes #15571
    
    Change-Id: I6c4131ddb16389aed1c410a975f9aa3b52816965
    Reviewed-on: https://go-review.googlesource.com/22862
    Run-TryBot: Adam Langley <agl@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Adam Langley <agl@golang.org>

 src/crypto/tls/conn.go                  |  3 ++-
 src/crypto/tls/handshake_server_test.go | 41 +++++++++++++++++++++++++++++++++
 2 files changed, 43 insertions(+), 1 deletion(-)
