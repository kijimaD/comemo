commit fc5107c27011e1c1b70eb35a6fb7b3efd0cf3cea
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Fri Aug 3 19:21:11 2018 +0000

    go/doc: compile regexps lazily
    
    Compile go/doc's 4 regexps lazily, on demand.
    
    Also, add a test for the one that had no test coverage.
    
    This reduces init-time CPU as well as heap by ~20KB when they're not
    used, which seems to be common enough. As an example, cmd/doc only
    seems to use 1 of them. (as noted by temporary print statements)
    
    Updates #26775
    
    Change-Id: I85df89b836327a53fb8e1ace3f92480374270368
    Reviewed-on: https://go-review.googlesource.com/127875
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/go/build/deps_test.go |  2 +-
 src/go/doc/comment.go     |  5 ++---
 src/go/doc/doc_test.go    |  9 +++++++++
 src/go/doc/lazyre.go      | 51 +++++++++++++++++++++++++++++++++++++++++++++++
 src/go/doc/reader.go      |  7 +++----
 5 files changed, 66 insertions(+), 8 deletions(-)
