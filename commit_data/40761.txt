commit 93c05627f9e542476d8f88e2e472082d526689ff
Author: Austin Clements <austin@google.com>
Date:   Wed Jun 26 11:11:45 2019 -0400

    sync: fix pool wrap-around test
    
    TestPoolDequeue in long mode does a little more than 1<<21 pushes.
    This was originally because the head and tail indexes were 21 bits and
    the intent was to test wrap-around behavior. However, in the final
    version they were both 32 bits, so the test no longer tested
    wrap-around.
    
    It would take too long to reach 32-bit wrap around in a test, so
    instead we initialize the poolDequeue with indexes that are already
    nearly at their limit. This keeps the knowledge of the maximum index
    in one place, and lets us test wrap-around even in short mode.
    
    Change-Id: Ib9b8d85b6d9b5be235849c2b32e81c809e806579
    Reviewed-on: https://go-review.googlesource.com/c/go/+/183979
    Run-TryBot: Austin Clements <austin@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/sync/export_test.go | 6 +++++-
 src/sync/pool_test.go   | 4 +---
 2 files changed, 6 insertions(+), 4 deletions(-)
