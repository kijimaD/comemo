commit 3108366214bb1fc15b0f261ba27f448e3bd0e685
Author: qmuntal <quimmuntal@gmail.com>
Date:   Fri Mar 14 11:56:20 2025 +0100

    runtime: deduplicate context call injection on Windows
    
    Injecting a call to a thread context is complex enough to warrant
    a dedicated function so that we don't repeat the same code in multiple
    places. Note that the unix sigctxt struct also follows the
    same approach.
    
    The behavior is unchanged, but the implementation semantics are now
    clearer by using goarch.StackAlign instead of a mix of goarch.PtrSize,
    goarch.StackAlign and hardcoded values.
    
    While here, fix #68552.
    
    Cq-Include-Trybots: luci.golang.try:gotip-windows-arm64
    Change-Id: Ic29cd2bf322b520127fecccafd61577076945758
    Reviewed-on: https://go-review.googlesource.com/c/go/+/657815
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: David Chase <drchase@google.com>

 src/runtime/defs_windows_386.go   | 12 ++++++++++++
 src/runtime/defs_windows_amd64.go | 12 ++++++++++++
 src/runtime/defs_windows_arm.go   | 17 +++++++++++++++++
 src/runtime/defs_windows_arm64.go | 17 +++++++++++++++++
 src/runtime/os_windows.go         | 39 ++-------------------------------------
 src/runtime/signal_windows.go     | 16 ++++------------
 6 files changed, 64 insertions(+), 49 deletions(-)
