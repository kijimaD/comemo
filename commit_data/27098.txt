commit 75b844f0d228bda5dea2aabae096909f81355bac
Author: Dmitry Vyukov <dvyukov@google.com>
Date:   Thu Apr 7 15:48:15 2016 +0200

    runtime/trace: test detection of broken timestamps
    
    On some processors cputicks (used to generate trace timestamps)
    produce non-monotonic timestamps. It is important that the parser
    distinguishes logically inconsistent traces (e.g. missing, excessive
    or misordered events) from broken timestamps. The former is a bug
    in tracer, the latter is a machine issue.
    
    Test that (1) parser does not return a logical error in case of
    broken timestamps and (2) broken timestamps are eventually detected
    and reported.
    
    Change-Id: Ib4b1eb43ce128b268e754400ed8b5e8def04bd78
    Reviewed-on: https://go-review.googlesource.com/21608
    Reviewed-by: Austin Clements <austin@google.com>

 src/internal/trace/parser.go          | 15 +++++++++++
 src/runtime/trace/trace_stack_test.go |  5 +---
 src/runtime/trace/trace_test.go       | 48 +++++++++++++++++++++++++----------
 3 files changed, 50 insertions(+), 18 deletions(-)
