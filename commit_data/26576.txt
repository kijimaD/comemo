commit d0d04d2d6cdd79428f2c3b97d33b65638c1cdd71
Author: Alexandru Mo»ôoi <mosoi@google.com>
Date:   Tue Feb 9 19:46:26 2016 +0100

    [dev.ssa] cmd/compile/internal/ssa: handle rewrite of Phis.
    
    * Phis can have variable number of arguments, but rulegen assumed that
    each operation has fixed number of arguments.
    * Rewriting Phis is necessary to handle the following case:
    
    func f1_ssa(a bool, x int) int {
            v := 0
            if a {
                    v = -1
            } else {
                    v = -1
            }
            return x|v
    }
    
    Change-Id: Iff6bd411b854f3d1d6d3ce21934bf566757094f2
    Reviewed-on: https://go-review.googlesource.com/19412
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/gc/testdata/arith_ssa.go | 20 +++++
 src/cmd/compile/internal/ssa/gen/generic.rules    |  6 ++
 src/cmd/compile/internal/ssa/gen/genericOps.go    |  4 +-
 src/cmd/compile/internal/ssa/gen/main.go          |  1 +
 src/cmd/compile/internal/ssa/gen/rulegen.go       | 17 ++++
 src/cmd/compile/internal/ssa/rewritegeneric.go    | 94 +++++++++++++++++++++++
 6 files changed, 140 insertions(+), 2 deletions(-)
