commit 399b5d14d4114b326096127df9a89342eb1fc2ad
Author: Alberto Donizetti <alb.donizetti@gmail.com>
Date:   Tue Nov 17 10:13:29 2020 +0100

    cmd/compile: stop MOVW-ing -1 as SRA shift amount in mips
    
    The shift amount in SRAconst needs to be in the [0,31] range, so stop
    MOVWing -1 to SRA in the Rsh lowering rules.
    
    Also see CL 270117.
    
    Passes
    
      $ GOARCH=mips go build -toolexec 'toolstash -cmp' -a std
      $ GOARCH=mipsle go build -toolexec 'toolstash -cmp' -a std
    
    Updates #42587
    
    Change-Id: Ib5eb99b82310e404cc2d6f0c619b21b8a15406ce
    Reviewed-on: https://go-review.googlesource.com/c/go/+/270558
    Trust: Alberto Donizetti <alb.donizetti@gmail.com>
    Run-TryBot: Alberto Donizetti <alb.donizetti@gmail.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/compile/internal/ssa/gen/MIPS.rules | 18 +++++++--------
 src/cmd/compile/internal/ssa/rewriteMIPS.go | 36 ++++++++++++++---------------
 2 files changed, 27 insertions(+), 27 deletions(-)
