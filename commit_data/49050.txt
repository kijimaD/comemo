commit e3e6cd30221185d6e4fa76f109f96fdede580729
Author: Dan Scales <danscales@google.com>
Date:   Tue Jul 13 22:21:54 2021 -0700

    [dev.typeparams] cmd/compile: fix escape printout bugs for -G=3
    
    Call SetPos() in g.expr() so it is available for any new nodes.
    
    Print out the actual type for a composite literal in exprFmt() if
    available, else use Ntype if available. Seems generally useful, since
    the type name is always more useful than just 'composite literal'.
    
    Fixes a bunch of cases that are excluded in run.go for -G=3.
    
    Change-Id: I40b9bba88027ea4f36d419e3989e7f14891bea04
    Reviewed-on: https://go-review.googlesource.com/c/go/+/334609
    Trust: Dan Scales <danscales@google.com>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/ir/fmt.go     |  4 ++++
 src/cmd/compile/internal/noder/expr.go |  5 +++++
 test/run.go                            | 34 +++-------------------------------
 3 files changed, 12 insertions(+), 31 deletions(-)
