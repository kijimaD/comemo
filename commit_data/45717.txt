commit fdecb5c5b46a3f0b8f299d9069d428c656576dcb
Author: Johan Brandhorst <johan.brandhorst@gmail.com>
Date:   Sat Aug 1 12:18:31 2020 +0100

    crypto/tls: add HandshakeContext method to Conn
    
    Adds the (*tls.Conn).HandshakeContext method. This allows
    us to pass the context provided down the call stack to
    eventually reach the tls.ClientHelloInfo and
    tls.CertificateRequestInfo structs.
    These contexts are exposed to the user as read-only via Context()
    methods.
    
    This allows users of (*tls.Config).GetCertificate and
    (*tls.Config).GetClientCertificate to use the context for
    request scoped parameters and cancellation.
    
    Replace uses of (*tls.Conn).Handshake with (*tls.Conn).HandshakeContext
    where appropriate, to propagate existing contexts.
    
    Fixes #32406
    
    Change-Id: I33c228904fe82dcf57683b63627497d3eb841ff2
    Reviewed-on: https://go-review.googlesource.com/c/go/+/246338
    Run-TryBot: Filippo Valsorda <filippo@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Trust: Roland Shoemaker <roland@golang.org>
    Reviewed-by: Filippo Valsorda <filippo@golang.org>

 doc/go1.16.html                          | 22 ++++++++++++
 src/crypto/tls/common.go                 | 21 +++++++++++
 src/crypto/tls/conn.go                   | 62 +++++++++++++++++++++++++++++---
 src/crypto/tls/handshake_client.go       | 11 ++++--
 src/crypto/tls/handshake_client_test.go  | 36 +++++++++++++++++++
 src/crypto/tls/handshake_client_tls13.go |  3 ++
 src/crypto/tls/handshake_server.go       | 17 +++++----
 src/crypto/tls/handshake_server_test.go  | 50 ++++++++++++++++++++++++--
 src/crypto/tls/handshake_server_tls13.go |  4 ++-
 src/crypto/tls/tls.go                    | 55 +++++-----------------------
 src/net/http/server.go                   |  2 +-
 src/net/http/transport.go                | 10 +++---
 src/net/http/transport_test.go           |  2 +-
 13 files changed, 226 insertions(+), 69 deletions(-)
