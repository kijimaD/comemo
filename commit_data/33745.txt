commit a4e1a72f0a40acf84f4b7bd982f3d9cffdf01cfd
Author: Ilya Tocar <ilya.tocar@intel.com>
Date:   Tue Jun 20 15:36:34 2017 -0500

    cmd/compile/internal/amd64: add MOVLloadidx8 and MOVLstoreidx8
    
    Currently we only use 1 and 4 as a scale for indexed 4-byte load.
    In code generated in #20711 we can use indexed load with scale=8,
    to improve performance:
    
    name  old time/op  new time/op  delta
    GM-6   108µs ± 0%    95µs ± 0%  -12.06%  (p=0.000 n=10+10)
    
    So add new ops and combine loadidx1(shift 3..).. into loadidx8,
    same for stores.
    
    Change-Id: I5ed1c250ac40960e20606580cf9de221e75b72f1
    Reviewed-on: https://go-review.googlesource.com/46134
    Run-TryBot: Ilya Tocar <ilya.tocar@intel.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/amd64/ssa.go        |   4 +-
 src/cmd/compile/internal/ssa/gen/AMD64.rules |  10 +
 src/cmd/compile/internal/ssa/gen/AMD64Ops.go |   2 +
 src/cmd/compile/internal/ssa/opGen.go        |  32 ++++
 src/cmd/compile/internal/ssa/rewriteAMD64.go | 267 ++++++++++++++++++++++++++-
 5 files changed, 306 insertions(+), 9 deletions(-)
