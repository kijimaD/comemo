commit 02196d36575636a64f868ee0ffe6bb61442e7245
Author: Eugene Kalinin <e.v.kalinin@gmail.com>
Date:   Fri Jun 28 23:59:49 2019 +0300

    encoding/json: correct caller's name in encoding errors
    
    1. Change mapencode.encode to use fmt.Error rather than MarshalerError.
    MarshalerError refer to MarshalJSON, but mapencode.encode does not use that.
    
    2. Add sourceFunc field to MarshalerError to record the name of the function
    that creates the error, so that the Error method can report it correctly.
    
    Fixes #29753
    
    Change-Id: I186c2fac8470ae2f9e300501de3730face642230
    Reviewed-on: https://go-review.googlesource.com/c/go/+/184119
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/encoding/json/encode.go      | 24 ++++++++++++++++--------
 src/encoding/json/encode_test.go | 27 +++++++++++++++++++++++++++
 2 files changed, 43 insertions(+), 8 deletions(-)
