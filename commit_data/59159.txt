commit 3580c212c2e3276077540afdab3478a7336d698b
Author: Meng Zhuo <mzh@golangcn.org>
Date:   Tue Jun 20 11:16:56 2023 +0800

    cmd/asm, cmd/internal/obj: enable rounding mode suffix for riscv64
    
    This CL adds rounding modes for riscv64 floating point conversion
    instructions by suffix with 5 modes: RNE, RTZ, RDN, RUP and RMM.
    
    For example, for round to nearest (RNE), we can use `FCVTLD.RNE`
    According to RISCV manual 8.7 and 9.5, we changed these
    conversion instructions:
    
    FCVTWS
    FCVTLS
    FCVTWUS
    FCVTLUS
    FCVTWD
    FCVTLD
    FCVTWUD
    FCVTLUD
    
    Note: Round towards zero (RTZ) by default for all these instructions above.
    
    Change-Id: I491e522e14d721e24aa7f528ee0c4640c54c5808
    Reviewed-on: https://go-review.googlesource.com/c/go/+/504736
    Reviewed-by: Joel Sing <joel@sing.id.au>
    Run-TryBot: M Zhuo <mengzhuo1203@gmail.com>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/asm/internal/asm/asm.go             |  7 +++-
 src/cmd/asm/internal/asm/parse.go           |  4 +--
 src/cmd/asm/internal/asm/testdata/riscv64.s | 40 ++++++++++++++++++++++
 src/cmd/internal/obj/link.go                |  2 +-
 src/cmd/internal/obj/riscv/cpu.go           | 51 ++++++++++++++++++++++++++++-
 src/cmd/internal/obj/riscv/list.go          | 16 +++++++++
 src/cmd/internal/obj/riscv/obj.go           | 17 ++++++++--
 7 files changed, 130 insertions(+), 7 deletions(-)
