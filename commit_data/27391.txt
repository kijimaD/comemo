commit afafab3b9736345d150445840dbb603c883bfde4
Author: Alexandru Moșoi <mosoi@google.com>
Date:   Thu Mar 24 13:40:11 2016 +0100

    cmd/compile: simplify shifts when the counter fits 6 bits.
    
    In f the extra & 63 is redundant because SHRQ already
    looks at the bottom 6 bits only. This is a trick on AMD64
    to get rid of CMPQ/SBBQ/ANDQ if one knows that the shift
    counter is small.
    
    func f(x uint64, s uint) uint64 {
            return x >> (s & 63)
    }
    
    Change-Id: I4861c902168dabec9a6a14a85750246dde94fc08
    Reviewed-on: https://go-review.googlesource.com/21073
    Reviewed-by: Keith Randall <khr@golang.org>
    Run-TryBot: Alexandru Moșoi <alexandru@mosoi.ro>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/compile/internal/ssa/gen/AMD64.rules |  15 ++
 src/cmd/compile/internal/ssa/rewriteAMD64.go | 216 +++++++++++++++++++++++++++
 2 files changed, 231 insertions(+)
