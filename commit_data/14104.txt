commit 241b23606c4c1d37071669c6e07c1918501835ff
Author: Robert Griesemer <gri@golang.org>
Date:   Tue Oct 9 17:08:09 2012 -0700

    go/printer: idempotent comment formatting
    
    Also:
    
    - Refactored testing framework to permit easier
    idempotency testing.
    
    - Applied gofmt -w src misc
    
    This CL depends on CL 6639044 being applied first.
    
    Formatting is not idempotent for all files: In those
    files the comment position has changed (due to missing
    precise location information) and/or the comment formatting
    cannot/is not aware of independent code re-formatting.
    In general it is very hard to make format idempotent when
    running it in one pass only. Leaving that aside for now.
    
    Fixes #1835.
    
    R=r, rsc
    CC=golang-dev
    https://golang.org/cl/6624051

 src/pkg/go/printer/printer.go                |  33 ++++--
 src/pkg/go/printer/printer_test.go           | 150 +++++++++++++++++----------
 src/pkg/go/printer/testdata/comments2.golden |  79 ++++++++++++++
 src/pkg/go/printer/testdata/comments2.input  |  79 ++++++++++++++
 4 files changed, 277 insertions(+), 64 deletions(-)
