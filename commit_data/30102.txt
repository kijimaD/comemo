commit 807c80fce346eb2e895dc3de7be8fe0ad70c3894
Author: Keith Randall <khr@golang.org>
Date:   Wed Jan 11 16:40:24 2017 -0800

    cmd/compile: using CONV instead of CONVNOP for interface conversions
    
    We shouldn't use CONVNOP for conversions between two different
    nonempty interface types, because we want to update the itab
    in those situations.
    
    Fixes #18595
    
    After this CL, we are guaranteed that itabs are unique, that is
    there is only one itab per compile-time-type/concrete type pair.
    See also the tests in CL 35115 and 35116 which make sure this
    invariant holds even for shared libraries and plugins.
    
    Unique itabs are required for CL 34810 (faster type switch code).
    
    R=go1.9
    
    Change-Id: Id27d2e01ded706680965e4cb69d7c7a24ac2161b
    Reviewed-on: https://go-review.googlesource.com/35119
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/compile/internal/gc/subr.go | 18 ++++++++++---
 test/fixedbugs/issue18595.go        | 53 +++++++++++++++++++++++++++++++++++++
 2 files changed, 68 insertions(+), 3 deletions(-)
