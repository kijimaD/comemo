commit ebb572d82f97d19d0016a49956eb1fddc658eb76
Author: Bryan Mills <bcmills@google.com>
Date:   Fri Jan 13 20:20:31 2023 +0000

    Revert "internal/fsys: follow root symlink in fsys.Walk"
    
    This reverts CL 448360 and adds a regression test for #57754.
    
    Reason for revert: broke 'go list' in Debian's distribution of the Go toolchain
    
    Fixes #57754.
    Updates #50807.
    
    Change-Id: I3e8b9126294c55f21572774b549fb28f29eded0f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/461959
    Reviewed-by: Russ Cox <rsc@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Auto-Submit: Bryan Mills <bcmills@google.com>
    Run-TryBot: Bryan Mills <bcmills@google.com>

 src/cmd/go/internal/fsys/fsys.go                   | 28 ++--------
 src/cmd/go/internal/fsys/fsys_test.go              |  4 +-
 src/cmd/go/script_test.go                          |  1 +
 src/cmd/go/testdata/script/list_goroot_symlink.txt | 63 ++++++++++++++++++++++
 .../go/testdata/script/list_symlink_dotdotdot.txt  | 20 -------
 5 files changed, 70 insertions(+), 46 deletions(-)
