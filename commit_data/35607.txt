commit a5e8e2d99815346cdff61905237056e0095c75ea
Author: Yuval Pavel Zholkover <paulzhol@gmail.com>
Date:   Sat Dec 16 19:06:10 2017 +0200

    os: respect umask in Mkdir and OpenFile on BSD systems when perm has ModeSticky set
    
    Instead of calling Chmod directly on perm, stat the created file/dir to extract the
    actual permission bits which can be different from perm due to umask.
    
    Fixes #23120.
    
    Change-Id: I3e70032451fc254bf48ce9627e98988f84af8d91
    Reviewed-on: https://go-review.googlesource.com/84477
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>

 src/os/file.go         | 11 ++++++++++-
 src/os/file_unix.go    |  8 ++++----
 src/os/os_unix_test.go | 20 ++++++++++++++++++++
 3 files changed, 34 insertions(+), 5 deletions(-)
