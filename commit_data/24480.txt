commit 9b3cdaf0a3bd179a5459312112ef115866b09985
Author: Austin Clements <austin@google.com>
Date:   Sun Oct 4 22:42:43 2015 -0400

    runtime: consolidate gcDrain and gcDrainUntilPreempt
    
    These functions were nearly identical. Consolidate them by adding a
    flags argument. In addition to cleaning up this code, this makes
    further changes that affect both functions easier.
    
    Change-Id: I6ec5c947603bbbd3ff4040113b2fbc240e99745f
    Reviewed-on: https://go-review.googlesource.com/15405
    Reviewed-by: Rick Hudson <rlh@golang.org>

 src/runtime/mgc.go     |  8 ++---
 src/runtime/mgcmark.go | 88 +++++++++++++++++---------------------------------
 2 files changed, 33 insertions(+), 63 deletions(-)
