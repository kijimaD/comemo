commit 8f955d3664813c831b35cb02c6e7b48dd0341ece
Author: Keith Randall <khr@golang.org>
Date:   Thu Aug 11 09:49:48 2016 -0700

    [dev.ssa] cmd/compile: fix fp constant loads for 386+PIC
    
    In position-independent 386 code, loading floating-point constants from
    the constant pool requires two steps: materializing the address of
    the constant pool entry (requires calling a thunk) and then loading
    from that address.
    
    Before this CL, the materializing happened implicitly in CX, which
    clobbered that register.
    
    Change-Id: Id094e0fb2d3be211089f299e8f7c89c315de0a87
    Reviewed-on: https://go-review.googlesource.com/26811
    Run-TryBot: Keith Randall <khr@golang.org>
    Reviewed-by: David Crawshaw <crawshaw@golang.org>
    Reviewed-by: David Chase <drchase@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/compile/internal/ssa/gen/386.rules | 11 ++++-
 src/cmd/compile/internal/ssa/gen/386Ops.go | 12 +++++
 src/cmd/compile/internal/ssa/opGen.go      | 63 ++++++++++++++++++++++++
 src/cmd/compile/internal/ssa/rewrite386.go | 78 +++++++++++++++++++++++++++++-
 src/cmd/compile/internal/x86/387.go        | 35 +++++---------
 src/cmd/compile/internal/x86/ssa.go        | 23 +++++++++
 6 files changed, 196 insertions(+), 26 deletions(-)
