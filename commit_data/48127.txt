commit 24ea547a210b90eff7f4fefbd12dc8f72853406a
Author: Ian Lance Taylor <iant@golang.org>
Date:   Tue Apr 27 21:56:46 2021 -0700

    cmd/link: don't pass -Wl,--dynamic-linker if -static
    
    As with -rdynamic, clang will pass -Wl,--dynamic-linker to the linker
    even when linking statically. When using lld this will produce a statically
    linked executable with a dynamic interpreter, which will crash at runtime.
    This CL changes the linker to drop -Wl,--dynamic-linker when using -static,
    as it already does with -rdynamic.
    
    This has become more important since CL 310349, which changes the linker
    to always pass a -Wl,--dynamic-linker option if the Go linker is invoked
    with a -I option.
    
    Change-Id: I68ed431064f02c70018bc0547585e5b0ebd20a41
    Reviewed-on: https://go-review.googlesource.com/c/go/+/314412
    Trust: Ian Lance Taylor <iant@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/link/internal/ld/lib.go | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)
