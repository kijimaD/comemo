commit d6535415fb3246ac5beda22bb6e557700df628ae
Author: Cherry Zhang <cherryyz@google.com>
Date:   Tue Oct 8 18:21:22 2019 -0400

    [dev.link] cmd/link: support reflect.Type.Method tracking in deadcode2
    
    When reflect.Type.Method is called, all exported methods from a
    reachable type need to be conservatively live. When such a
    function is called, the compiler sets an attribute to the
    function, and the linker needs to check that attribute. Implement
    this in the index-based deadcode pass.
    
    Unify symbol flags and FuncInfo flags to make things simpler. In
    particular, the deadcode pass can check the reflectMethod
    attribute without reading in and decoding FuncInfo.
    
    Change-Id: Ibb21e172f2996e899c6efa5551a29d0eca62df67
    Reviewed-on: https://go-review.googlesource.com/c/go/+/200099
    Run-TryBot: Cherry Zhang <cherryyz@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/internal/goobj/readnew.go         |  4 ++--
 src/cmd/internal/goobj2/funcinfo.go       | 13 +------------
 src/cmd/internal/goobj2/objfile.go        |  5 +++++
 src/cmd/internal/obj/objfile2.go          | 32 +++++++++++++++----------------
 src/cmd/link/internal/ld/deadcode2.go     | 24 +++++++++--------------
 src/cmd/link/internal/objfile/objfile2.go | 22 ++++++++++++++++++---
 6 files changed, 51 insertions(+), 49 deletions(-)
