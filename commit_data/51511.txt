commit 9e0de1fe7b3c977d871496bf0d8f26ae39dfce5c
Author: Bryan C. Mills <bcmills@google.com>
Date:   Wed Feb 2 13:56:22 2022 -0500

    cmd/go: remove deleted subdirectories in 'go work use'
    
    Also remove absolute names (relative to PWD) when updating relative
    directories, and relative names when updating absolute directories.
    
    Fixes #50959
    
    Change-Id: If129019cad7146e82face7f23427b28240d29cfc
    Reviewed-on: https://go-review.googlesource.com/c/go/+/383837
    Trust: Bryan Mills <bcmills@google.com>
    Run-TryBot: Bryan Mills <bcmills@google.com>
    Reviewed-by: Michael Matloob <matloob@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/cmd/go/internal/modload/init.go             |   2 +-
 src/cmd/go/internal/workcmd/use.go              | 138 +++++++++++++++++-------
 src/cmd/go/testdata/script/work_use_deleted.txt |  22 ++++
 src/cmd/go/testdata/script/work_use_dot.txt     |  28 +++--
 4 files changed, 143 insertions(+), 47 deletions(-)
