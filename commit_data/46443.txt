commit 0c1a899a6c61dc59032ead0602d1cc6b918f7669
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Sat Dec 26 01:06:03 2020 -0800

    [dev.regabi] cmd/compile: fix defined-pointer method call check
    
    The compiler has logic to check whether we implicitly dereferenced a
    defined pointer while trying to select a method. However, rather than
    checking whether there were any implicit dereferences of a defined
    pointer, it was finding the innermost dereference/selector expression
    and checking whether that was dereferencing a named pointer. Moreover,
    it was only checking defined pointer declared in the package block.
    
    This CL restructures the code to match go/types and gccgo's behavior.
    
    Fixes #43384.
    
    Change-Id: I7bddfe2515776d9480eb2c7286023d4c15423888
    Reviewed-on: https://go-review.googlesource.com/c/go/+/280392
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Griesemer <gri@golang.org>
    Trust: Robert Griesemer <gri@golang.org>
    Trust: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/typecheck/typecheck.go |  31 +++---
 test/fixedbugs/issue43384.go                    | 124 ++++++++++++++++++++++++
 2 files changed, 144 insertions(+), 11 deletions(-)
