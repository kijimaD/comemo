commit 662ff5421287e3738587a9eb01fa50e080e48582
Author: Russ Cox <rsc@golang.org>
Date:   Thu Jan 31 13:46:12 2013 -0800

    io: guarantee err == nil for full reads in ReadFull and ReadAtLeast
    
    This is a backwards compatible API change that fixes broken code.
    
    In Go 1.0, ReadFull(r, buf) could return either len(buf), nil or len(buf), non-nil.
    Most code expects only the former, so do that and document the guarantee.
    
    Code that was correct before is still correct.
    Code that was incorrect before, by assuming the guarantee, is now correct too.
    
    The same applies to ReadAtLeast.
    
    Fixes #4544.
    
    R=golang-dev, bradfitz, minux.ma
    CC=golang-dev
    https://golang.org/cl/7235074

 src/pkg/io/io.go      | 12 ++++++------
 src/pkg/io/io_test.go | 27 ++++++++++++++++++++-------
 2 files changed, 26 insertions(+), 13 deletions(-)
