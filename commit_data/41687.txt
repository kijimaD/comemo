commit 33425ab8dbb03c355b2263b8250a1829e260d66f
Author: smasher164 <aindurti@gmail.com>
Date:   Wed Aug 29 20:57:33 2018 -0400

    cmd/compile: introduce generic ssa intrinsic for fused-multiply-add
    
    In order to make math.FMA a compiler intrinsic for ISAs like ARM64,
    PPC64[le], and S390X, a generic 3-argument opcode "Fma" is provided and
    rewritten as
    
        ARM64: (Fma x y z) -> (FMADDD z x y)
        PPC64: (Fma x y z) -> (FMADD x y z)
        S390X: (Fma x y z) -> (FMADD z x y)
    
    Updates #25819.
    
    Change-Id: Ie5bc628311e6feeb28ddf9adaa6e702c8c291efa
    Reviewed-on: https://go-review.googlesource.com/c/go/+/131959
    Run-TryBot: Akhil Indurti <aindurti@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/gc/ssa.go             |  5 +++++
 src/cmd/compile/internal/ssa/gen/ARM64.rules   |  1 +
 src/cmd/compile/internal/ssa/gen/PPC64.rules   |  1 +
 src/cmd/compile/internal/ssa/gen/S390X.rules   |  1 +
 src/cmd/compile/internal/ssa/gen/genericOps.go | 14 ++++++++++++++
 src/cmd/compile/internal/ssa/opGen.go          |  6 ++++++
 src/cmd/compile/internal/ssa/rewriteARM64.go   | 17 +++++++++++++++++
 src/cmd/compile/internal/ssa/rewritePPC64.go   | 17 +++++++++++++++++
 src/cmd/compile/internal/ssa/rewriteS390X.go   | 17 +++++++++++++++++
 test/codegen/math.go                           |  8 ++++++++
 10 files changed, 87 insertions(+)
