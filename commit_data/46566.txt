commit 106aa941dfda45d4aa5235b12317124aaf8941a0
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Sat Jan 9 23:12:56 2021 -0800

    [dev.typeparams] cmd/compile: refactor DWARF scope marking
    
    This CL extracts and simplifies noder's DWARF scope tracking code to
    make it easier for reuse by irgen.
    
    The previous code tried to be really clever about avoid recording
    multiple scope boundaries at the same position (as happens at the end
    of "if" and "for" statements). I had a really hard time remember how
    this code worked exactly, so I've reimplemented a simpler algorithm
    that just tracks all scope marks, and then compacts them at the end
    before saving them to the ir.Func.
    
    Passes toolstash -cmp.
    
    Change-Id: Ibeb37997b77dc5179360d7db557c82ae1682e127
    Reviewed-on: https://go-review.googlesource.com/c/go/+/282918
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Griesemer <gri@golang.org>
    Trust: Robert Griesemer <gri@golang.org>
    Trust: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/dwarfgen/marker.go | 94 +++++++++++++++++++++++++++++
 src/cmd/compile/internal/noder/noder.go     | 79 +++++++++---------------
 2 files changed, 123 insertions(+), 50 deletions(-)
