commit 80182d45b5d2ff86da7b6587a2a09d8924dd0a95
Author: Russ Cox <rsc@golang.org>
Date:   Sun Oct 18 20:26:46 2020 -0400

    go/build: refactor per-file info & reader
    
    Make code cleaner and a bit more adaptable:
    instead of an ever-growing list of arguments and results for readImports,
    put everything in a fileInfo struct, and rename function to readGoInfo.
    (Not a goInfo struct because it gets used for non-Go source files as well,
    but that processing is much simpler.)
    
    The refactoring simplifies the embed work in the next CL,
    but this CL makes no semantic changes.
    
    For #41191.
    
    Change-Id: Id2de2a3b8d351adc1c919dcf79dfbe79fc3d5301
    Reviewed-on: https://go-review.googlesource.com/c/go/+/243940
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/go/build/build.go     | 123 ++++++++++++++++++++++------------------------
 src/go/build/deps_test.go |  17 +++----
 src/go/build/read.go      |  81 ++++++++++++++++++++++--------
 src/go/build/read_test.go |  35 +++++++------
 4 files changed, 145 insertions(+), 111 deletions(-)
