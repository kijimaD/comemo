commit 0f136f2c057459999f93da2d588325e192160b39
Author: Dmitriy Vyukov <dvyukov@google.com>
Date:   Thu Mar 7 17:03:40 2013 +0400

    net: fix accept/connect deadline handling
    Ensure that accept/connect respect deadline,
    even if the operation can be executed w/o blocking.
    Note this changes external behavior, but it makes
    it consistent with read/write.
    Factor out deadline check into pollServer.PrepareRead/Write,
    in preparation for edge triggered pollServer.
    Ensure that pollServer.WaitRead/Write are not called concurrently
    by adding rio/wio locks around connect/accept.
    
    R=golang-dev, mikioh.mikioh, bradfitz, iant
    CC=golang-dev
    https://golang.org/cl/7436048

 src/pkg/net/fd_unix.go      | 66 ++++++++++++++++++++++++++++-----------------
 src/pkg/net/timeout_test.go | 60 ++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 101 insertions(+), 25 deletions(-)
