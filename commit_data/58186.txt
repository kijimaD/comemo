commit 5254e989425648ff62faa270948bb927b6568ff3
Author: qmuntal <quimmuntal@gmail.com>
Date:   Wed Nov 20 16:02:03 2024 +0100

    cmd/cgo/internal/testsanitizers: fix TSAN tests using setarch
    
    Some systems don't have permissions to run setarch, for example
    when running in a docker container without the --privileged flag.
    
    This change makes the tests skip the setarch command if it fails.
    
    Fixes #70463
    
    Cq-Include-Trybots: luci.golang.try:gotip-linux-amd64-asan-clang15
    Change-Id: I02fbd423ba809f5229b8639c9abe6fd275f32558
    Reviewed-on: https://go-review.googlesource.com/c/go/+/630096
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>
    Reviewed-by: Ian Lance Taylor <iant@google.com>

 src/cmd/cgo/internal/testsanitizers/cshared_test.go | 13 ++++++++++---
 src/cmd/cgo/internal/testsanitizers/tsan_test.go    | 13 ++++++++++---
 2 files changed, 20 insertions(+), 6 deletions(-)
