commit 3d5eb4a6bef97c16308442a0e7b87fcdf5fd0f02
Author: Keith Randall <khr@golang.org>
Date:   Tue Jan 24 12:48:10 2017 -0800

    cmd/compile: better implementation of Slicemask
    
    Use (-x)>>63 instead of ((x-1)>>63)^-1 to get a mask that
    is 0 when x is 0 and all ones when x is positive.
    
    Saves one instruction when slicing.
    
    Change-Id: Ib46d53d3aac6530ac481fa2f265a6eadf3df0567
    Reviewed-on: https://go-review.googlesource.com/35641
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/compile/internal/ssa/gen/386.rules    |  2 +-
 src/cmd/compile/internal/ssa/gen/AMD64.rules  |  2 +-
 src/cmd/compile/internal/ssa/gen/ARM.rules    |  2 +-
 src/cmd/compile/internal/ssa/gen/ARM64.rules  |  2 +-
 src/cmd/compile/internal/ssa/gen/MIPS.rules   |  2 +-
 src/cmd/compile/internal/ssa/gen/MIPS64.rules |  2 +-
 src/cmd/compile/internal/ssa/gen/PPC64.rules  |  2 +-
 src/cmd/compile/internal/ssa/gen/S390X.rules  |  2 +-
 src/cmd/compile/internal/ssa/rewrite386.go    | 14 +++++---------
 src/cmd/compile/internal/ssa/rewriteAMD64.go  | 14 +++++---------
 src/cmd/compile/internal/ssa/rewriteARM.go    | 14 ++++++--------
 src/cmd/compile/internal/ssa/rewriteARM64.go  | 13 +++++--------
 src/cmd/compile/internal/ssa/rewriteMIPS.go   | 13 ++++++-------
 src/cmd/compile/internal/ssa/rewriteMIPS64.go | 14 +++++---------
 src/cmd/compile/internal/ssa/rewritePPC64.go  | 14 +++++---------
 src/cmd/compile/internal/ssa/rewriteS390X.go  | 16 +++++-----------
 16 files changed, 50 insertions(+), 78 deletions(-)
