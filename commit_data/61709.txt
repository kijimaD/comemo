commit 558f5372fc524e69ade3ab3fe36b1913a4095398
Author: Junyang Shao <shaojunyang@google.com>
Date:   Thu Nov 14 07:34:51 2024 +0800

    cmd/compile,testing: implement one-time rampup logic for testing.B.Loop
    
    testing.B.Loop now does its own loop scheduling without interaction with b.N.
    b.N will be updated to the actual iterations b.Loop controls when b.Loop returns false.
    
    This CL also added tests for fixed iteration count (benchtime=100x case).
    
    This CL also ensured that b.Loop() is inlined.
    
    For #61515
    
    Change-Id: Ia15f4462f4830ef4ec51327520ff59910eb4bb58
    Reviewed-on: https://go-review.googlesource.com/c/go/+/627755
    Reviewed-by: Michael Pratt <mpratt@google.com>
    Commit-Queue: Junyang Shao <shaojunyang@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Cherry Mui <cherryyz@google.com>

 .../internal/inline/interleaved/interleaved.go     | 14 ++++
 src/testing/benchmark.go                           | 90 ++++++++++++++++------
 src/testing/benchmark_test.go                      |  3 +
 src/testing/testing_test.go                        | 87 ++++++++++++++++++++-
 test/inline_testingbloop.go                        | 10 ++-
 5 files changed, 175 insertions(+), 29 deletions(-)
