commit 5a4a08fab85c40907c8b840a0cf2d7a374e0c553
Author: Devon H. O'Dell <devon.odell@gmail.com>
Date:   Tue Dec 8 18:19:30 2009 -0800

    Fix stack on FreeBSD / add stack check across the board
    
    FreeBSD was passing stk as the new thread's stack base, while
    stk is the top of the stack in go. The added check should cause
    a trap if this ever comes up in any new ports, or regresses
    in current ones.
    
    R=rsc
    CC=golang-dev
    https://golang.org/cl/167055

 src/pkg/runtime/386/asm.s           | 11 +++++++++++
 src/pkg/runtime/amd64/asm.s         | 10 ++++++++++
 src/pkg/runtime/darwin/386/sys.s    |  1 +
 src/pkg/runtime/freebsd/386/sys.s   | 17 +++++++++--------
 src/pkg/runtime/freebsd/amd64/sys.s |  1 +
 src/pkg/runtime/freebsd/thread.c    |  4 ++--
 src/pkg/runtime/linux/386/sys.s     |  1 +
 src/pkg/runtime/linux/amd64/sys.s   |  1 +
 8 files changed, 36 insertions(+), 10 deletions(-)
