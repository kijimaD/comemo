commit 9485d4c1bd871be792d03c29b7902f6ac284ed27
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Aug 17 16:48:07 2022 -0700

    cmd/compile/internal/syntax: handle missing index like in go/parser
    
    Instead of simply reporting an error but otherwise dropping the
    index expression from the parse tree when an index is missing
    (as in: x[]), create an index expression with a "bad expression"
    as index. This matches the behavior of go/parser and permits the
    use of the same test case for both parsers.
    
    (It would be simpler to adjust the go/parser to match the syntax
    parser's behavior, but that would break backward-compatibility
    of the go/parser.)
    
    Adjust the affected test files.
    
    For #54511.
    
    Change-Id: If7668973794604593e869a24b560da92e100b812
    Reviewed-on: https://go-review.googlesource.com/c/go/+/424654
    Run-TryBot: Robert Griesemer <gri@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>
    Reviewed-by: Robert Griesemer <gri@google.com>

 src/cmd/compile/internal/syntax/parser.go               | 17 ++++++++---------
 .../internal/types2/testdata/examples/functions.go      |  2 +-
 .../internal/types2/testdata/fixedbugs/issue39634.go    |  2 +-
 src/go/types/testdata/fixedbugs/issue39634.go           |  3 ---
 4 files changed, 10 insertions(+), 14 deletions(-)
