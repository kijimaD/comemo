commit 007e247af1661e507efb702ffbf5b4e2bd2f0f0a
Author: Austin Clements <austin@google.com>
Date:   Sun Apr 11 17:29:17 2021 -0400

    cmd/link: move cgo export map from loadcgo to setCgoAttr
    
    Currently, both loadcgo and setCgoAttr do some processing of
    cgo_export_static and cgo_export_dynamic cgo directives, which means
    they both have to parse them. There's no reason to do this in loadcgo,
    so move all directive processing to setCgoAttr.
    
    For #40724.
    
    Change-Id: Icb3cdf7ef3517e866dd220e40a5f5dec7fd47e2b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/309339
    Trust: Austin Clements <austin@google.com>
    Run-TryBot: Austin Clements <austin@google.com>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Than McIntosh <thanm@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>

 src/cmd/link/internal/ld/go.go   | 28 +++++-----------------------
 src/cmd/link/internal/ld/util.go |  2 +-
 2 files changed, 6 insertions(+), 24 deletions(-)
