commit bb0fae603bd19e096e38c3321d95bf114f40dcff
Author: Bill Zissimopoulos <billziss@navimatics.com>
Date:   Sun Jun 3 17:25:29 2018 +0000

    runtime: handle windows callback on non-go thread
    
    Adds an extra M in mstartm0 and accounts for it in checkdead. This allows Windows callbacks created with syscall.NewCallback and syscall.NewCallbackCDecl to be called on a non-Go thread.
    
    Fixes #6751
    
    Change-Id: I57626bc009a6370b9ca0827ab64b14b01dec39d4
    GitHub-Last-Rev: d429e3eed923640edab580bdb47fcb81e75dbfe8
    GitHub-Pull-Request: golang/go#25575
    Reviewed-on: https://go-review.googlesource.com/114802
    Reviewed-by: Alex Brainman <alex.brainman@gmail.com>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/runtime/proc.go                 | 21 ++++++++++++++++++---
 src/runtime/syscall_windows_test.go |  2 --
 2 files changed, 18 insertions(+), 5 deletions(-)
