commit 3cec330fab5455c4dd00f1f6c228e146edd915d3
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Tue Nov 29 17:27:15 2016 -0800

    go/types: add UsesCgo config to support _cgo_gotypes.go
    
    (Reland of golang.org/cl/33677.)
    
    This CL adds a UsesCgo config setting to go/types to specify that the
    _cgo_gotypes.go file generated by cmd/cgo has been provided as a
    source file. The type checker then internally resolves C.bar qualified
    identifiers to _Cfoo_bar as appropriate.
    
    It also adds support to srcimporter to automatically run cgo.
    Unfortunately, this functionality is not compatible with overriding
    OpenFile, because cmd/cgo and gcc will directly open files.
    
    Updates #16623.
    Updates #35721.
    
    Change-Id: Ib179d55c8c589916f98ceeae0b9a3e746157253a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/231459
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Robert Griesemer <gri@golang.org>

 src/go/internal/srcimporter/srcimporter.go      | 60 ++++++++++++++++++-
 src/go/internal/srcimporter/srcimporter_test.go | 11 ++++
 src/go/types/api.go                             | 11 +++-
 src/go/types/assignments.go                     |  2 +-
 src/go/types/call.go                            | 79 +++++++++++++++++++++----
 src/go/types/check.go                           |  9 ++-
 src/go/types/operand.go                         | 10 ++++
 src/go/types/package.go                         |  1 +
 src/go/types/resolver.go                        |  5 +-
 src/go/types/universe.go                        |  8 ++-
 10 files changed, 175 insertions(+), 21 deletions(-)
