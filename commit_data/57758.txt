commit bf2aa6c233b0a1edca796fd78a02fef0f0251d5e
Author: Damien Neil <dneil@google.com>
Date:   Mon Sep 23 11:43:19 2024 -0700

    net/http: limit 1xx based on size, do not limit when delivered
    
    Replace Transport's limit of 5 1xx responses with a limit based
    on MaxResponseHeaderBytes: The total number of responses
    (including 1xx reponses and the final response) must not exceed
    this value.
    
    When the user is reading 1xx responses using a Got1xxResponse
    client trace hook, disable the limit: Each 1xx response is
    individually limited by MaxResponseHeaderBytes, but there
    is no limit on the total number of responses. The user is
    responsible for imposing a limit if they want one.
    
    For #65035
    
    Change-Id: If4bbbbb0b808cb5016701d50963c89f0ce1229f8
    Reviewed-on: https://go-review.googlesource.com/c/go/+/615255
    Reviewed-by: David Chase <drchase@google.com>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 src/net/http/transport.go      | 15 +++++-----
 src/net/http/transport_test.go | 66 +++++++++++++++++++++++++++++++++---------
 2 files changed, 60 insertions(+), 21 deletions(-)
