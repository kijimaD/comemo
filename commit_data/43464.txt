commit 60baf83a820785f26bc61521db8e931165accc24
Author: Than McIntosh <thanm@google.com>
Date:   Sun Apr 5 12:40:20 2020 -0400

    [dev.link] cmd/link: fix bugs in setArchSyms
    
    The code in setArchsyms that sets up TOC symbols was buggy; it was
    kicking in only for aix-ppc64 and not linux-ppc64. These symbols are
    required for both ABIs, so change the guard in question from
    "ctx.IsAIX()" to "ctxt.IsPPC64()". Also, the code to create versioned
    ".TOC." syms was not passing the correct symbol version to the loader
    (now fixed).
    
    Change-Id: I356071e528beadad20f61d067059eaf26f06e06b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/227257
    Run-TryBot: Than McIntosh <thanm@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/link/internal/ld/lib.go | 49 ++++++++++++++++++++++-------------------
 1 file changed, 26 insertions(+), 23 deletions(-)
