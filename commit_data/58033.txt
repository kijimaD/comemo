commit 2fba42cb52e203d09878b385034b625788275663
Author: Russ Cox <rsc@golang.org>
Date:   Wed Jun 14 10:56:49 2023 -0400

    cmd/compile: implement range over func
    
    Add compiler support for range over functions.
    See the large comment at the top of
    cmd/compile/internal/rangefunc/rewrite.go for details.
    
    This is only reachable if GOEXPERIMENT=range is set,
    because otherwise type checking will fail.
    
    For proposal #61405 (but behind a GOEXPERIMENT).
    For #61717.
    
    Change-Id: I05717f94e63089c503acc49b28b47edeb4e011b4
    Reviewed-on: https://go-review.googlesource.com/c/go/+/510541
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>
    Auto-Submit: Russ Cox <rsc@golang.org>

 src/cmd/compile/internal/escape/call.go            |    2 +-
 src/cmd/compile/internal/ir/expr.go                |    1 +
 src/cmd/compile/internal/ir/stmt.go                |    3 +-
 src/cmd/compile/internal/ir/symtab.go              |    5 +-
 src/cmd/compile/internal/noder/irgen.go            |   19 +-
 src/cmd/compile/internal/noder/reader.go           |   12 +-
 src/cmd/compile/internal/noder/writer.go           |   11 +
 src/cmd/compile/internal/rangefunc/rewrite.go      | 1142 ++++++++++++++++++++
 src/cmd/compile/internal/ssagen/ssa.go             |   30 +-
 src/cmd/compile/internal/syntax/nodes.go           |   11 +-
 src/cmd/compile/internal/syntax/tokens.go          |    4 +-
 .../compile/internal/typecheck/_builtin/runtime.go |    3 +
 src/cmd/compile/internal/typecheck/builtin.go      |  392 +++----
 src/cmd/compile/internal/walk/expr.go              |   11 +
 src/cmd/compile/internal/walk/stmt.go              |    4 +-
 test/range3.go                                     |  335 +++++-
 test/rangegen.go                                   |  333 ++++++
 17 files changed, 2101 insertions(+), 217 deletions(-)
