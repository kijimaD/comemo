commit 733ee91786ef4fd8a13a272745f0458a3ed74e50
Author: Rob Pike <r@golang.org>
Date:   Wed Jun 13 15:55:43 2012 -0700

    encoding/gob: don't cache broken encoding engines.
    Fixes a situation where a nested bad type would still
    permit the outer type to install a working engine, leading
    to inconsistent behavior.
    
    Fixes #3273.
    
    R=bsiegert, rsc
    CC=golang-dev
    https://golang.org/cl/6294067

 src/pkg/encoding/gob/encode.go       | 13 ++++++++++++-
 src/pkg/encoding/gob/encoder_test.go | 33 +++++++++++++++++++++++++++++++++
 2 files changed, 45 insertions(+), 1 deletion(-)
