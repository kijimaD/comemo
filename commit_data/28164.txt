commit d24f446a90ea94b87591bf16228d7d871fec3d92
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Tue Aug 30 03:19:01 2016 +0000

    crypto/tls: add Config.Clone
    
    In Go 1.0, the Config struct consisted only of exported fields.
    
    In Go 1.1, it started to grow private, uncopyable fields (sync.Once,
    sync.Mutex, etc).
    
    Ever since, people have been writing their own private Config.Clone
    methods, or risking it and doing a language-level shallow copy and
    copying the unexported sync variables.
    
    Clean this up and export the Config.clone method as Config.Clone.
    This matches the convention of Template.Clone from text/template and
    html/template at least.
    
    Fixes #15771
    Updates #16228 (needs update in x/net/http2 before fixed)
    Updates #16492 (not sure whether @agl wants to do more)
    
    Change-Id: I48c2825d4fef55a75d2f99640a7079c56fce39ca
    Reviewed-on: https://go-review.googlesource.com/28075
    Run-TryBot: Brad Fitzpatrick <bradfitz@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Andrew Gerrand <adg@golang.org>

 src/crypto/tls/common.go                |  5 +++--
 src/crypto/tls/conn_test.go             |  8 ++++----
 src/crypto/tls/handshake_client_test.go | 20 +++++++++----------
 src/crypto/tls/handshake_server_test.go | 34 ++++++++++++++++-----------------
 src/crypto/tls/tls.go                   |  2 +-
 src/crypto/tls/tls_test.go              | 22 ++++++++++-----------
 src/net/http/httptest/server.go         |  5 +++--
 src/net/http/transport.go               | 25 +-----------------------
 8 files changed, 50 insertions(+), 71 deletions(-)
