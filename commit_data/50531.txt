commit 0bef30d28ac0b9654e5daef0fef731d7a9495214
Author: Robert Griesemer <gri@golang.org>
Date:   Sat Oct 30 10:50:59 2021 -0700

    cmd/compile/internal/syntax: fix parsing of array or slice constraint types
    
    This is a port of the idea used in CL 359134 from go/parser to syntax,
    with adjustments due to the slightly different structure of the two
    parsers, and some refactoring to simplify the logic.
    
    Fixes #49175.
    
    Change-Id: Ib4955bde708f2b08345f35523e6094c03ab3076c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/360135
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Robert Griesemer <gri@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/syntax/parser.go          | 82 +++++++++++++---------
 .../compile/internal/syntax/testdata/typeset.go2   | 10 ++-
 2 files changed, 57 insertions(+), 35 deletions(-)
