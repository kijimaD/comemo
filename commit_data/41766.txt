commit 4412181e7c8b1bfb14b8907c634d61856b97f2de
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Oct 23 14:22:32 2019 -0700

    math/big: normalize unitialized denominators ASAP
    
    A Rat is represented via a quotient a/b where a and b are Int values.
    To make it possible to use an uninitialized Rat value (with a and b
    uninitialized and thus == 0), the implementation treats a 0 denominator
    as 1.
    
    For each operation we check if the denominator is 0, and then treat
    it as 1 (if necessary). Operations that create a new Rat result,
    normalize that value such that a result denominator 1 is represened
    as 0 again.
    
    This CL changes this behavior slightly: 0 denominators are still
    interpreted as 1, but whenever we (safely) can, we set an uninitialized
    0 denominator to 1. This simplifies the code overall.
    
    Also: Improved some doc strings.
    
    Preparation for addressing issue #33792.
    
    Updates #33792.
    
    Change-Id: I3040587c8d0dad2e840022f96ca027d8470878a0
    Reviewed-on: https://go-review.googlesource.com/c/go/+/202997
    Run-TryBot: Robert Griesemer <gri@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>

 src/math/big/rat.go | 55 +++++++++++++++++++++++++++--------------------------
 1 file changed, 28 insertions(+), 27 deletions(-)
