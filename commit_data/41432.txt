commit a09cd8ccb372d760bd21d7e56f42b9dbea6ecc2b
Author: Cherry Zhang <cherryyz@google.com>
Date:   Wed Oct 2 17:45:05 2019 -0400

    [dev.link] cmd/compile: fix data race on LSym.Pkg
    
    LSym may be created concurrently. Reading/writing LSym.Pkg may
    cause data race (see
    https://build.golang.org/log/f0351c5cc7bf4c92e3aa5e78e294c2d009ebf118).
    Fix this by setting LSym.Pkg only when holding the lock.
    
    Change-Id: Ib3160ecf47c4ca530b09369e0e8284db6597cfd0
    Reviewed-on: https://go-review.googlesource.com/c/go/+/198492
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/compile/internal/types/sym.go | 16 +++++++---------
 src/cmd/internal/obj/sym.go           | 10 ++++++++++
 2 files changed, 17 insertions(+), 9 deletions(-)
