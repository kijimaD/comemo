commit 53b9eae3875122a65b387adf18c5cb7a67e824d7
Author: Michael Anthony Knyszek <mknyszek@google.com>
Date:   Tue May 20 20:56:46 2025 +0000

    runtime: use the immortal weak handle map for sbrk mode
    
    Currently weak pointers break in sbrk mode. We can just use the immortal
    weak handle map for weak pointers in this case, since nothing is ever
    freed.
    
    Fixes #69729.
    
    Change-Id: Ie9fa7e203c22776dc9eb3601c6480107d9ad0c99
    Reviewed-on: https://go-review.googlesource.com/c/go/+/674656
    Reviewed-by: Carlos Amedee <carlos@golang.org>
    Auto-Submit: Michael Knyszek <mknyszek@google.com>
    TryBot-Bypass: Michael Knyszek <mknyszek@google.com>

 src/runtime/mheap.go | 10 ++++++++++
 1 file changed, 10 insertions(+)
