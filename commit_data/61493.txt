commit 534551d55a8adff53a506a8fcea387c3ade346f6
Author: Russ Cox <rsc@golang.org>
Date:   Thu Nov 14 12:56:46 2024 +0100

    crypto/internal/fips/check: fix for ASAN builds
    
    For now, FIPS does not work with ASAN: ASAN detects reads
    it doesn't like during the scans of memory done by verification.
    It could be made to work if there was a way to disable ASAN
    during verification, but that doesn't appear to be possible.
    
    Instead of a cryptic ASAN message, panic with a clear error.
    And disable the test during ASAN.
    
    Fixes #70321.
    
    Change-Id: Ibc3876836abb83248a23c18c3b44c4cbb4a0c600
    Reviewed-on: https://go-review.googlesource.com/c/go/+/627603
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Auto-Submit: Russ Cox <rsc@golang.org>
    Reviewed-by: Filippo Valsorda <filippo@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>

 src/crypto/internal/fips/check/check.go          | 12 ++++++++++++
 src/crypto/internal/fips/check/check_test.go     |  6 ++++++
 src/crypto/internal/fips/check/checktest/asm.s   |  4 ++--
 src/crypto/internal/fips/check/checktest/test.go |  9 ++++++++-
 4 files changed, 28 insertions(+), 3 deletions(-)
