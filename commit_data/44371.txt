commit 40ef1faabc44ab8ea28a1cf282ecab723ecb0394
Author: Keith Randall <khr@golang.org>
Date:   Mon Jun 15 14:43:02 2020 -0700

    cmd/compile: redo flag constant ops for arm
    
    Encode the flag results in an auxint field instead of having
    one opcode per flag state. This helps us handle the new *noov
    branches in a unified manner.
    
    This is only for arm, arm64 is in a subsequent CL.
    
    We could extend to other architectures as well, athough it would
    only be cleanup, no behavioral change.
    
    Update #39505
    
    Change-Id: Ia46cea596faad540d1496c5915ab1274571543f0
    Reviewed-on: https://go-review.googlesource.com/c/go/+/238077
    Run-TryBot: Keith Randall <khr@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/compile/fmtmap_test.go                  |    1 +
 src/cmd/compile/internal/arm/ssa.go             |    8 +-
 src/cmd/compile/internal/ssa/check.go           |    5 +
 src/cmd/compile/internal/ssa/flags_amd64_test.s |   31 +
 src/cmd/compile/internal/ssa/flags_arm64_test.s |   32 +
 src/cmd/compile/internal/ssa/flags_test.go      |  108 ++
 src/cmd/compile/internal/ssa/gen/ARM.rules      |  220 +---
 src/cmd/compile/internal/ssa/gen/ARMOps.go      |   14 +-
 src/cmd/compile/internal/ssa/gen/rulegen.go     |    4 +-
 src/cmd/compile/internal/ssa/op.go              |    1 +
 src/cmd/compile/internal/ssa/opGen.go           |   33 +-
 src/cmd/compile/internal/ssa/rewrite.go         |  181 +++
 src/cmd/compile/internal/ssa/rewriteARM.go      | 1553 +++++++----------------
 src/cmd/compile/internal/ssa/rewrite_test.go    |    9 +
 src/cmd/compile/internal/ssa/value.go           |    2 +
 15 files changed, 915 insertions(+), 1287 deletions(-)
