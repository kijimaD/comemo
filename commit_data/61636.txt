commit 253a9933d181ce5e57de81f56d7e50565c423f0f
Author: Keith Randall <khr@golang.org>
Date:   Mon Nov 18 16:12:48 2024 -0800

    internal/runtime/maps: use simpler calculation for slot element
    
    This reduces the adds required at the return point from 3 to 1.
    (The multiply inside g.elem() does get CSE'd with the one inside
    g.key(), but the rest of the adds don't.)
    
    Instead, compute the element as just a fixed offset from the key.
    
    Change-Id: Ia4d7664efafcdca5e9daeb77d270651bb186232c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/629535
    Reviewed-by: Russ Cox <rsc@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Michael Pratt <mpratt@google.com>

 src/internal/runtime/maps/runtime_fast32_swiss.go  |  4 ++--
 src/internal/runtime/maps/runtime_fast64_swiss.go  |  4 ++--
 src/internal/runtime/maps/runtime_faststr_swiss.go |  4 ++--
 src/internal/runtime/maps/runtime_swiss.go         | 12 ++++++++----
 4 files changed, 14 insertions(+), 10 deletions(-)
