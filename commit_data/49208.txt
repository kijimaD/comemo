commit 27552e9172c5a9f7bbd8428c6e30eac14bb5e0b0
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Jul 28 15:29:19 2021 -0700

    [dev.typeparams] cmd/compile: set type parameter indices when they are bound
    
    This is a port of CL 336249 with adjustments due to slightly
    different handling of type parameter declaration in types2.
    
    The CL also contains adjustments to the compiler front-end.
    
    With this change it is not necessary to export type parameter
    indices. Filed issue #47451 so we don't forget.
    
    Change-Id: I2834f7be313fcb4763dff2a9058f1983ee6a81b3
    Reviewed-on: https://go-review.googlesource.com/c/go/+/338192
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Robert Griesemer <gri@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/importer/iimport.go   |  7 ++--
 src/cmd/compile/internal/noder/decl.go         |  6 ++--
 src/cmd/compile/internal/noder/expr.go         |  2 +-
 src/cmd/compile/internal/noder/reader2.go      |  2 +-
 src/cmd/compile/internal/noder/types.go        | 10 +++---
 src/cmd/compile/internal/noder/writer.go       | 26 +++++++++------
 src/cmd/compile/internal/types2/api_test.go    |  2 +-
 src/cmd/compile/internal/types2/assignments.go |  2 +-
 src/cmd/compile/internal/types2/builtins.go    |  3 +-
 src/cmd/compile/internal/types2/call.go        | 20 +++++------
 src/cmd/compile/internal/types2/decl.go        | 12 +++----
 src/cmd/compile/internal/types2/index.go       |  2 +-
 src/cmd/compile/internal/types2/instance.go    |  2 +-
 src/cmd/compile/internal/types2/instantiate.go | 10 +++---
 src/cmd/compile/internal/types2/lookup.go      | 22 ++++++------
 src/cmd/compile/internal/types2/named.go       | 12 +++----
 src/cmd/compile/internal/types2/object.go      |  4 +--
 src/cmd/compile/internal/types2/predicates.go  |  2 +-
 src/cmd/compile/internal/types2/signature.go   | 31 ++++++++---------
 src/cmd/compile/internal/types2/sizeof_test.go |  4 +--
 src/cmd/compile/internal/types2/subst.go       |  4 +--
 src/cmd/compile/internal/types2/typeparam.go   | 46 ++++++++++++++++++++++++--
 src/cmd/compile/internal/types2/typestring.go  |  4 +--
 23 files changed, 142 insertions(+), 93 deletions(-)
