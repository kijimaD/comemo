commit 376a079762bf8db387510d50ed718ec1259d1b7c
Author: Cuong Manh Le <cuong.manhle.vn@gmail.com>
Date:   Fri Sep 3 10:49:32 2021 +0700

    cmd/compile: fix unified IR panic when expanding nested inline function
    
    When reading body of inlining function, which has another inlined
    function in the body, the reader still add this inlined function to
    todoBodies, which it shouldn't because the inlined function was read
    already.
    
    To fix this, introduce new flag to signal that we are done construting
    all functions in todoBodies, thus the addBody shouldn't add anything
    to todoBodies then.
    
    Updates #48094
    
    Change-Id: I45105dd518f0a7b69c6dcbaf23b957623f271203
    Reviewed-on: https://go-review.googlesource.com/c/go/+/347529
    Trust: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Run-TryBot: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/noder/reader.go  | 7 ++++++-
 src/cmd/compile/internal/noder/unified.go | 1 +
 test/typeparam/issue48094b.dir/a.go       | 8 ++++++++
 test/typeparam/issue48094b.dir/b.go       | 9 +++++++++
 test/typeparam/issue48094b.go             | 7 +++++++
 5 files changed, 31 insertions(+), 1 deletion(-)
