commit 5622a4b2054664edcdd64974b9df73b440aedfae
Author: Michael Pratt <mpratt@google.com>
Date:   Wed Nov 1 17:06:08 2023 -0400

    os/signal: remove go t.Run from TestNohup
    
    Since CL 226138, TestNohup has a bit of a strange construction: it wants
    to run the "uncaught" subtests in parallel with each other, and the
    "nohup" subtests in parallel with each other, but also needs join
    between "uncaught" and "nohop" so it can Stop notifying for SIGHUP.
    
    It achieves this by doing `go t.Run` with a WaitGroup rather than using
    `t.Parallel` in the subtest (which would make `t.Run` return immediately).
    
    However, this makes things more difficult to understand than necessary.
    As noted on https://pkg.go.dev/testing#hdr-Subtests_and_Sub_benchmarks,
    a second layer of subtest can be used to join parallel subtests.
    
    Switch to this form, which makes the test simpler to follow
    (particularly the cleanup that goes with "uncaught").
    
    For #63799.
    
    Change-Id: Ibfce0f439508a7cfca848c7ccfd136c9c453ad8b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/538899
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Bryan Mills <bcmills@google.com>

 src/os/signal/signal_test.go | 162 +++++++++++++++++++++----------------------
 1 file changed, 80 insertions(+), 82 deletions(-)
