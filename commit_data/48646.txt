commit 46beeed0ac4cd409554167c315861eaf8ae68c4a
Author: Cherry Mui <cherryyz@google.com>
Date:   Thu Jun 3 18:25:47 2021 -0400

    [dev.typeparams] cmd/compile: allow go'd closure to escape when compiling runtime
    
    When compiling runtime, we don't allow closures to escape,
    because we don't want (implicit) allocations to occur when it is
    not okay to allocate (e.g. in the allocator itself). However, for
    go statement, it already allocates a new goroutine anyway. It is
    okay to allocate the closure. Allow it.
    
    Also include the closure's name when reporting error.
    
    Updates #40724.
    
    Change-Id: Id7574ed17cc27709609a059c4eaa67ba1c4436dc
    Reviewed-on: https://go-review.googlesource.com/c/go/+/325109
    Trust: Cherry Mui <cherryyz@google.com>
    Reviewed-by: Than McIntosh <thanm@google.com>

 src/cmd/compile/internal/ir/expr.go    |  1 +
 src/cmd/compile/internal/ir/func.go    |  4 ++--
 src/cmd/compile/internal/walk/order.go | 14 ++++++--------
 test/fixedbugs/issue14999.go           |  4 ++--
 4 files changed, 11 insertions(+), 12 deletions(-)
