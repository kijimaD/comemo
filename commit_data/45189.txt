commit 492eb059f9ce08285fae8284e69b1103b63e879e
Author: Jay Conrod <jayconrod@google.com>
Date:   Fri Apr 16 13:34:37 2021 -0400

    cmd/go: fix mod_install_pkg_version
    
    mainPackagesOnly now includes non-main packages matched by literal
    arguments in the returned slice, since their errors must be reported.
    
    GoFilesPackages attaches the same error to its package if
    opts.MainOnly is true. This changes the error output of 'go run'
    slightly, but it seems like an imporovement.
    
    For #42088
    
    Change-Id: I8f2942470383af5d4c9763022bc94338f5314b07
    Reviewed-on: https://go-review.googlesource.com/c/go/+/310829
    Trust: Jay Conrod <jayconrod@google.com>
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>

 src/cmd/go/internal/load/pkg.go                    | 32 ++++++++++++++++++----
 src/cmd/go/internal/run/run.go                     |  7 ++---
 .../go/testdata/script/mod_install_pkg_version.txt |  2 +-
 src/cmd/go/testdata/script/mod_outside.txt         |  4 ---
 src/cmd/go/testdata/script/mod_run_pkg_version.txt |  5 ++++
 5 files changed, 34 insertions(+), 16 deletions(-)
