commit 29428e322d6f4eaccb7636e93f31f20cffcf7377
Author: Rob Pike <r@golang.org>
Date:   Wed Jan 28 13:34:13 2015 -0800

    [dev.cc] cmd/asm: check for overflow on multiply and left shift
    
    The internal size of integers is not part of the definition of the assembler,
    so if bits roll out the top it's a portability problem at best.
    
    If you need to use shift to create a mask, use & to restrict the bit count
    before shifting. That will make it portable, too.
    
    Change-Id: I24f9a4d2152c3f9f253e22ff75270fe50c18612b
    Reviewed-on: https://go-review.googlesource.com/3451
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/asm/internal/asm/overflow.go | 35 +++++++++++++++++++++++++++++++++++
 src/cmd/asm/internal/asm/parse.go    | 13 ++++++++++---
 2 files changed, 45 insertions(+), 3 deletions(-)
