commit a41d85498eed6b606d261e3da84c760538d71b4f
Author: Alex Brainman <alex.brainman@gmail.com>
Date:   Wed Jan 12 11:48:15 2011 +1100

    runtime: revert 6974:1f3c3696babb
    
    I missed that environment is used during runtime setup,
    well before go init() functions run. Implemented os-dependent
    runtime.goenvs functions to allow for different unix, plan9 and
    windows versions of environment discovery.
    
    R=rsc, paulzhol
    CC=golang-dev
    https://golang.org/cl/3787046

 src/pkg/os/env_windows.go        |  1 -
 src/pkg/runtime/darwin/thread.c  |  6 ++++++
 src/pkg/runtime/freebsd/thread.c |  6 ++++++
 src/pkg/runtime/linux/thread.c   |  6 ++++++
 src/pkg/runtime/plan9/thread.c   |  5 +++++
 src/pkg/runtime/proc.c           |  1 +
 src/pkg/runtime/runtime.c        | 40 +++++++++++++++++++++-------------------
 src/pkg/runtime/runtime.h        |  4 ++++
 src/pkg/runtime/string.goc       | 30 ++++++++++++++++++++++++++++++
 src/pkg/runtime/tiny/thread.c    |  6 ++++++
 src/pkg/runtime/windows/thread.c | 36 ++++++++++++++++++++++++++++++++++++
 11 files changed, 121 insertions(+), 20 deletions(-)
