commit 7b144ed4f7a730f5c9375bca65010446ad9f4b73
Author: Russ Cox <rsc@golang.org>
Date:   Sun Nov 15 11:40:25 2020 -0500

    [dev.regabi] cmd/compile: rewrite concurrentFlagOk to be clearer
    
    The current implementation copies Debug, clears a bunch of flags
    that are meant to be considered OK, and then checks the result
    against the zero value. But more flags are cleared than remain:
    it's easier to write and to understand to just check the ones that
    need checking.
    
    This phrasing also makes it safe to move more flags into the struct.
    
    It turns out that some of the flags being checked should probably
    not be checked, but this CL is meant to be a strict semantic no-op,
    so left a TODO to clean up the function a bit more later.
    
    Change-Id: I7afe6d7b32b5b889c40dd339568e8602e02df9bc
    Reviewed-on: https://go-review.googlesource.com/c/go/+/271666
    Trust: Russ Cox <rsc@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/gc/main.go | 28 +++++++++++-----------------
 1 file changed, 11 insertions(+), 17 deletions(-)
