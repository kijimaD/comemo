commit 5437cde96cd4228c3b3405cd138b410ffa5523c2
Author: isharipo <iskander.sharipov@intel.com>
Date:   Wed May 16 02:21:59 2018 +0300

    cmd/asm: enable AVX512
    
    - Uncomment tests for AVX512 encoder
    - Permit instruction suffixes for x86
    - Permit limited reg list [reg-reg] syntax for x86 for multi-source ops
    - EVEX encoding support in obj/x86 (Z-cases, asmevex, etc.)
    - optabs and ytabs generated by x86avxgen (https://golang.org/cl/107216)
    
    Note: suffix formatting implemented with updated CConv function.
    Now arch asm backend should register formatting function by
    calling RegisterOpSuffix.
    
    Updates #22779
    
    Change-Id: I076a167ee49582700e058c56ad74e6696710c8c8
    Reviewed-on: https://go-review.googlesource.com/113315
    Run-TryBot: Iskander Sharipov <iskander.sharipov@intel.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/asm/internal/asm/asm.go                    |    13 +
 src/cmd/asm/internal/asm/expr_test.go              |    16 +-
 src/cmd/asm/internal/asm/line_test.go              |    52 +
 src/cmd/asm/internal/asm/operand_test.go           |    64 +
 src/cmd/asm/internal/asm/parse.go                  |    57 +-
 src/cmd/asm/internal/asm/testdata/amd64error.s     |    62 +
 .../internal/asm/testdata/avx512enc/aes_avx512f.s  |   660 +-
 .../asm/testdata/avx512enc/avx512_4fmaps.s         |   120 +-
 .../asm/testdata/avx512enc/avx512_4vnniw.s         |    48 +-
 .../asm/testdata/avx512enc/avx512_bitalg.s         |   296 +-
 .../internal/asm/testdata/avx512enc/avx512_ifma.s  |   376 +-
 .../internal/asm/testdata/avx512enc/avx512_vbmi.s  |   818 +-
 .../internal/asm/testdata/avx512enc/avx512_vbmi2.s |  2760 ++---
 .../internal/asm/testdata/avx512enc/avx512_vnni.s  |   788 +-
 .../asm/testdata/avx512enc/avx512_vpopcntdq.s      |   152 +-
 .../asm/internal/asm/testdata/avx512enc/avx512bw.s |  3866 +++----
 .../asm/internal/asm/testdata/avx512enc/avx512cd.s |   368 +-
 .../asm/internal/asm/testdata/avx512enc/avx512dq.s |  5324 ++++-----
 .../asm/internal/asm/testdata/avx512enc/avx512er.s |   650 +-
 .../asm/internal/asm/testdata/avx512enc/avx512f.s  | 11266 +++++++++----------
 .../asm/internal/asm/testdata/avx512enc/avx512pf.s |    96 +-
 .../internal/asm/testdata/avx512enc/gfni_avx512f.s |   636 +-
 .../asm/testdata/avx512enc/vpclmulqdq_avx512f.s    |   176 +-
 src/cmd/internal/obj/arm/list5.go                  |     1 +
 src/cmd/internal/obj/arm64/list7.go                |     1 +
 src/cmd/internal/obj/link.go                       |     7 +-
 src/cmd/internal/obj/util.go                       |    45 +-
 src/cmd/internal/obj/x86/a.out.go                  |   121 +-
 src/cmd/internal/obj/x86/aenum.go                  |   359 +
 src/cmd/internal/obj/x86/anames.go                 |   359 +
 src/cmd/internal/obj/x86/asm6.go                   |  2836 +++--
 src/cmd/internal/obj/x86/asm_test.go               |    83 +
 src/cmd/internal/obj/x86/avx_optabs.go             |  4610 ++++++++
 src/cmd/internal/obj/x86/evex.go                   |   382 +
 src/cmd/internal/obj/x86/list6.go                  |    84 +
 src/cmd/internal/obj/x86/vex_optabs.go             |   382 -
 36 files changed, 22096 insertions(+), 15838 deletions(-)
