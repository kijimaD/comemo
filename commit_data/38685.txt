commit 0007017f9631f4793f5699d77942c7224ad2b349
Merge: 3169778c15 106db71f37
Author: Filippo Valsorda <filippo@golang.org>
Date:   Wed Nov 14 15:30:58 2018 -0500

    [dev.boringcrypto] all: merge master into dev.boringcrypto
    
    Change-Id: I81b64fe503bf07b4d7bd823286b83e663b5c0f76

 doc/asm.html                                       |   1 +
 misc/cgo/test/cgo_test.go                          |   1 +
 misc/cgo/test/test27660.go                         |  54 ++
 misc/nacl/testzip.proto                            |   3 +
 misc/wasm/wasm_exec.js                             |  82 +-
 src/bufio/bufio_test.go                            |   2 +-
 src/bytes/bytes.go                                 |  19 +
 src/bytes/bytes_decl.go                            |  24 -
 src/cmd/addr2line/main.go                          |   1 +
 src/cmd/asm/internal/arch/arch.go                  |   3 +
 src/cmd/asm/internal/asm/operand_test.go           |   1 +
 src/cmd/asm/internal/asm/testdata/arm64.s          |  36 +-
 src/cmd/asm/internal/asm/testdata/arm64enc.s       |  54 +-
 src/cmd/asm/internal/lex/input.go                  |   2 +-
 src/cmd/cgo/doc.go                                 |   4 +
 src/cmd/cgo/out.go                                 |  17 +-
 src/cmd/compile/fmt_test.go                        |  62 +-
 src/cmd/compile/internal/gc/builtin.go             | 302 ++++---
 src/cmd/compile/internal/gc/builtin/runtime.go     |  22 +-
 src/cmd/compile/internal/gc/closure.go             |   2 +-
 src/cmd/compile/internal/gc/dwinl.go               |   2 +-
 src/cmd/compile/internal/gc/fmt.go                 |   7 +
 src/cmd/compile/internal/gc/go.go                  |   1 -
 src/cmd/compile/internal/gc/gsubr.go               |  18 -
 src/cmd/compile/internal/gc/iexport.go             |   2 +-
 src/cmd/compile/internal/gc/inl.go                 |  14 +-
 src/cmd/compile/internal/gc/inl_test.go            |   1 +
 src/cmd/compile/internal/gc/lex.go                 |   8 +
 src/cmd/compile/internal/gc/lex_test.go            |  56 +-
 src/cmd/compile/internal/gc/main.go                |  11 +-
 src/cmd/compile/internal/gc/obj.go                 |  16 +-
 src/cmd/compile/internal/gc/op_string.go           |   4 +-
 src/cmd/compile/internal/gc/plive.go               |  65 +-
 src/cmd/compile/internal/gc/reflect.go             |   4 +-
 src/cmd/compile/internal/gc/ssa.go                 |   2 +-
 src/cmd/compile/internal/gc/syntax.go              |   2 +-
 src/cmd/compile/internal/gc/typecheck.go           | 132 ++-
 src/cmd/compile/internal/gc/universe.go            |   2 -
 src/cmd/compile/internal/gc/walk.go                | 163 ++--
 src/cmd/compile/internal/ppc64/ssa.go              |   2 +-
 src/cmd/compile/internal/ssa/config.go             |   2 +-
 src/cmd/compile/internal/ssa/debug.go              |   2 +-
 src/cmd/compile/internal/ssa/func.go               |   2 +-
 src/cmd/compile/internal/ssa/gen/PPC64.rules       |   7 +
 src/cmd/compile/internal/ssa/gen/PPC64Ops.go       |  39 +-
 src/cmd/compile/internal/ssa/gen/generic.rules     |  20 +-
 src/cmd/compile/internal/ssa/gen/genericOps.go     |   2 +-
 src/cmd/compile/internal/ssa/gen/rulegen.go        |   8 +-
 src/cmd/compile/internal/ssa/opGen.go              |  48 +
 src/cmd/compile/internal/ssa/poset.go              |   8 +-
 src/cmd/compile/internal/ssa/rewrite.go            |  11 +-
 src/cmd/compile/internal/ssa/rewritePPC64.go       | 922 ++++++++++++++++++--
 src/cmd/compile/internal/ssa/rewritegeneric.go     |  53 +-
 .../internal/ssa/testdata/hist.dlv-opt.nexts       |   4 +
 .../internal/ssa/testdata/hist.gdb-opt.nexts       |   4 +
 src/cmd/compile/internal/ssa/trim.go               |   4 +-
 src/cmd/compile/internal/types/type.go             |  37 +-
 src/cmd/fix/fix.go                                 |   2 +-
 src/cmd/go/alldocs.go                              |  22 +-
 src/cmd/go/internal/cache/hash.go                  |   2 +-
 src/cmd/go/internal/cmdflag/flag.go                |   6 +-
 src/cmd/go/internal/modcmd/edit.go                 |  26 +-
 src/cmd/go/internal/modfile/rule.go                |  20 +-
 src/cmd/go/internal/modload/help.go                |  17 +-
 src/cmd/go/internal/modload/init.go                |  22 +
 src/cmd/go/internal/test/test.go                   |  36 +-
 src/cmd/go/internal/test/testflag.go               |   4 +-
 src/cmd/go/internal/vet/vet.go                     |   2 +-
 src/cmd/go/internal/vet/vetflag.go                 |  50 +-
 src/cmd/go/internal/work/buildid.go                |   3 +-
 src/cmd/go/internal/work/exec.go                   |  13 +-
 src/cmd/go/internal/work/gc.go                     |   3 +
 src/cmd/go/main.go                                 |  11 -
 src/cmd/go/script_test.go                          |  32 +
 src/cmd/go/testdata/script/README                  |   5 +
 src/cmd/go/testdata/script/help.txt                |   8 +-
 src/cmd/go/testdata/script/mod_edit.txt            |  45 +-
 src/cmd/go/testdata/script/mod_edit_go.txt         |  16 +
 src/cmd/go/testdata/script/mod_go_version.txt      |  16 +-
 src/cmd/go/testdata/script/mod_readonly.txt        |   2 +
 src/cmd/go/testdata/script/mod_tidy.txt            |   9 +
 src/cmd/internal/dwarf/dwarf.go                    |   2 +-
 src/cmd/internal/obj/arm64/a.out.go                |   2 +
 src/cmd/internal/obj/arm64/anames7.go              |   2 +
 src/cmd/internal/obj/arm64/asm7.go                 | 362 ++++++--
 src/cmd/internal/obj/arm64/doc.go                  |  10 +-
 src/cmd/internal/obj/arm64/obj7.go                 |   9 +-
 src/cmd/internal/obj/link.go                       |   6 +-
 src/cmd/internal/obj/objfile.go                    |  24 +-
 src/cmd/internal/obj/plist.go                      |  12 -
 src/cmd/internal/obj/wasm/a.out.go                 |   2 +-
 src/cmd/internal/obj/wasm/wasmobj.go               |  24 +-
 src/cmd/internal/obj/x86/asm6.go                   |   4 +-
 src/cmd/link/internal/arm64/asm.go                 |   2 +-
 src/cmd/link/internal/ld/dwarf.go                  |  28 +-
 src/cmd/link/internal/ld/lib.go                    |   2 +-
 src/cmd/link/internal/ld/pe.go                     |   2 +-
 src/cmd/link/internal/ld/symtab.go                 |   4 +-
 src/cmd/link/internal/sym/symbol.go                |   8 +
 src/cmd/link/internal/sym/symbols.go               |   9 +-
 src/cmd/link/internal/wasm/asm.go                  |  28 +-
 src/cmd/trace/annotations.go                       |   2 +-
 src/cmd/trace/main.go                              |   3 +-
 src/cmd/trace/mmu.go                               | 403 +++++++++
 src/cmd/trace/trace.go                             |  30 +-
 .../github.com/google/pprof/driver/driver.go       |  43 +-
 .../google/pprof/internal/binutils/binutils.go     | 109 ++-
 .../pprof/internal/binutils/binutils_test.go       |  29 +
 .../pprof/internal/binutils/testdata/malformed_elf |   1 +
 .../internal/binutils/testdata/malformed_macho     |   1 +
 .../github.com/google/pprof/internal/driver/cli.go |   7 +-
 .../google/pprof/internal/driver/commands.go       |  38 +-
 .../google/pprof/internal/driver/driver.go         |  64 +-
 .../google/pprof/internal/driver/driver_test.go    | 117 ++-
 .../google/pprof/internal/driver/fetch.go          |  60 +-
 .../google/pprof/internal/driver/fetch_test.go     | 165 +++-
 .../google/pprof/internal/driver/flags.go          |  78 ++
 .../google/pprof/internal/driver/flamegraph.go     |  18 +-
 .../pprof/internal/driver/flamegraph_test.go       |  46 -
 .../pprof/internal/driver/interactive_test.go      |  19 +-
 .../google/pprof/internal/driver/options.go        |  64 +-
 .../pprof.cpu.flat.addresses.noinlines.text        |   7 +
 .../pprof.cpu.flat.filefunctions.noinlines.text    |   5 +
 .../pprof.cpu.flat.functions.noinlines.text        |   5 +
 .../driver/testdata/pprof.cpu.lines.topproto       |   3 +
 .../driver/testdata/pprof.longNameFuncs.dot        |   9 +
 .../driver/testdata/pprof.longNameFuncs.text       |   5 +
 .../google/pprof/internal/driver/webhtml.go        |  84 +-
 .../google/pprof/internal/driver/webui.go          |  26 +-
 .../google/pprof/internal/elfexec/elfexec.go       |  28 +-
 .../google/pprof/internal/elfexec/elfexec_test.go  |  11 +-
 .../google/pprof/internal/graph/dotgraph.go        |   1 +
 .../google/pprof/internal/graph/graph.go           |  29 +-
 .../google/pprof/internal/graph/graph_test.go      | 157 ++++
 .../google/pprof/internal/plugin/plugin.go         |  15 +-
 .../google/pprof/internal/report/report.go         |  24 +-
 .../google/pprof/internal/report/report_test.go    |  21 +-
 .../google/pprof/internal/symbolizer/symbolizer.go |  31 +-
 .../pprof/internal/symbolizer/symbolizer_test.go   |   4 +-
 .../google/pprof/internal/symbolz/symbolz.go       |  35 +-
 .../google/pprof/internal/symbolz/symbolz_test.go  |  28 +
 .../google/pprof/internal/transport/transport.go   | 131 +++
 .../google/pprof/profile/legacy_java_profile.go    |   2 +-
 .../github.com/google/pprof/profile/profile.go     |   6 +
 .../google/pprof/profile/profile_test.go           |  53 ++
 .../pprof/profile/testdata/java.contention.string  |   2 +-
 src/cmd/vendor/golang.org/x/tools/LICENSE          |  27 +
 src/cmd/vendor/golang.org/x/tools/PATENTS          |  22 +
 .../golang.org/x/tools/go/analysis/analysis.go     | 192 ++++
 .../x/tools/go/analysis/cmd/vet-lite/main.go       |  83 ++
 .../vendor/golang.org/x/tools/go/analysis/doc.go   | 328 +++++++
 .../go/analysis/internal/analysisflags/flags.go    | 223 +++++
 .../x/tools/go/analysis/internal/facts/facts.go    | 299 +++++++
 .../x/tools/go/analysis/internal/facts/imports.go  |  88 ++
 .../analysis/internal/unitchecker/unitchecker.go   | 306 +++++++
 .../x/tools/go/analysis/passes/asmdecl/asmdecl.go  | 759 ++++++++++++++++
 .../x/tools/go/analysis/passes/assign/assign.go    |  68 ++
 .../x/tools/go/analysis/passes/atomic/atomic.go    |  96 ++
 .../x/tools/go/analysis/passes/bools/bools.go      | 214 +++++
 .../tools/go/analysis/passes/buildtag/buildtag.go  | 159 ++++
 .../x/tools/go/analysis/passes/cgocall/cgocall.go  | 226 +++++
 .../go/analysis/passes/composite/composite.go      | 108 +++
 .../go/analysis/passes/composite/whitelist.go      |  33 +
 .../tools/go/analysis/passes/copylock/copylock.go  | 300 +++++++
 .../tools/go/analysis/passes/ctrlflow/ctrlflow.go  | 225 +++++
 .../analysis/passes/httpresponse/httpresponse.go   | 177 ++++
 .../x/tools/go/analysis/passes/inspect/inspect.go  |  45 +
 .../analysis/passes/internal/analysisutil/util.go  | 106 +++
 .../go/analysis/passes/loopclosure/loopclosure.go  | 130 +++
 .../go/analysis/passes/lostcancel/lostcancel.go    | 304 +++++++
 .../x/tools/go/analysis/passes/nilfunc/nilfunc.go  |  74 ++
 .../x/tools/go/analysis/passes/pkgfact/pkgfact.go  | 127 +++
 .../x/tools/go/analysis/passes/printf/printf.go    | 964 +++++++++++++++++++++
 .../x/tools/go/analysis/passes/printf/types.go     | 223 +++++
 .../x/tools/go/analysis/passes/shift/dead.go       | 101 +++
 .../x/tools/go/analysis/passes/shift/shift.go      | 128 +++
 .../go/analysis/passes/stdmethods/stdmethods.go    | 211 +++++
 .../go/analysis/passes/structtag/structtag.go      | 260 ++++++
 .../x/tools/go/analysis/passes/tests/tests.go      | 175 ++++
 .../go/analysis/passes/unreachable/unreachable.go  | 314 +++++++
 .../go/analysis/passes/unsafeptr/unsafeptr.go      | 130 +++
 .../analysis/passes/unusedresult/unusedresult.go   | 131 +++
 .../golang.org/x/tools/go/analysis/validate.go     | 104 +++
 .../golang.org/x/tools/go/ast/astutil/enclosing.go | 627 ++++++++++++++
 .../golang.org/x/tools/go/ast/astutil/imports.go   | 471 ++++++++++
 .../golang.org/x/tools/go/ast/astutil/rewrite.go   | 477 ++++++++++
 .../golang.org/x/tools/go/ast/astutil/util.go      |  14 +
 .../x/tools/go/ast/inspector/inspector.go          | 182 ++++
 .../golang.org/x/tools/go/ast/inspector/typeof.go  | 216 +++++
 .../vendor/golang.org/x/tools/go/cfg/builder.go    | 510 +++++++++++
 src/cmd/vendor/golang.org/x/tools/go/cfg/cfg.go    | 150 ++++
 .../x/tools/go/types/objectpath/objectpath.go      | 523 +++++++++++
 .../golang.org/x/tools/go/types/typeutil/callee.go |  46 +
 .../x/tools/go/types/typeutil/imports.go           |  31 +
 .../golang.org/x/tools/go/types/typeutil/map.go    | 313 +++++++
 .../x/tools/go/types/typeutil/methodsetcache.go    |  72 ++
 .../golang.org/x/tools/go/types/typeutil/ui.go     |  52 ++
 src/cmd/vendor/vendor.json                         | 292 ++++++-
 src/cmd/vet/all/whitelist/386.txt                  |   4 -
 src/cmd/vet/all/whitelist/all.txt                  |   4 -
 src/cmd/vet/all/whitelist/amd64.txt                |   1 -
 src/cmd/vet/all/whitelist/arm.txt                  |   1 -
 src/cmd/vet/all/whitelist/arm64.txt                |   1 -
 src/cmd/vet/all/whitelist/mipsx.txt                |   1 -
 src/cmd/vet/all/whitelist/nacl_amd64p32.txt        |   1 -
 src/cmd/vet/all/whitelist/ppc64x.txt               |   1 -
 src/cmd/vet/all/whitelist/s390x.txt                |   1 -
 src/cmd/vet/all/whitelist/wasm.txt                 |   1 -
 src/cmd/vet/print.go                               |   2 +-
 src/cmd/vet/testdata/print.go                      |  36 +-
 src/cmd/vet/types.go                               |  22 +-
 src/cmd/vet/vet_test.go                            |   3 +-
 src/crypto/md5/md5block_decl.go                    |   2 +-
 src/crypto/md5/md5block_generic.go                 |   2 +-
 .../md5/{md5block_ppc64le.s => md5block_ppc64x.s}  |  37 +-
 src/crypto/tls/auth.go                             |  33 +
 src/crypto/tls/cipher_suites.go                    |  32 +-
 src/crypto/tls/common.go                           |  78 +-
 src/crypto/tls/conn.go                             | 247 +++---
 src/crypto/tls/handshake_client.go                 | 300 ++++---
 src/crypto/tls/handshake_client_test.go            | 267 +++++-
 src/crypto/tls/handshake_client_tls13.go           | 292 ++++++-
 src/crypto/tls/handshake_messages.go               | 199 ++++-
 src/crypto/tls/handshake_messages_test.go          |  28 +
 src/crypto/tls/handshake_server.go                 | 248 +++---
 src/crypto/tls/handshake_server_test.go            | 215 ++++-
 src/crypto/tls/handshake_server_tls13.go           | 827 ++++++++++++++++++
 src/crypto/tls/key_schedule.go                     |  11 +
 src/crypto/tls/prf_test.go                         |  17 +-
 .../tls/testdata/Client-TLSv13-AES128-SHA256       | 169 ++--
 .../tls/testdata/Client-TLSv13-AES256-SHA384       | 173 ++--
 src/crypto/tls/testdata/Client-TLSv13-ALPN         | 171 ++--
 .../tls/testdata/Client-TLSv13-CHACHA20-SHA256     | 169 ++--
 .../testdata/Client-TLSv13-ClientCert-ECDSA-RSA    | 236 +++++
 .../testdata/Client-TLSv13-ClientCert-RSA-ECDSA    | 228 +++++
 .../testdata/Client-TLSv13-ClientCert-RSA-RSAPSS   | 230 +++++
 src/crypto/tls/testdata/Client-TLSv13-ECDSA        | 159 ++--
 .../testdata/Client-TLSv13-ExportKeyingMaterial    | 169 ++--
 .../tls/testdata/Client-TLSv13-HelloRetryRequest   | 205 +++--
 src/crypto/tls/testdata/Client-TLSv13-KeyUpdate    | 132 +++
 src/crypto/tls/testdata/Client-TLSv13-P256-ECDHE   | 171 ++--
 .../testdata/Client-TLSv13-RenegotiationRejected   | 107 ---
 src/crypto/tls/testdata/Client-TLSv13-X25519-ECDHE | 167 ++--
 src/crypto/tls/testdata/Server-TLSv12-P256         |  85 ++
 ...5519-ECDHE-RSA-AES-GCM => Server-TLSv12-X25519} |   0
 .../tls/testdata/Server-TLSv13-AES128-SHA256       | 100 +++
 .../tls/testdata/Server-TLSv13-AES256-SHA384       | 103 +++
 src/crypto/tls/testdata/Server-TLSv13-ALPN         | 104 +++
 src/crypto/tls/testdata/Server-TLSv13-ALPN-NoMatch | 104 +++
 .../tls/testdata/Server-TLSv13-CHACHA20-SHA256     | 100 +++
 .../Server-TLSv13-ClientAuthRequestedAndECDSAGiven | 184 ++++
 .../Server-TLSv13-ClientAuthRequestedAndGiven      | 180 ++++
 .../Server-TLSv13-ClientAuthRequestedNotGiven      | 109 +++
 .../tls/testdata/Server-TLSv13-ECDHE-ECDSA-AES     |  96 ++
 .../testdata/Server-TLSv13-ExportKeyingMaterial    | 103 +++
 .../tls/testdata/Server-TLSv13-HelloRetryRequest   | 129 +++
 src/crypto/tls/testdata/Server-TLSv13-IssueTicket  | 103 +++
 .../testdata/Server-TLSv13-IssueTicketPreDisable   | 103 +++
 src/crypto/tls/testdata/Server-TLSv13-P256         | 106 +++
 src/crypto/tls/testdata/Server-TLSv13-RSA-RSAPSS   | 101 +++
 src/crypto/tls/testdata/Server-TLSv13-Resume       |  66 ++
 .../Server-TLSv13-Resume-HelloRetryRequest         | 106 +++
 .../tls/testdata/Server-TLSv13-ResumeDisabled      | 104 +++
 src/crypto/tls/testdata/Server-TLSv13-X25519       | 102 +++
 src/crypto/tls/ticket.go                           |  63 +-
 src/crypto/x509/x509.go                            |   2 +-
 src/database/sql/convert.go                        |  45 +-
 src/database/sql/driver/driver.go                  |   5 +
 src/database/sql/fakedb_test.go                    |  20 +-
 src/database/sql/sql.go                            |  10 +-
 src/database/sql/sql_test.go                       |  46 +
 src/debug/gosym/pclntab_test.go                    |  38 +-
 src/debug/gosym/testdata/main.go                   |  10 +
 src/debug/gosym/{ => testdata}/pclinetest.h        |   0
 .../{pclinetest.asm => testdata/pclinetest.s}      |  14 +-
 src/encoding/asn1/asn1.go                          |   2 +-
 src/go/build/deps_test.go                          |   2 +-
 src/go/build/read_test.go                          |   7 +-
 src/go/doc/example.go                              |  12 +
 src/go/doc/example_test.go                         |  62 ++
 src/go/doc/reader.go                               |   2 +-
 src/go/internal/gcimporter/gcimporter_test.go      | 113 ++-
 src/go/printer/nodes.go                            |   2 +-
 src/go/types/builtins.go                           |   2 +-
 src/go/types/resolver.go                           |  18 +
 src/go/types/scope.go                              |   2 +-
 src/go/types/type.go                               |   2 +-
 src/html/template/js.go                            |   2 +-
 src/html/template/url.go                           |   2 +-
 src/internal/bytealg/compare_386.s                 |   9 -
 src/internal/bytealg/compare_amd64.s               |   9 -
 src/internal/bytealg/compare_amd64p32.s            |  10 -
 src/internal/bytealg/compare_arm.s                 |   9 -
 src/internal/bytealg/compare_arm64.s               |   9 -
 src/internal/bytealg/compare_generic.go            |  28 -
 src/internal/bytealg/compare_mipsx.s               |  33 -
 src/internal/bytealg/compare_native.go             |   9 +
 src/internal/bytealg/compare_ppc64x.s              |  31 -
 src/internal/bytealg/compare_s390x.s               |   9 -
 src/internal/bytealg/compare_wasm.s                |  11 -
 src/internal/bytealg/equal_386.s                   |  19 -
 src/internal/bytealg/equal_amd64.s                 |  19 -
 src/internal/bytealg/equal_amd64p32.s              |  20 -
 src/internal/bytealg/equal_arm.s                   |   4 -
 src/internal/bytealg/equal_arm64.s                 |  21 -
 src/internal/bytealg/equal_mips64x.s               |   4 -
 src/internal/bytealg/equal_mipsx.s                 |   4 -
 src/internal/bytealg/equal_native.go               |  12 +
 src/internal/bytealg/equal_ppc64x.s                |  20 -
 src/internal/bytealg/equal_s390x.s                 |  13 -
 src/internal/bytealg/equal_wasm.s                  |  21 -
 src/internal/bytealg/indexbyte_386.s               |   8 -
 src/internal/bytealg/indexbyte_amd64.s             |  24 -
 src/internal/bytealg/indexbyte_amd64p32.s          |  18 -
 src/internal/bytealg/indexbyte_arm.s               |   8 -
 src/internal/bytealg/indexbyte_arm64.s             |  16 -
 src/internal/bytealg/indexbyte_generic.go          |  22 -
 src/internal/bytealg/indexbyte_mips64x.s           |   8 -
 src/internal/bytealg/indexbyte_mipsx.s             |   8 -
 src/internal/bytealg/indexbyte_ppc64x.s            |  16 -
 src/internal/bytealg/indexbyte_s390x.s             |  16 -
 src/internal/bytealg/indexbyte_wasm.s              |  45 -
 src/internal/poll/fd_fsync_darwin.go               |  16 +-
 src/internal/poll/fd_fsync_posix.go                |  10 +-
 src/internal/poll/fd_fsync_windows.go              |  16 +
 src/internal/poll/fd_plan9.go                      |   2 +-
 src/internal/poll/fd_poll_nacljs.go                |   2 +-
 src/internal/poll/fd_poll_runtime.go               |   2 +-
 src/internal/poll/fd_unix.go                       |   9 +-
 src/internal/poll/fd_writev_darwin.go              |  16 +
 src/internal/poll/fd_writev_unix.go                |  20 +
 src/internal/poll/writev.go                        |  19 +-
 src/internal/syscall/unix/at.go                    |   2 +-
 src/internal/syscall/unix/at_darwin.go             |  31 +
 src/internal/syscall/unix/empty.s                  |   5 +
 src/internal/syscall/unix/nonblocking.go           |   2 +-
 src/internal/syscall/unix/nonblocking_darwin.go    |  24 +
 src/internal/traceparser/gc.go                     | 825 ++++++++++++++++++
 src/internal/traceparser/gc_test.go                | 198 +++++
 src/internal/traceparser/mud.go                    | 223 +++++
 src/internal/traceparser/mud_test.go               |  87 ++
 src/math/big/float.go                              |   2 +-
 src/math/cmplx/isinf.go                            |   2 +-
 src/math/cmplx/isnan.go                            |   2 +-
 src/math/signbit.go                                |   2 +-
 src/mime/multipart/multipart.go                    |   3 +-
 src/mime/multipart/multipart_test.go               |  10 +-
 src/net/http/roundtrip_js.go                       |  21 +-
 src/net/http/server.go                             |  55 +-
 src/net/http/server_test.go                        |  45 +
 src/net/http/socks_bundle.go                       |   1 +
 src/net/interface.go                               |  40 +-
 src/net/interface_bsd_test.go                      |   5 +
 src/net/interface_linux_test.go                    |  25 +
 src/net/interface_unix_test.go                     |  34 +
 src/os/exec_windows.go                             |   6 +
 src/os/stat_windows.go                             |   2 +-
 src/path/filepath/match_test.go                    |   2 +-
 src/reflect/all_test.go                            |  11 +
 src/reflect/type.go                                |  81 +-
 src/reflect/value.go                               |   2 +
 src/regexp/syntax/regexp.go                        |   2 +-
 src/runtime/asm.s                                  |   8 +
 src/runtime/asm_386.s                              |   3 -
 src/runtime/asm_amd64.s                            |   3 -
 src/runtime/asm_amd64p32.s                         |   3 -
 src/runtime/asm_arm.s                              |   3 -
 src/runtime/asm_arm64.s                            |   3 -
 src/runtime/asm_mips64x.s                          |   3 -
 src/runtime/asm_mipsx.s                            |   3 -
 src/runtime/asm_ppc64x.s                           |   3 -
 src/runtime/asm_s390x.s                            |   3 -
 src/runtime/asm_wasm.s                             |   3 -
 src/runtime/cgo/callbacks.go                       |   9 +-
 src/runtime/cgocall.go                             |  28 +-
 src/runtime/extern.go                              |   1 +
 src/runtime/heapdump.go                            |   4 +-
 src/runtime/iface.go                               | 134 +--
 src/runtime/internal/sys/zgoos_aix.go              |   4 +-
 src/runtime/internal/sys/zgoos_android.go          |   3 +-
 src/runtime/internal/sys/zgoos_darwin.go           |   3 +-
 src/runtime/internal/sys/zgoos_dragonfly.go        |   3 +-
 src/runtime/internal/sys/zgoos_freebsd.go          |   3 +-
 src/runtime/internal/sys/zgoos_hurd.go             |  23 +
 src/runtime/internal/sys/zgoos_js.go               |   2 +
 src/runtime/internal/sys/zgoos_linux.go            |   3 +-
 src/runtime/internal/sys/zgoos_nacl.go             |   3 +-
 src/runtime/internal/sys/zgoos_netbsd.go           |   3 +-
 src/runtime/internal/sys/zgoos_openbsd.go          |   3 +-
 src/runtime/internal/sys/zgoos_plan9.go            |   3 +-
 src/runtime/internal/sys/zgoos_solaris.go          |   3 +-
 src/runtime/internal/sys/zgoos_windows.go          |   3 +-
 src/runtime/internal/sys/zgoos_zos.go              |   3 +-
 src/runtime/lock_futex.go                          |   2 +-
 src/runtime/lock_js.go                             |  67 +-
 src/runtime/lock_sema.go                           |   2 +-
 src/runtime/map_test.go                            |  10 +-
 src/runtime/mbitmap.go                             |   2 +-
 src/runtime/mcache.go                              |   2 +-
 src/runtime/mcentral.go                            |  12 +-
 src/runtime/memclr_ppc64x.s                        | 129 ++-
 src/runtime/memmove_ppc64x.s                       |  51 +-
 src/runtime/mfixalloc.go                           |   2 +-
 src/runtime/mgc.go                                 |   6 +-
 src/runtime/mgcmark.go                             |   2 +-
 src/runtime/mgcsweep.go                            |  20 +-
 src/runtime/mgcwork.go                             |   4 +-
 src/runtime/mheap.go                               |  80 +-
 src/runtime/mstats.go                              |   2 +-
 src/runtime/mwbbuf.go                              |   2 +-
 src/runtime/netpoll.go                             |   2 +-
 src/runtime/os_linux_arm64.go                      |  10 +-
 src/runtime/os_nacl.go                             |   9 +
 src/runtime/panic.go                               |   4 +-
 src/runtime/pprof/internal/profile/profile.go      |   2 +-
 src/runtime/proc.go                                |  68 +-
 src/runtime/race.go                                |  77 ++
 src/runtime/rt0_js_wasm.s                          | 122 +--
 src/runtime/runtime-gdb_test.go                    |   8 +-
 src/runtime/runtime2.go                            |   1 +
 src/runtime/signal_windows.go                      |   2 +-
 src/runtime/stack_test.go                          |   3 +
 src/runtime/stubs.go                               |   2 +
 src/runtime/stubs_386.go                           |   8 +
 src/runtime/symtab.go                              |  24 +-
 src/runtime/sys_darwin.go                          |  55 ++
 src/runtime/sys_darwin_32.go                       |  21 +
 src/runtime/sys_darwin_386.s                       | 234 +++++
 src/runtime/sys_darwin_64.go                       |  21 +
 src/runtime/sys_darwin_amd64.s                     | 196 +++++
 src/runtime/sys_darwin_arm.s                       | 174 ++++
 src/runtime/sys_darwin_arm64.s                     | 190 +++-
 .../testdata/testprog/traceback_ancestors.go       |  56 +-
 src/runtime/traceback.go                           |   4 +-
 src/strings/compare_test.go                        |  13 +-
 src/strings/strings.go                             |   6 +-
 src/strings/strings_decl.go                        |  10 -
 src/sync/runtime.go                                |   2 +-
 src/syscall/asm_windows.s                          |  11 +
 src/syscall/bpf_bsd.go                             |   2 +-
 src/syscall/bpf_darwin.go                          | 185 ++++
 src/syscall/exec_bsd.go                            |  17 +-
 src/syscall/exec_darwin.go                         | 248 ++++++
 src/syscall/exec_unix.go                           |   8 +-
 src/syscall/flock.go                               |   2 +-
 src/syscall/flock_darwin.go                        |  13 +
 src/syscall/fs_js.go                               |   5 +-
 src/syscall/js/callback.go                         | 116 +--
 src/syscall/js/js_test.go                          |  44 +-
 src/syscall/mkall.sh                               |  16 +-
 src/syscall/mkasm_darwin.go                        |  58 ++
 src/syscall/mksyscall.pl                           |  47 +
 src/syscall/mksyscall_windows.go                   |   2 +-
 src/syscall/syscall_bsd.go                         |   2 -
 src/syscall/syscall_darwin.go                      |  95 +-
 src/syscall/syscall_darwin_386.go                  |  28 +-
 src/syscall/syscall_darwin_amd64.go                |  28 +-
 src/syscall/syscall_darwin_arm.go                  |  26 +-
 src/syscall/syscall_darwin_arm64.go                |  26 +-
 src/syscall/syscall_dragonfly.go                   |   1 +
 src/syscall/syscall_freebsd.go                     |   1 +
 src/syscall/syscall_netbsd.go                      |   2 +-
 src/syscall/syscall_openbsd.go                     |   2 +-
 src/syscall/syscall_unix_test.go                   |  18 +-
 src/syscall/zsyscall_darwin_386.go                 | 852 +++++++++++++++---
 src/syscall/zsyscall_darwin_386.s                  | 249 ++++++
 src/syscall/zsyscall_darwin_amd64.go               | 852 +++++++++++++++---
 src/syscall/zsyscall_darwin_amd64.s                | 249 ++++++
 src/syscall/zsyscall_darwin_arm.go                 | 852 +++++++++++++++---
 src/syscall/zsyscall_darwin_arm.s                  | 249 ++++++
 src/syscall/zsyscall_darwin_arm64.go               | 852 +++++++++++++++---
 src/syscall/zsyscall_darwin_arm64.s                | 249 ++++++
 src/time/time.go                                   |   4 +
 src/time/zoneinfo_js.go                            |   5 +-
 test/closure3.dir/main.go                          |   2 +
 test/codegen/comparisons.go                        |  33 +
 test/fixedbugs/issue18640.go                       |   5 +-
 test/fixedbugs/issue20780.go                       |  15 +-
 test/fixedbugs/issue23823.go                       |   8 +-
 test/fixedbugs/issue24939.go                       |   4 +-
 test/fixedbugs/issue27232.go                       |  19 +
 test/fixedbugs/issue27267.go                       |  21 +
 test/fixedbugs/issue28601.go                       |  15 +
 test/fixedbugs/issue28616.go                       |  25 +
 test/fixedbugs/issue7921.go                        |   2 +-
 test/inline.go                                     |  18 +
 test/live_syscall.go                               |   8 +-
 487 files changed, 30246 insertions(+), 4535 deletions(-)
