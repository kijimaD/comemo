commit a86ea80197ed3bf0f276638a9ce079cbd2071d83
Author: Michael Matloob <matloob@golang.org>
Date:   Thu Nov 21 13:16:43 2024 -0500

    cmd/go/internal/tool: set Internal.ExeName on tool's package
    
    While the cached name of an executable is set based on the base name of
    the package path, the executable produced as the output of link doesn't
    have ExeName set on it and is just called a.out (with a .exe suffix on
    Windows). Set ExeName so that the first time the binary is run, from the
    directory link is run in, it has the right name for ps.
    
    For #48429
    
    Change-Id: Ic049304ec6fd5b23c2f5aaaf91aa58d79fe5a7ba
    Cq-Include-Trybots: luci.golang.try:gotip-linux-amd64-longtest,gotip-windows-amd64-longtest
    Reviewed-on: https://go-review.googlesource.com/c/go/+/630695
    Reviewed-by: Conrad Irwin <conrad.irwin@gmail.com>
    Reviewed-by: Hongxiang Jiang <hxjiang@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 src/cmd/go/internal/tool/tool.go            |  1 +
 src/cmd/go/testdata/script/tool_exename.txt | 32 +++++++++++++++++++++++++++++
 2 files changed, 33 insertions(+)
