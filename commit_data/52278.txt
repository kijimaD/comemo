commit 46bc9a6e1e94d0c7929a4835a3d163b721085329
Author: Paul E. Murphy <murp@ibm.com>
Date:   Fri Mar 10 16:05:47 2023 -0600

    runtime,runtime/cgo: fix tsan/pprof/cgo issues
    
    The tsan13 test highlighted a few bugs.
    
    The first being runtime.sigprofNonGoWrapper was being
    called from C code and violating the C ABI.
    
    The second was a missed tsan acquire/release after
    thread creation.
    
    The third was runtime.cgoSigtramp violating ELFv2
    ABI constraints when loading g. It is reworked to
    avoid clobbering R30 and R31 via runtime.load_g.
    
    Change-Id: Ib2d98047fa1b4e72b8045767e86457a8ddfe492e
    Reviewed-on: https://go-review.googlesource.com/c/go/+/475935
    Reviewed-by: Lynn Boger <laboger@linux.vnet.ibm.com>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Run-TryBot: Paul Murphy <murp@ibm.com>
    Reviewed-by: Bryan Mills <bcmills@google.com>
    Reviewed-by: Archana Ravindar <aravind5@in.ibm.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>

 src/runtime/cgo/abi_ppc64x.h   | 161 +++++++++++++++++++++++++++++++++++++++++
 src/runtime/cgo/gcc_ppc64x.c   |   2 +
 src/runtime/sys_linux_ppc64x.s |  57 +++++++++++----
 3 files changed, 206 insertions(+), 14 deletions(-)
