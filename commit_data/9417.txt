commit 18248ced3643a2cfcb4119bd5120aaa2a49b6cc8
Author: Robert Griesemer <gri@golang.org>
Date:   Thu Aug 18 10:28:58 2011 -0700

    go/parser: fix type switch scoping
    
    The variable declared by a TypeSwitchGuard must be
    visible in each TypeCaseClause and must not conflict
    with other variables declared by the initial SimpleStmt
    of a type switch.
    
    Also:
    - explicitly detect type switches (as opposed to detecting
      regular (expression switches) and then do extra testing
      for type switches
    - fix all outstanding TODOs in parser.go
    
    R=rsc
    CC=golang-dev
    https://golang.org/cl/4896053

 src/cmd/gotype/testdata/test1.go | 17 ++++++++
 src/pkg/go/parser/parser.go      | 90 +++++++++++++++++++++++++++-------------
 src/pkg/go/parser/parser_test.go |  3 ++
 3 files changed, 82 insertions(+), 28 deletions(-)
