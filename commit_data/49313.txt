commit aaf914d0e69198a96683c106abb5a931c4956f88
Author: Michael Matloob <matloob@golang.org>
Date:   Mon Aug 2 16:02:45 2021 -0400

    [dev.cmdgo] cmd/go: remove modload.ModRoot function
    
    In some cases, ModRoot was being called in a multi module context. In
    those cases, pass in the correct main module. In other cases, a
    mainModule variable was already available, so call MainModules.ModRoot
    on that mainModule variable to make it more clear. In yet other cases
    ModRoot is just needed to determine GoMod, so determine modroot from
    the current directory in those cases.
    
    For #45713
    
    Change-Id: I8c8aa633cfae40d0c8740bdbf985f2b60c9daf2c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/339171
    Trust: Michael Matloob <matloob@golang.org>
    Run-TryBot: Michael Matloob <matloob@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go/internal/envcmd/env.go      |  2 +-
 src/cmd/go/internal/modcmd/vendor.go   |  2 +-
 src/cmd/go/internal/modget/get.go      | 14 ++++++++--
 src/cmd/go/internal/modload/build.go   |  2 +-
 src/cmd/go/internal/modload/import.go  |  6 ++---
 src/cmd/go/internal/modload/init.go    | 48 +++++++++++++++-------------------
 src/cmd/go/internal/modload/load.go    | 17 +++++++++---
 src/cmd/go/internal/modload/modfile.go |  2 +-
 src/cmd/go/internal/modload/vendor.go  |  6 ++---
 9 files changed, 56 insertions(+), 43 deletions(-)
