commit 6ee739d7e9473d772a371e6f774a424bfcbbb0fc
Author: Dmitriy Vyukov <dvyukov@google.com>
Date:   Tue Mar 12 17:21:44 2013 +0400

    runtime: fix deadlock detector false negative
    The issue was that scvg is assigned *after* the scavenger goroutine is started,
    so when the scavenger calls entersyscall() the g==scvg check can fail.
    Fixes #5025.
    
    R=golang-dev, iant
    CC=golang-dev
    https://golang.org/cl/7629045

 src/pkg/runtime/mheap.c   |  3 +++
 src/pkg/runtime/proc.c    | 11 ++++-------
 src/pkg/runtime/runtime.h |  5 +++--
 3 files changed, 10 insertions(+), 9 deletions(-)
