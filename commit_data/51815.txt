commit 91631bc7e0131367eb051b581cf34573399ac592
Author: Cherry Mui <cherryyz@google.com>
Date:   Wed Mar 16 13:07:57 2022 -0400

    cmd/link: mark unexported methods for plugins
    
    When plugin is used, we already mark all exported methods
    reachable. However, when the plugin and the host program share
    a common package, an unexported method could also be reachable
    from both the plugin and the host via interfaces. We need to mark
    them as well.
    
    Fixes #51621.
    
    Change-Id: I1a70d3f96b66b803f2d0ab14d00ed0df276ea500
    Reviewed-on: https://go-review.googlesource.com/c/go/+/393365
    Trust: Cherry Mui <cherryyz@google.com>
    Run-TryBot: Cherry Mui <cherryyz@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>

 misc/cgo/testplugin/plugin_test.go             |  6 +++++
 misc/cgo/testplugin/testdata/method3/main.go   | 32 ++++++++++++++++++++++++++
 misc/cgo/testplugin/testdata/method3/p/p.go    | 17 ++++++++++++++
 misc/cgo/testplugin/testdata/method3/plugin.go | 11 +++++++++
 src/cmd/link/internal/ld/deadcode.go           |  2 +-
 5 files changed, 67 insertions(+), 1 deletion(-)
