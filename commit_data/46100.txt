commit 3b25f3c1504cdc8f2263d68436df42042251b290
Author: Russ Cox <rsc@golang.org>
Date:   Sat Dec 5 14:46:19 2020 -0500

    [dev.regabi] cmd/compile: simplify Op, Node, Nodes printing
    
    nconvFmt calls base.Fatalf if mode is anything but FErr,
    proving that the only formats that matter for nodes are
    plain %v, %S, and %L. And the nodes formatter can only get to %v.
    (%S and %v are the same; we'll clean that up separately.)
    
    Node and Nodes can therefore ignore mode, and all the mode
    code can be removed from those implementations, removing
    quite a few layers of abstraction.
    
    Op similarly only runs in one mode and can be simplified.
    
    Passes buildall w/ toolstash -cmp.
    
    Change-Id: Ibfd845033e9c68181a20fb81c8f3dd428463920a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/275775
    Trust: Russ Cox <rsc@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/fmtmap_test.go      |   2 -
 src/cmd/compile/internal/gc/walk.go |   2 +-
 src/cmd/compile/internal/ir/fmt.go  | 351 ++++++++++++++++--------------------
 3 files changed, 155 insertions(+), 200 deletions(-)
