commit 2d2866ee8454d096d0dc8b5906324a36cfb3cc6e
Author: Brad Fitzpatrick <bradfitz@golang.org>
Date:   Mon Aug 6 14:12:23 2012 +1000

    net: fix TCPListener file leak to child processes
    
    Hold ForkLock during dup of fd + cloexec in the net pkg,
    per the locking policy documented in syscall/exec_unix.go.
    
    R=golang-dev, dsymonds, adg
    CC=golang-dev
    https://golang.org/cl/6457080

 src/pkg/net/fd.go            |  4 +++
 src/pkg/os/exec/exec_test.go | 60 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 64 insertions(+)
