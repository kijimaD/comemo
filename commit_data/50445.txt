commit 5786a54cfe34069c865fead1b6d9c9e3485a40a5
Author: Tobias Klauser <tklauser@distanz.ch>
Date:   Tue Oct 26 09:13:16 2021 +0200

    syscall: use dup3 in forkAndExecInChild on NetBSD
    
    Use dup3(oldfd, newfd, O_CLOEXEC) to atomically duplicate the file
    descriptor and mark is as close-on-exec instead of dup2 & fcntl.
    
    The dup3 syscall was added in NetBSD 6.0.
    
    Change-Id: I01a4f8c62bfa8fb7f9f3166070380dd2002bb564
    Reviewed-on: https://go-review.googlesource.com/c/go/+/358755
    Trust: Tobias Klauser <tobias.klauser@gmail.com>
    Trust: Benny Siegert <bsiegert@gmail.com>
    Run-TryBot: Tobias Klauser <tobias.klauser@gmail.com>
    Reviewed-by: Benny Siegert <bsiegert@gmail.com>
    TryBot-Result: Go Bot <gobot@golang.org>

 src/syscall/exec_bsd.go               | 33 +++++++++++++++++++++++++--------
 src/syscall/syscall_dragonfly.go      |  2 ++
 src/syscall/syscall_netbsd.go         |  2 ++
 src/syscall/syscall_openbsd_mips64.go |  2 ++
 4 files changed, 31 insertions(+), 8 deletions(-)
