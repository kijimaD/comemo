commit 0fb818a424889a1f12c386fa5fb29814957678cd
Author: Josh Bleecher Snyder <josharian@gmail.com>
Date:   Wed Aug 5 10:33:09 2015 -0700

    [dev.ssa] cmd/compile: copy values during rewrites
    
    Rather than require an explicit Copy on the RHS of rewrite rules,
    use rulegen magic to add it.
    
    The advantages to handling this in rulegen are:
    
    * simpler rules
    * harder to accidentally miss a Copy
    
    Change-Id: I46853bade83bdf517eee9495bf5a553175277b53
    Reviewed-on: https://go-review.googlesource.com/13242
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/ssa/gen/AMD64.rules   |  50 +++---
 src/cmd/compile/internal/ssa/gen/generic.rules |   8 +-
 src/cmd/compile/internal/ssa/gen/rulegen.go    |  12 +-
 src/cmd/compile/internal/ssa/rewriteAMD64.go   | 213 ++++++++++++++-----------
 src/cmd/compile/internal/ssa/rewritegeneric.go |  54 ++++---
 5 files changed, 186 insertions(+), 151 deletions(-)
