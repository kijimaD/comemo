commit d63652b7c69d106a6bab787fbdf7726d39e42406
Author: Joe Tsai <joetsai@digital-static.net>
Date:   Thu Mar 23 01:01:46 2023 -0700

    log/slog: simplify and optimize RFC3339 handling
    
    In CL 421877 and CL 444278, time.Time.AppendFormat has been
    specially optimized for the time.RFC3339Nano representation.
    Relying on that optimization and modify the output to obtain the
    fixed-width millisecond resolution that slog uses.
    
    This both removes a lot of code and also improves performance:
    
            name       old time/op  new time/op  delta
            WriteTime  93.0ns ± 1%  80.8ns ± 0%  -13.17%  (p=0.000 n=8+9)
    
    Change-Id: I61e8f4476c111443e3e2098a45b2c21a76137345
    Reviewed-on: https://go-review.googlesource.com/c/go/+/478757
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Run-TryBot: Joseph Tsai <joetsai@digital-static.net>
    Reviewed-by: Jonathan Amsterdam <jba@google.com>
    Auto-Submit: Joseph Tsai <joetsai@digital-static.net>

 src/log/slog/handler.go                     | 46 ++++++++---------------------
 src/log/slog/handler_test.go                | 12 ++------
 src/log/slog/internal/buffer/buffer.go      | 29 ------------------
 src/log/slog/internal/buffer/buffer_test.go |  3 +-
 4 files changed, 16 insertions(+), 74 deletions(-)
