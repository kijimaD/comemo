commit 4b209dbf0bf3e5fd4cffda1e11f11bf45ddf212d
Author: Keith Randall <khr@golang.org>
Date:   Tue Mar 29 21:25:33 2016 -0700

    runtime: don't use REP;MOVSB if CPUID doesn't say it is fast
    
    Only use REP;MOVSB if:
     1) The CPUID flag says it is fast, and
     2) The pointers are unaligned
    Otherwise, use REP;MOVSQ.
    
    Update #14630
    
    Change-Id: I946b28b87880c08e5eed1ce2945016466c89db66
    Reviewed-on: https://go-review.googlesource.com/21300
    Reviewed-by: Nigel Tao <nigeltao@golang.org>

 src/runtime/asm_386.s       | 10 ++++++++++
 src/runtime/asm_amd64.s     | 21 ++++++++++++++-------
 src/runtime/memmove_386.s   | 19 ++++++++++++-------
 src/runtime/memmove_amd64.s | 24 ++++++++++++++----------
 src/runtime/runtime2.go     |  1 +
 5 files changed, 51 insertions(+), 24 deletions(-)
