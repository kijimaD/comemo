commit 9065c3bf3464f6a94e2b60992a9cba76effc16bc
Author: Austin Clements <austin@google.com>
Date:   Tue Jun 13 08:52:53 2017 -0400

    runtime: support DT_GNU_HASH in VDSO
    
    Currently we only support finding symbols in the VDSO using the old
    DT_HASH. These days everything uses DT_GNU_HASH instead. To keep up
    with the times and future-proof against DT_HASH disappearing from the
    VDSO in the future, this commit adds support for DT_GNU_HASH and
    prefers it over DT_HASH.
    
    Tested by making sure it found a DT_GNU_HASH section and all of the
    expected symbols in it, and then disabling the DT_GNU_HASH path and
    making sure the old DT_HASH path still found all of the symbols.
    
    Fixes #19649.
    
    Change-Id: I508c8b35a019330d2c32f04f3833b69cb2686f13
    Reviewed-on: https://go-review.googlesource.com/45511
    Run-TryBot: Austin Clements <austin@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/runtime/vdso_linux_amd64.go | 112 ++++++++++++++++++++++++++++------------
 1 file changed, 79 insertions(+), 33 deletions(-)
