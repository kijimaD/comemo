commit 068dd0470bb796f9497d3d069c0f3208fd4dda36
Author: Robert Griesemer <gri@golang.org>
Date:   Tue Dec 15 21:55:28 2020 -0800

    [dev.typeparams] cmd/compile/internal/syntax: don't panic when providing -verify
    
    The -verify flag is used to verify idempotent printing of syntax
    trees. While syntax tree printing is not actively used at the
    moment, the verification code still shouldn't panic.
    
    Fixed the cause for the panic (after reading from a bytes.Buffer
    that buffer is empty and so doesn't compare to the unread buffer),
    and replaced the panic with a test error.
    
    Added a test that makes sure the code invoked by -verify is run.
    
    Change-Id: I38634ed7cfa8668deb0ea2ee9fb74a8f86cfc195
    Reviewed-on: https://go-review.googlesource.com/c/go/+/278477
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Robert Griesemer <gri@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/syntax/parser_test.go | 23 +++++++++++++++++------
 1 file changed, 17 insertions(+), 6 deletions(-)
