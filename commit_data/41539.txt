commit 37fc092be1ffe4906f67eae1c4c7be40f00f89ed
Author: Josh Bleecher Snyder <josharian@gmail.com>
Date:   Thu Feb 6 10:36:29 2020 -0800

    cmd/compile: remove duplicate ppc64 rules
    
    Const64 gets lowered to MOVDconst.
    Change rules using interior Const64 to use MOVDconst instead,
    to be less dependent on rule application order.
    
    As a result of doing this, some of the rules end up being
    exact duplicates; remove those.
    
    We had those exact duplicates because of the order dependency;
    ppc64 had no way to optimize away shifts by a constant
    if the initial lowering didn't catch it.
    
    Add those optimizations as well.
    The outcome is the same, but this makes the overall rules more robust.
    
    Change-Id: Iadd97a9fe73d52358d571d022ace145e506d160b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/220877
    Run-TryBot: Josh Bleecher Snyder <josharian@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Lynn Boger <laboger@linux.vnet.ibm.com>

 src/cmd/compile/internal/ppc64/ssa.go        |   2 +-
 src/cmd/compile/internal/ssa/gen/PPC64.rules |  64 +--
 src/cmd/compile/internal/ssa/gen/PPC64Ops.go |  11 +-
 src/cmd/compile/internal/ssa/opGen.go        |  12 +
 src/cmd/compile/internal/ssa/rewritePPC64.go | 786 ++++++++++-----------------
 5 files changed, 341 insertions(+), 534 deletions(-)
