commit d1a186d29ce9d917dda7c66cfaee7788f88e7b9e
Author: Than McIntosh <thanm@google.com>
Date:   Fri Jun 12 09:04:28 2020 -0400

    [dev.link] cmd/link: parallelize second-stage DWARF generation
    
    This patch introduces parallelization of DWARF generation on a per
    compilation unit basis. Each compilation unit now operates on a
    separate set of symbols, so it's safe to send each compilation unit to
    a goroutine to be processed in parallel.
    
    Doing this requires some restructing to ensure that any new symbols
    needed are created up front, since we can't create any new syms during
    the parallel portion. Similarly, the parallel portion can't set any
    symbol attributes, so the check that verifies we haven't doubly listed
    any DIE syms had to be reworked, and setting of reachability has to be
    delayed until after the parallel phase is complete.
    
    Change-Id: I3042b76e9b597bb1a6a44dce19efba2d02bed76b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/237679
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/link/internal/ld/dwarf.go | 315 ++++++++++++++++++++++++--------------
 1 file changed, 197 insertions(+), 118 deletions(-)
