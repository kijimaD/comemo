commit 7bc3e5880675ce4aae245f46d193924cff5efdfb
Author: Russ Cox <rsc@golang.org>
Date:   Fri Jun 5 11:01:53 2015 -0400

    all: extract "can I exec?" check from tests into internal/testenv
    
    Change-Id: I7b54be9d8b50b39e01c6be21f310ae9a10404e9d
    Reviewed-on: https://go-review.googlesource.com/10753
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>
    Reviewed-by: David Crawshaw <crawshaw@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/addr2line/addr2line_test.go   | 17 ++-----
 src/cmd/cover/cover_test.go           | 13 ++---
 src/cmd/go/go_test.go                 | 48 +++++--------------
 src/cmd/go/note_test.go               |  9 +---
 src/cmd/go/vcs_test.go                | 11 ++---
 src/cmd/internal/obj/x86/obj6_test.go |  8 ++--
 src/cmd/nm/nm_test.go                 | 11 +----
 src/cmd/objdump/objdump_test.go       | 11 +----
 src/cmd/pack/pack_test.go             | 22 ++-------
 src/cmd/vet/vet_test.go               | 23 ++-------
 src/crypto/x509/x509_test.go          | 12 +----
 src/go/build/deps_test.go             |  1 +
 src/internal/testenv/testenv.go       | 90 +++++++++++++++++++++++++++++++++++
 src/net/http/cgi/matryoshka_test.go   | 17 ++-----
 src/os/exec/exec_test.go              | 21 +++-----
 src/os/os_test.go                     | 45 ++++--------------
 src/runtime/crash_test.go             | 11 +----
 src/runtime/pprof/pprof_test.go       |  8 +---
 src/runtime/pprof/trace_test.go       |  2 +
 src/syscall/exec_unix_test.go         |  7 ++-
 src/syscall/syscall_unix_test.go      |  9 ++--
 21 files changed, 163 insertions(+), 233 deletions(-)
