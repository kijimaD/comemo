commit 3eb41fbeb6157c043a1c848fe670dd1fd762e177
Author: Mike Samuel <mikesamuel@gmail.com>
Date:   Wed Sep 14 20:40:50 2011 -0700

    exp/template/html: render templates unusable when escaping fails
    
    This moots a caveat in the proposed package documentation by
    rendering useless any template that could not be escaped.
    
    From https://golang.org/cl/4969078/
    > If EscapeSet returns an error, do not Execute the set; it is not
    > safe against injection.
    r: [but isn't the returned set nil? i guess you don't overwrite the
    r: original if there's a problem, but i think you're in your rights to
    r: do so]
    
    R=r
    CC=golang-dev
    https://golang.org/cl/5020043

 src/pkg/exp/template/html/doc.go         |  1 -
 src/pkg/exp/template/html/escape.go      | 23 ++++++++++++++++-------
 src/pkg/exp/template/html/escape_test.go | 29 +++++++++++++++++++++++++++++
 3 files changed, 45 insertions(+), 8 deletions(-)
