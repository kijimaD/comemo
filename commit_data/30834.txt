commit 54ef0447fed1a59b95111b86a037c3443daf0b9b
Author: Robert Griesemer <gri@golang.org>
Date:   Thu Dec 1 22:04:49 2016 -0800

    [dev.inline] cmd/compile/internal/syntax: clean up error and pragma handling
    
    Reviewed in and cherry-picked from https://go-review.googlesource.com/#/c/33873/.
    
    - simplify error handling in source.go
      (move handling of first error into parser, where it belongs)
    
    - clean up error handling in scanner.go
    
    - move pragma and position base handling from scanner
      to parser where it belongs
    
    - have separate error methods in parser to avoid confusion
      with handlers from scanner.go and source.go
    
    - (source.go) and (scanner.go, source.go, tokens.go)
      may be stand-alone packages if so desired, which means
      these files are now less entangled and easier to maintain
    
    Change-Id: I81510fc7ef943b78eaa49092c0eab2075a05878c
    Reviewed-on: https://go-review.googlesource.com/34235
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>
    Run-TryBot: Robert Griesemer <gri@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/compile/internal/syntax/parser.go       | 60 ++++++++++++++++--
 src/cmd/compile/internal/syntax/scanner.go      | 82 ++++++++++---------------
 src/cmd/compile/internal/syntax/scanner_test.go | 38 ++++++------
 src/cmd/compile/internal/syntax/source.go       | 50 +++++++--------
 4 files changed, 128 insertions(+), 102 deletions(-)
