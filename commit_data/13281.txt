commit 25922c06582a91ae02ca8a632b2a75aeb7cdc887
Author: Russ Cox <rsc@golang.org>
Date:   Mon Jun 4 17:07:59 2012 -0400

    cmd/gc: introduce hidden closure functions earlier
    
    The original implementation of closures created the
    underlying top-level function during walk, which is fairly
    late in the compilation process and caused ordering-based
    complications due to earlier stages that had to be repeated
    any number of times.
    
    Create the underlying function during typecheck, much
    earlier, so that later stages can be run just once.
    
    The result is a simpler compilation sequence.
    
    R=ken2
    CC=golang-dev
    https://golang.org/cl/6279049

 src/cmd/gc/closure.c | 38 +++++++++++++++++++------------
 src/cmd/gc/esc.c     | 63 ++++++++++++++++++++++------------------------------
 src/cmd/gc/fmt.c     |  4 +++-
 src/cmd/gc/inl.c     |  4 ++--
 src/cmd/gc/lex.c     | 25 +++++----------------
 src/cmd/gc/sinit.c   |  3 +++
 6 files changed, 64 insertions(+), 73 deletions(-)
