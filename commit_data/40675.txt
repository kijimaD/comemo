commit 25a2b98f7a1454aac0d7d3072f74613ac0446630
Author: Bryan C. Mills <bcmills@google.com>
Date:   Mon Jun 10 12:01:49 2019 -0400

    cmd/go: factor the I/O-retry logic out of renameio
    
    Factor the try-on-failure variants are now in the package
    cmd/go/internal/robustio.
    
    Add to them a RemoveAll variant using the same retry loop,
    and use it to attempt to address the observed flakes in
    TestLinkXImportPathEscape.
    
    Fixes #19491
    Updates #25965
    Updates #28387
    Updates #32188
    
    Change-Id: I9db1a0c7537b8aaadccab1b9eca734595668ba29
    Reviewed-on: https://go-review.googlesource.com/c/go/+/181541
    Run-TryBot: Bryan C. Mills <bcmills@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Alex Brainman <alex.brainman@gmail.com>
    Reviewed-by: Jay Conrod <jayconrod@google.com>
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/go/go_test.go                              | 26 ++++++-----
 src/cmd/go/go_windows_test.go                      |  4 +-
 src/cmd/go/internal/renameio/renameio.go           |  6 ++-
 src/cmd/go/internal/renameio/renameio_test.go      |  8 ++--
 src/cmd/go/internal/robustio/robustio.go           | 53 ++++++++++++++++++++++
 .../rename.go => robustio/robustio_other.go}       |  6 ++-
 .../robustio_windows.go}                           | 18 +++++---
 src/cmd/go/script_test.go                          |  7 +--
 8 files changed, 99 insertions(+), 29 deletions(-)
