commit 4284d4555382ec9da4b301afe328faf850158ffb
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Jan 12 15:54:15 2022 -0800

    go/types, types2: use a map instead of a field for marking in validType
    
    With this change validType doesn't modify global state anymore.
    It also eliminates the need for an extra field in each object.
    
    Preparation for fixing issue #48962.
    
    Change-Id: If241ec77ff48911d5b43d89adabfb8ef54452c6b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/378176
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/cmd/compile/internal/types2/check.go       |  2 ++
 src/cmd/compile/internal/types2/decl.go        |  2 +-
 src/cmd/compile/internal/types2/named.go       |  1 -
 src/cmd/compile/internal/types2/sizeof_test.go |  2 +-
 src/cmd/compile/internal/types2/typexpr.go     |  2 +-
 src/cmd/compile/internal/types2/validtype.go   | 32 +++++++++++++++-----------
 src/go/types/check.go                          |  2 ++
 src/go/types/decl.go                           |  2 +-
 src/go/types/named.go                          |  1 -
 src/go/types/sizeof_test.go                    |  2 +-
 src/go/types/typexpr.go                        |  2 +-
 src/go/types/validtype.go                      | 32 +++++++++++++++-----------
 12 files changed, 46 insertions(+), 36 deletions(-)
