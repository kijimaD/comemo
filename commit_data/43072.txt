commit 0c41a37c6c6f8244752dd2ac72bbdea0adedbaa6
Author: Than McIntosh <thanm@google.com>
Date:   Fri Feb 14 16:12:51 2020 -0500

    [dev.link] cmd/link: convert second phase of DWARF-gen to use loader
    
    This converts the second portion of DWARF-gen (dwarfGenerateDebugSyms
    function and friends) to use the loader, as opposed to sym.Symbols.
    
    Second phase is invoked as part of dodata(), which is fairly far along
    in the linker, meaning that the "converted to loader.Symbol" wavefront
    has not yet reached that point.
    
    To account for this, the patch contains some shim code that runs
    initially to copy back things from sym.Symbols into the loader
    (notable symbol values), and then a second hook to be code after
    dwarf-gen is complete to that copies the results back into the
    appropriate sym.Symbols. This code is obviously temporary, but needed
    for the time being.
    
    Change-Id: I9b830b08b16480a1a5230cb52b592db1c550af18
    Reviewed-on: https://go-review.googlesource.com/c/go/+/220987
    Run-TryBot: Than McIntosh <thanm@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>
    Reviewed-by: Jeremy Faller <jeremy@golang.org>

 src/cmd/link/internal/ld/dwarf.go             | 797 ++++++++++++++++++++++++--
 src/cmd/link/internal/ld/dwarf2.go            |   4 +
 src/cmd/link/internal/ld/main.go              |   1 +
 src/cmd/link/internal/loader/loader.go        | 202 ++++++-
 src/cmd/link/internal/loader/symbolbuilder.go |  16 +-
 5 files changed, 979 insertions(+), 41 deletions(-)
