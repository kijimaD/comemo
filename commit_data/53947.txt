commit cd589c8a73415afbf94a8976f20cbed9d4061ba6
Author: qmuntal <quimmuntal@gmail.com>
Date:   Tue Aug 8 15:31:43 2023 +0200

    os: make MkdirAll support volume names
    
    MkdirAll fails to create directories under root paths using volume
    names (e.g. //?/Volume{GUID}/foo). This is because fixRootDirectory
    only handle extended length paths using drive letters (e.g. //?/C:/foo).
    
    This CL fixes that issue by also detecting volume names without path
    separator.
    
    Updates #22230
    Fixes #39785
    
    Change-Id: I813fdc0b968ce71a4297f69245b935558e6cd789
    Reviewed-on: https://go-review.googlesource.com/c/go/+/517015
    Run-TryBot: Quim Muntal <quimmuntal@gmail.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Bryan Mills <bcmills@google.com>
    Reviewed-by: Michael Knyszek <mknyszek@google.com>

 src/internal/syscall/windows/syscall_windows.go  |  1 +
 src/internal/syscall/windows/zsyscall_windows.go | 89 +++++++++++++-----------
 src/os/path.go                                   | 24 ++++---
 src/os/path_plan9.go                             |  4 +-
 src/os/path_unix.go                              |  4 +-
 src/os/path_windows.go                           | 11 ---
 src/os/path_windows_test.go                      | 49 +++++++++++++
 7 files changed, 118 insertions(+), 64 deletions(-)
