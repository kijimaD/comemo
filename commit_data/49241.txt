commit 656f0888b7de3b96792c1444bc15fe2e586ab5ef
Author: Cherry Mui <cherryyz@google.com>
Date:   Wed Jun 9 20:14:15 2021 -0400

    [dev.typeparams] cmd/compile: make softfloat mode work with register ABI
    
    Previously, softfloat mode does not work with register ABI, mainly
    because the compiler doesn't know how to pass floating point
    arguments and results. According to the ABI it should be passed in
    FP registers, but there isn't any in softfloat mode.
    
    This CL makes it work. When softfloat is used, we define the ABI
    as having 0 floating point registers (because there aren't any).
    The integer registers are unchanged. So floating point arguments
    and results are passed in memory.
    
    Another option is to pass (the bit representation of) floating
    point values in integer registers. But this complicates things
    because it'd need to reorder integer argument registers.
    
    Change-Id: Ibecbeccb658c10a868fa7f2dcf75138f719cc809
    Reviewed-on: https://go-review.googlesource.com/c/go/+/327274
    Trust: Cherry Mui <cherryyz@google.com>
    Run-TryBot: Cherry Mui <cherryyz@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/gc/main.go          |  3 ---
 src/cmd/compile/internal/ssa/config.go       |  6 +++++-
 src/cmd/compile/internal/ssa/expand_calls.go | 14 ++++++++++----
 src/cmd/compile/internal/ssa/export_test.go  |  2 +-
 src/cmd/compile/internal/ssa/softfloat.go    |  1 +
 src/cmd/compile/internal/ssagen/ssa.go       | 27 ++++++++++++++++++++++++---
 test/fixedbugs/issue26163.go                 |  2 +-
 test/fixedbugs/issue28688.go                 |  2 +-
 8 files changed, 43 insertions(+), 14 deletions(-)
