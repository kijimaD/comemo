commit 4e79f06dac712d35d67d72777dae6df6d8c97888
Author: Bryan C. Mills <bcmills@google.com>
Date:   Fri Apr 22 23:33:16 2022 -0400

    os/exec: refactor goroutine communication in Wait
    
    This provides clearer synchronization invariants: if it occurs at all,
    the call to c.Process.Kill always occurs before Wait returns. It also
    allows any unexpected errors from the goroutine to be propagated back
    to Wait.
    
    For #50436.
    
    Change-Id: I7ddadc73e6e67399596e35393f5845646f6111ab
    Reviewed-on: https://go-review.googlesource.com/c/go/+/401896
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Auto-Submit: Bryan Mills <bcmills@google.com>
    Run-TryBot: Bryan Mills <bcmills@google.com>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/os/exec/exec.go | 105 ++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 78 insertions(+), 27 deletions(-)
