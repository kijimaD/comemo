commit 1a3b036b836d5b41871515ec350b203377e087a6
Author: Russ Cox <rsc@golang.org>
Date:   Mon Dec 21 01:29:02 2020 -0500

    [dev.regabi] cmd/compile: collect global compilation state
    
    There are various global variables tracking the state of the
    compilation. Collect them in a single global struct instead.
    The struct definition is in package ir, but the struct itself is
    still in package gc. It may eventually be threaded through the
    code, but in the short term will end up in package typecheck.
    
    Change-Id: I019db07aaedaed2c9b67dd45a4e138dc6028e54c
    Reviewed-on: https://go-review.googlesource.com/c/go/+/279297
    Trust: Russ Cox <rsc@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/gc/alg.go     |  4 +--
 src/cmd/compile/internal/gc/bexport.go |  2 +-
 src/cmd/compile/internal/gc/closure.go |  8 +++---
 src/cmd/compile/internal/gc/dcl.go     |  8 +++---
 src/cmd/compile/internal/gc/embed.go   |  8 +++---
 src/cmd/compile/internal/gc/export.go  |  8 +++---
 src/cmd/compile/internal/gc/go.go      |  4 ---
 src/cmd/compile/internal/gc/iexport.go |  4 +--
 src/cmd/compile/internal/gc/iimport.go |  2 +-
 src/cmd/compile/internal/gc/init.go    | 13 +++------
 src/cmd/compile/internal/gc/inl.go     |  6 ++---
 src/cmd/compile/internal/gc/main.go    | 49 +++++++++++++++++++---------------
 src/cmd/compile/internal/gc/noder.go   |  9 ++++---
 src/cmd/compile/internal/gc/obj.go     | 46 ++++++++++++++-----------------
 src/cmd/compile/internal/gc/pgen.go    |  2 +-
 src/cmd/compile/internal/gc/subr.go    |  2 +-
 src/cmd/compile/internal/gc/walk.go    |  2 +-
 src/cmd/compile/internal/ir/package.go | 35 ++++++++++++++++++++++++
 18 files changed, 116 insertions(+), 96 deletions(-)
