commit 28314cf12491181df3c06047826f419fd1716f89
Author: Bryan C. Mills <bcmills@google.com>
Date:   Fri Nov 22 13:26:58 2019 -0500

    cmd/go: add a 'buildmode' condition for script tests
    
    In CL 208233 I am fixing a panic that occurs only with a specific
    build mode. I want that test to run on all platforms that support that
    build mode, but the logic for determining support is somewhat
    involved.
    
    For now, I am duplicating that logic into the cmd/internal/sys
    package, which already reports platform support for other build flags.
    
    We can refactor cmd/go/internal/work to use the extracted function in
    a followup CL.
    
    Updates #35759
    
    Change-Id: Ibbaedde4d1e8f683c650beedd10849bc27e7a6e7
    Reviewed-on: https://go-review.googlesource.com/c/go/+/208457
    Run-TryBot: Bryan C. Mills <bcmills@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Jay Conrod <jayconrod@google.com>

 src/cmd/go/script_test.go         |  6 ++++
 src/cmd/go/testdata/script/README |  1 +
 src/cmd/internal/sys/supported.go | 73 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 80 insertions(+)
