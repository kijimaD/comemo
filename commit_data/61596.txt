commit 8767a090d508e3f552dd8962a4f4c0b46ab70980
Author: Russ Cox <rsc@golang.org>
Date:   Fri Nov 15 14:42:27 2024 -0500

    cmd/go/internal/fsys: refactor vfs lookup
    
    Refactor vfs lookup into 'func stat', which knows the internal
    data structures for the vfs and returns information about a
    given path. The callers can then all use stat and avoid direct
    knowledge of the internal data structures.
    
    This is setting up for a different internal data structure.
    
    Change-Id: I496b7b3fb686cdde81b14687f65eb0bf51ec62be
    Reviewed-on: https://go-review.googlesource.com/c/go/+/628699
    Auto-Submit: Russ Cox <rsc@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Michael Matloob <matloob@golang.org>

 src/cmd/go/internal/fsys/fsys.go      | 324 ++++++++++++++++++----------------
 src/cmd/go/internal/fsys/fsys_test.go |  45 +++++
 2 files changed, 218 insertions(+), 151 deletions(-)
