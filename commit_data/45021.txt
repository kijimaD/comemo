commit 428509402b03c608e625a4844ab0cce75e4bead2
Author: lujjjh <lujjjh@gmail.com>
Date:   Thu Sep 17 14:39:13 2020 +0000

    encoding/json: detect cyclic maps and slices
    
    Now reports an error if cyclic maps and slices are to be encoded
    instead of an infinite recursion. This case wasn't handled in CL 187920.
    
    Fixes #40745.
    
    Change-Id: Ia34b014ecbb71fd2663bb065ba5355a307dbcc15
    GitHub-Last-Rev: 6f874944f4065b5237babbb0fdce14c1c74a3c97
    GitHub-Pull-Request: golang/go#40756
    Reviewed-on: https://go-review.googlesource.com/c/go/+/248358
    Reviewed-by: Daniel Martí <mvdan@mvdan.cc>
    Trust: Daniel Martí <mvdan@mvdan.cc>
    Trust: Bryan C. Mills <bcmills@google.com>
    Run-TryBot: Daniel Martí <mvdan@mvdan.cc>
    TryBot-Result: Go Bot <gobot@golang.org>

 src/encoding/json/encode.go      | 27 +++++++++++++++++++++++++++
 src/encoding/json/encode_test.go | 27 ++++++++++++++++++++++++++-
 2 files changed, 53 insertions(+), 1 deletion(-)
