commit ca7d300509626e2071f3f5babc2e9c121d806fec
Author: Rhys Hiltner <rhys.hiltner@gmail.com>
Date:   Wed May 29 16:41:10 2024 +0000

    Revert "runtime: remove GODEBUG=runtimecontentionstacks"
    
    This reverts commit 87e930f7289136fad1310d4b63dd4127e409bac5 (CL 585639)
    
    Reason for revert: This is part of a patch series that changed the
    handling of contended lock2/unlock2 calls, reducing the maximum
    throughput of contended runtime.mutex values, and causing a performance
    regression on applications where that is (or became) the bottleneck.
    
    Updates #66999
    Updates #67585
    
    Change-Id: I1e286d2a16d16e4af202cd5dc04b2d9c4ee71b32
    Reviewed-on: https://go-review.googlesource.com/c/go/+/589097
    Reviewed-by: Than McIntosh <thanm@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Michael Pratt <mpratt@google.com>
    Auto-Submit: Rhys Hiltner <rhys.hiltner@gmail.com>

 doc/godebug.md                                    |  3 ---
 doc/next/6-stdlib/99-minor/runtime/pprof/66999.md |  5 -----
 src/runtime/extern.go                             |  9 +++++++++
 src/runtime/metrics_test.go                       | 18 +++++++++++++++---
 src/runtime/mprof.go                              |  5 +++++
 src/runtime/pprof/pprof.go                        |  6 ++++++
 src/runtime/runtime1.go                           |  2 ++
 7 files changed, 37 insertions(+), 11 deletions(-)
