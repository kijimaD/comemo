commit c97af0036b8cd8ab2a7ed3f68c3ba72968637e4d
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Mon Jan 25 17:26:07 2021 -0800

    [dev.typeparams] cmd/compile: force untyped constants from types2 to expected kind
    
    Currently, types2 sometimes produces constant.Values with a Kind
    different than the untyped constant type's Is{Integer,Float,Complex}
    info, which irgen expects to always match.
    
    While we mull how best to proceed in #43891, this CL adapts irgen to
    types2's current behavior. In particular, fixedbugs/issue11945.go now
    passes with -G=3.
    
    Updates #43891.
    
    Change-Id: I24823a32ff49af6045a032d3903dbb55cbec6bef
    Reviewed-on: https://go-review.googlesource.com/c/go/+/286652
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    Trust: Matthew Dempsky <mdempsky@google.com>
    Reviewed-by: Robert Griesemer <gri@golang.org>

 src/cmd/compile/internal/noder/decl.go | 19 ++++++++++++++++++-
 test/fixedbugs/issue11945.go           |  4 ++++
 2 files changed, 22 insertions(+), 1 deletion(-)
