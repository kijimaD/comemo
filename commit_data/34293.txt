commit 79fe895112dc3759506e57c519a2b38c41ee71dd
Author: Mansour Rahimi <rahimi.mnr@gmail.com>
Date:   Wed Feb 7 02:17:50 2018 +0100

    net: fix UDPConn readers to return truncated payload size instead of 0
    
    Calling UDPConn readers (Read, ReadFrom, ReadMsgUDP) to read part of
    datagram returns error (in Windows), mentioning there is more data
    available, and 0 as size of read data, even though part of data is
    already read.
    
    This fix makes UDPConn readers to return truncated payload size,
    even there is error due more data available to read.
    
    Fixes #14074
    Updates #18056
    
    Change-Id: Id7eec7f544dd759b2d970fa2561eef2937ec4662
    Reviewed-on: https://go-review.googlesource.com/92475
    Run-TryBot: Mikio Hara <mikioh.mikioh@gmail.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Mikio Hara <mikioh.mikioh@gmail.com>

 src/internal/poll/fd_windows.go |  4 ++++
 src/net/net.go                  | 13 ++++++-----
 src/net/timeout_test.go         |  2 +-
 src/net/udpsock_test.go         | 49 ++++++++++++++++++++++++++++++++++++++++-
 src/syscall/types_windows.go    |  1 +
 5 files changed, 62 insertions(+), 7 deletions(-)
