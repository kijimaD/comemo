commit 5cccd7a7246099c3e1d268089ee6795933d7221f
Author: Than McIntosh <thanm@google.com>
Date:   Fri Apr 17 13:09:02 2020 -0400

    [dev.link] cmd/link: refactor symbol to section assignment in allocateSections
    
    Create a couple of helper routines to aid in assigning symbols to
    sections in dodata's allocateSections, then replace loops over symbol
    lists with calls to the helpers, to reduce the amount of duplicate
    code.
    
    This patch also decouples gcprog/gcdata generation from
    symbol-to-section assignment (previously intertwined), as an aid to
    making the code less complicated.
    
    No change in functionality.
    
    Change-Id: If126579486bce458f697e32bad556df453df53e9
    Reviewed-on: https://go-review.googlesource.com/c/go/+/228781
    Reviewed-by: Jeremy Faller <jeremy@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/cmd/link/internal/ld/data.go | 203 ++++++++++++++-------------------------
 1 file changed, 74 insertions(+), 129 deletions(-)
