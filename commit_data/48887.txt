commit ee4fc0c1bc300f181388ef6dd187ca8b8737efd2
Author: Dan Scales <danscales@google.com>
Date:   Fri Jun 18 14:09:21 2021 -0700

    [dev.typeparams] Fix issues related to dictionaries and method calls with embedded fields
    
     - Fix handling of method expressions with embedded fields. Fix an
       incorrect lookup for method expressions, which have only the
       top-level type (and don't have DOT operations for the embedded
       fields). Add the embedded field dot operations into the closure.
    
     - Don't need a dictionary and so don't build a closure if the last
       embedded field reached in a method expression is an interface value.
    
     - Fix methodWrapper() to use the computed 'dot' node in the
       generic-only part of the code.
    
     - For a method expression, don't create a generic wrapper if the last
       embedded field reached before the method lookup is an interface.
    
    Copied cmd/compile/internal/types2/testdata/fixedbugs/issue44688.go2 to
    test/typeparam/issue44688.go, made it fully runnable (rather than just
    for compilation), and added a bunch more tests.
    
    Change-Id: I90c1aa569e1c7272e986c9d2ae683e553c3a38a1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/329550
    Run-TryBot: Dan Scales <danscales@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Trust: Dan Scales <danscales@google.com>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/noder/stencil.go       |  30 +++--
 src/cmd/compile/internal/reflectdata/reflect.go |  13 +-
 test/typeparam/issue44688.go                    | 150 ++++++++++++++++++++++++
 3 files changed, 184 insertions(+), 9 deletions(-)
