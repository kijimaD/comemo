commit 3512cde10ac5e466527d69313b8250b2ea0146b1
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Thu Dec 17 18:47:26 2020 -0800

    [dev.regabi] cmd/compile: stop reusing Ntype for OSLICELIT length
    
    For OSLICELITs, we were reusing the Ntype field after type checking to
    hold the length of the OSLICELIT's backing array. However, Ntype is
    only meant for nodes that can represent types. Today, this works only
    because we currently use Name for all OLITERAL constants (whether
    declared or not), whereas we should be able to represent them more
    compactly with a dedicated type that doesn't implement Ntype.
    
    Passes buildall w/ toolstash -cmp.
    
    Change-Id: I385f1d787c41b016f507a5bad9489d59ccfde7f2
    Reviewed-on: https://go-review.googlesource.com/c/go/+/279152
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Trust: Matthew Dempsky <mdempsky@google.com>
    Reviewed-by: Russ Cox <rsc@golang.org>

 src/cmd/compile/internal/gc/inl.go       |  2 +-
 src/cmd/compile/internal/gc/order.go     |  2 +-
 src/cmd/compile/internal/gc/sinit.go     | 18 +++++++++---------
 src/cmd/compile/internal/gc/typecheck.go |  3 ++-
 src/cmd/compile/internal/ir/expr.go      |  1 +
 5 files changed, 14 insertions(+), 12 deletions(-)
