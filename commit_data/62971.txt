commit 992d1547178fe0d18c2827e34d62fbc545ace64c
Author: Daniel McCarney <daniel@binaryparadox.net>
Date:   Tue Apr 29 15:10:10 2025 -0400

    crypto/tls: update TLS 1.3 client compression validation
    
    Unlike in earlier TLS versions, in TLS 1.3 when processing a server
    hello the legacy_compression_method MUST have the value 0. It is no
    longer a parameter that offers a choice of compression method.
    
    With this in mind, it seems more appropriate to return a decode error
    when we encounter a non-zero compression method in a server hello
    message. We haven't found a parameter value we reject, we've found
    a message that doesn't decode according to its specification.
    
    Making this change also aligns with BoringSSL and allows enabling the
    TLS13-HRR-InvalidCompressionMethod bogo test.
    
    Updates #72006
    
    Change-Id: I27a2cd231e4b8762b0d9e2dbd3d8ddd5b87fd5c4
    Reviewed-on: https://go-review.googlesource.com/c/go/+/669156
    Reviewed-by: Roland Shoemaker <roland@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Cherry Mui <cherryyz@google.com>

 src/crypto/tls/bogo_config.json          | 1 -
 src/crypto/tls/handshake_client_tls13.go | 4 ++--
 2 files changed, 2 insertions(+), 3 deletions(-)
