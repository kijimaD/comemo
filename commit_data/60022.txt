commit db7bb2742ce01601842e277e7808d225ff8390cd
Author: Jonathan Amsterdam <jba@google.com>
Date:   Thu May 16 08:14:52 2024 -0400

    log/slog: handle times with undefined UnixNanos
    
    slog tries to represent a time.Time without allocations, which involves
    storing its UnixNanos value. But UnixNanos is undefined for some valid
    times. Provide a fallback representation for those times by storing them
    in the `any` field of `Value`.
    
    Fixes #65902.
    
    Change-Id: I736c739a92f77d7b1122ea0831524acdd2c4703f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/585519
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Alan Donovan <adonovan@google.com>

 src/log/slog/value.go      | 38 +++++++++++++++++++++++++++++---------
 src/log/slog/value_test.go | 22 +++++++++++++++++-----
 2 files changed, 46 insertions(+), 14 deletions(-)
