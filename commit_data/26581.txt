commit eb0cff9a768373d97dd9b43f8022db9fd61d3b6c
Merge: 7f7f7cddec 6a208efbdf
Author: Keith Randall <khr@golang.org>
Date:   Tue Feb 9 12:28:02 2016 -0800

    [dev.ssa] Merge remote-tracking branch 'origin/master' into mergebranch
    
    Semi-regular merge from tip to dev.ssa.
    
    Two fixes:
    1) Mark selectgo as not returning.  This caused problems
       because there are no VARKILL ops on the selectgo path,
       causing things to be marked live that shouldn't be.
    2) Tell the amd64 assembler that addressing modes like
       name(SP)(AX*4) are ok.
    
    Change-Id: I9ca81c76391b1a65cc47edc8610c70ff1a621913

 doc/asm.html                                       |     4 +-
 doc/codewalk/codewalk.xml                          |     2 +-
 doc/go1.6.html                                     |    88 +-
 doc/go_faq.html                                    |     2 +-
 doc/install-source.html                            |    19 +-
 lib/time/update.bash                               |     5 +-
 lib/time/zoneinfo.zip                              |   Bin 359824 -> 360703 bytes
 misc/cgo/errors/ptr.go                             |   104 +-
 misc/cgo/test/sigaltstack.go                       |     4 +-
 misc/cgo/testcarchive/test.bash                    |    18 +
 misc/cgo/testshared/shared_test.go                 |    12 +
 misc/cgo/testshared/src/explicit/explicit.go       |     9 +
 misc/cgo/testshared/src/implicit/implicit.go       |     5 +
 misc/cgo/testshared/src/implicitcmd/implicitcmd.go |    10 +
 src/archive/zip/example_test.go                    |    17 +-
 src/archive/zip/reader.go                          |    14 +-
 src/archive/zip/reader_test.go                     |   235 +-
 src/archive/zip/register.go                        |    27 +-
 src/cmd/asm/internal/arch/arch.go                  |     2 +-
 src/cmd/asm/internal/arch/arm.go                   |     1 +
 src/cmd/asm/internal/asm/asm.go                    |     2 +-
 src/cmd/asm/internal/asm/endtoend_test.go          |   378 +-
 src/cmd/asm/internal/asm/operand_test.go           |     3 +
 src/cmd/asm/internal/asm/parse.go                  |     3 +-
 src/cmd/asm/internal/asm/testdata/386.out          |    49 -
 src/cmd/asm/internal/asm/testdata/386.s            |    37 +-
 src/cmd/asm/internal/asm/testdata/amd64.out        |    57 -
 src/cmd/asm/internal/asm/testdata/amd64.s          |   102 +-
 src/cmd/asm/internal/asm/testdata/amd64enc.s       | 10682 +++++++++++++++++++
 src/cmd/asm/internal/asm/testdata/amd64error.s     |     8 +
 src/cmd/asm/internal/asm/testdata/arm.out          |    60 -
 src/cmd/asm/internal/asm/testdata/arm.s            |    47 +-
 src/cmd/asm/internal/asm/testdata/arm64.out        |    55 -
 src/cmd/asm/internal/asm/testdata/arm64.s          |    23 +-
 src/cmd/asm/internal/asm/testdata/mips64.out       |    99 -
 src/cmd/asm/internal/asm/testdata/mips64.s         |    41 +-
 src/cmd/asm/internal/asm/testdata/ppc64.out        |   114 -
 src/cmd/asm/internal/asm/testdata/ppc64.s          |    78 +-
 src/cmd/asm/internal/flags/flags.go                |     1 +
 src/cmd/asm/main.go                                |    13 +-
 src/cmd/compile/internal/big/int.go                |     2 +-
 src/cmd/compile/internal/big/int_test.go           |    27 +-
 src/cmd/compile/internal/big/nat.go                |    58 +-
 src/cmd/compile/internal/big/nat_test.go           |     6 +
 src/cmd/compile/internal/gc/fmt.go                 |     2 +-
 src/cmd/compile/internal/gc/gen.go                 |     3 -
 src/cmd/compile/internal/gc/lex.go                 |    19 +-
 src/cmd/compile/internal/gc/opnames.go             |     1 +
 src/cmd/compile/internal/gc/parser.go              |    25 +-
 src/cmd/compile/internal/gc/ssa.go                 |     7 +-
 src/cmd/dist/test.go                               |     6 +-
 src/cmd/go/alldocs.go                              |    11 +-
 src/cmd/go/build.go                                |     8 +-
 src/cmd/go/go_test.go                              |   176 +-
 src/cmd/go/list.go                                 |     8 +
 src/cmd/go/main.go                                 |    14 +-
 src/cmd/go/pkg.go                                  |    58 +-
 src/cmd/go/run.go                                  |    14 +-
 src/cmd/go/testdata/src/vend/hello/hello_test.go   |     2 +-
 src/cmd/go/testdata/src/vend/hello/hellox_test.go  |     2 +-
 src/cmd/go/vcs.go                                  |    11 +-
 src/cmd/go/vcs_test.go                             |     4 +-
 src/cmd/internal/obj/arm/anames5.go                |     1 +
 src/cmd/internal/obj/arm/asm5.go                   |    10 +-
 src/cmd/internal/obj/arm64/a.out.go                |     7 -
 src/cmd/internal/obj/arm64/anames.go               |     7 -
 src/cmd/internal/obj/arm64/asm7.go                 |    15 +-
 src/cmd/internal/obj/link.go                       |     8 +-
 src/cmd/internal/obj/mips/a.out.go                 |     6 +-
 src/cmd/internal/obj/mips/list0.go                 |     2 +-
 src/cmd/internal/obj/util.go                       |     2 +-
 src/cmd/internal/obj/x86/a.out.go                  |    93 +-
 src/cmd/internal/obj/x86/anames.go                 |    76 +-
 src/cmd/internal/obj/x86/asm6.go                   |   493 +-
 src/cmd/internal/obj/x86/list6.go                  |    16 +
 src/cmd/internal/obj/x86/obj6_test.go              |     7 +
 src/cmd/link/doc.go                                |     3 +
 src/cmd/link/internal/arm/asm.go                   |    16 +-
 src/cmd/link/internal/ld/elf.go                    |    30 +-
 src/cmd/link/internal/ld/lib.go                    |    41 +-
 src/cmd/link/internal/ld/pobj.go                   |     1 +
 src/cmd/vet/cgo.go                                 |     3 +
 src/cmd/vet/print.go                               |     8 +-
 src/cmd/vet/testdata/cgo2.go                       |     9 +
 src/cmd/vet/testdata/print.go                      |     3 +
 src/crypto/cipher/example_test.go                  |    52 +
 src/crypto/crypto.go                               |     8 +-
 src/crypto/rsa/example_test.go                     |   169 +
 src/crypto/rsa/pkcs1v15.go                         |    23 +
 src/crypto/rsa/rsa.go                              |    41 +-
 src/crypto/tls/tls.go                              |     7 +-
 src/database/sql/convert.go                        |    31 +-
 src/database/sql/convert_test.go                   |    23 +-
 src/database/sql/sql.go                            |    63 +-
 src/encoding/xml/xml.go                            |     3 +-
 src/go/build/build_test.go                         |     1 +
 src/go/build/deps_test.go                          |     2 +-
 src/go/constant/value.go                           |     2 +-
 src/go/constant/value_test.go                      |     2 +
 src/go/types/expr.go                               |     8 +-
 src/go/types/testdata/issues.src                   |    17 +
 .../golang.org/x/net/http2/hpack/encode.go         |     0
 .../golang.org/x/net/http2/hpack/encode_test.go    |     0
 .../golang.org/x/net/http2/hpack/hpack.go          |     0
 .../golang.org/x/net/http2/hpack/hpack_test.go     |     0
 .../golang.org/x/net/http2/hpack/huffman.go        |     0
 .../golang.org/x/net/http2/hpack/tables.go         |     0
 src/net/http/client.go                             |     1 +
 src/net/http/client_test.go                        |    18 +-
 src/net/http/clientserver_test.go                  |    46 +
 src/net/http/fs.go                                 |    29 +
 src/net/http/fs_test.go                            |    31 +
 src/net/http/h2_bundle.go                          |   380 +-
 src/net/http/httputil/dump.go                      |    29 +-
 src/net/http/httputil/reverseproxy.go              |     5 +-
 src/net/http/httputil/reverseproxy_test.go         |     8 +
 src/net/http/internal/chunked.go                   |     7 +-
 src/net/http/internal/chunked_test.go              |    38 +-
 src/net/http/request.go                            |    40 +-
 src/net/http/response_test.go                      |     2 +-
 src/net/http/serve_test.go                         |    44 +-
 src/net/http/server.go                             |    22 +-
 src/net/http/transport.go                          |     4 +-
 src/net/http/transport_test.go                     |     5 +-
 src/net/lookup_test.go                             |    15 +-
 src/net/net_test.go                                |    24 +-
 src/net/net_windows_test.go                        |    15 +-
 src/net/url/url.go                                 |     3 +-
 src/net/url/url_test.go                            |    11 +
 src/os/doc.go                                      |     6 +-
 src/runtime/asm_amd64.s                            |    48 +-
 src/runtime/asm_arm.s                              |     4 +
 src/runtime/cgo/gcc_android.c                      |     2 +
 src/runtime/cgo/gcc_android_386.c                  |     2 +
 src/runtime/cgo/gcc_android_amd64.c                |     2 +
 src/runtime/cgo/gcc_android_arm.c                  |     2 +
 src/runtime/cgo/gcc_android_arm64.c                |     2 +
 src/runtime/cgo/gcc_darwin_386.c                   |     2 +
 src/runtime/cgo/gcc_darwin_amd64.c                 |     2 +
 src/runtime/cgo/gcc_darwin_arm.c                   |     2 +
 src/runtime/cgo/gcc_darwin_arm64.c                 |     2 +
 src/runtime/cgo/gcc_dragonfly_amd64.c              |    14 +
 src/runtime/cgo/gcc_fatalf.c                       |     2 +
 src/runtime/cgo/gcc_freebsd_386.c                  |     2 +
 src/runtime/cgo/gcc_freebsd_amd64.c                |     2 +
 src/runtime/cgo/gcc_freebsd_arm.c                  |     2 +
 src/runtime/cgo/gcc_libinit.c                      |     1 +
 src/runtime/cgo/gcc_libinit_linux_ppc64x.c         |     2 +
 src/runtime/cgo/gcc_libinit_openbsd.c              |     2 +
 src/runtime/cgo/gcc_libinit_windows.c              |     2 +
 src/runtime/cgo/gcc_linux_386.c                    |     2 +
 src/runtime/cgo/gcc_linux_amd64.c                  |     2 +
 src/runtime/cgo/gcc_linux_arm.c                    |     2 +
 src/runtime/cgo/gcc_linux_arm64.c                  |     2 +
 src/runtime/cgo/gcc_linux_ppc64x.c                 |     2 +
 src/runtime/cgo/gcc_mmap.c                         |     2 +
 src/runtime/cgo/gcc_netbsd_386.c                   |    14 +
 src/runtime/cgo/gcc_netbsd_amd64.c                 |    14 +
 src/runtime/cgo/gcc_netbsd_arm.c                   |    14 +
 src/runtime/cgo/gcc_openbsd_386.c                  |     2 +
 src/runtime/cgo/gcc_openbsd_amd64.c                |     2 +
 src/runtime/cgo/gcc_setenv.c                       |     1 +
 src/runtime/cgo/gcc_signal_darwin_armx.c           |     2 +
 src/runtime/cgo/gcc_signal_darwin_lldb.c           |     2 +
 src/runtime/cgo/gcc_solaris_amd64.c                |     2 +
 src/runtime/cgo/gcc_util.c                         |     2 +
 src/runtime/cgo/gcc_windows_386.c                  |     2 +
 src/runtime/cgo/gcc_windows_amd64.c                |     2 +
 src/runtime/cgo_mmap.go                            |    13 +-
 src/runtime/cgocall.go                             |     8 +
 src/runtime/crash_unix_test.go                     |     4 +
 src/runtime/heapdump.go                            |     2 +-
 src/runtime/malloc.go                              |     6 +-
 src/runtime/memclr_amd64.s                         |    36 +-
 src/runtime/mgc.go                                 |    94 +-
 src/runtime/mprof.go                               |    55 +-
 src/runtime/os1_darwin.go                          |    33 +-
 src/runtime/os1_dragonfly.go                       |    27 +-
 src/runtime/os1_netbsd.go                          |    42 +-
 src/runtime/pprof/pprof.go                         |     8 +
 src/runtime/pprof/pprof_test.go                    |   136 +-
 src/runtime/proc.go                                |    28 +-
 src/runtime/proc_test.go                           |    23 +-
 src/runtime/race/output_test.go                    |     5 +-
 src/runtime/race/race_test.go                      |    15 +-
 src/runtime/race/testdata/issue12225_test.go       |     7 +
 src/runtime/runtime2.go                            |     2 +-
 src/runtime/runtime_test.go                        |    21 +
 src/runtime/stack_test.go                          |     4 +-
 src/runtime/string.go                              |     4 +-
 src/runtime/string_test.go                         |    15 +
 src/runtime/sys_darwin_386.s                       |    20 +-
 src/runtime/sys_dragonfly_amd64.s                  |    12 +
 src/runtime/sys_netbsd_amd64.s                     |     4 +-
 src/runtime/time.go                                |     2 +-
 src/runtime/trace.go                               |     7 +-
 src/sync/waitgroup_test.go                         |    11 +-
 src/text/template/doc.go                           |     6 +-
 src/time/zoneinfo.go                               |     2 +-
 src/unsafe/unsafe.go                               |   166 +-
 src/vendor/README                                  |     8 +
 test/fixedbugs/issue14006.go                       |    64 +
 test/fixedbugs/issue14010.go                       |    15 +
 test/fixedbugs/issue14164.dir/a.go                 |    47 +
 test/fixedbugs/issue14164.dir/main.go              |    12 +
 test/fixedbugs/issue14164.go                       |     7 +
 206 files changed, 14727 insertions(+), 1400 deletions(-)
