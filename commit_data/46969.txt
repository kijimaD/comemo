commit 54da3ab385686dec5554164ba9558214445deec9
Author: Russ Cox <rsc@golang.org>
Date:   Thu Jan 28 16:22:52 2021 -0500

    runtime: use TOPFRAME to identify top-of-frame functions
    
    No change to actual runtime, but helps reduce the laundry list
    of functions.
    
    mcall, morestack, and asmcgocall are not actually top-of-frame,
    so those need more attention in follow-up CLs.
    
    mstart moved to assembly so that it can be marked TOPFRAME.
    
    Since TOPFRAME also tells DWARF consumers not to unwind
    this way, this change should also improve debuggers a
    marginal amount.
    
    This CL is part of a stack adding windows/arm64
    support (#36439), intended to land in the Go 1.17 cycle.
    This CL is, however, not windows/arm64-specific.
    It is cleanup meant to make the port (and future ports) easier.
    
    Change-Id: If1e0d46ca973de5e46b62948d076f675f285b5d9
    Reviewed-on: https://go-review.googlesource.com/c/go/+/288802
    Trust: Russ Cox <rsc@golang.org>
    Reviewed-by: Cherry Zhang <cherryyz@google.com>

 src/runtime/asm_386.s           | 8 ++++++--
 src/runtime/asm_amd64.s         | 8 ++++++--
 src/runtime/asm_arm.s           | 6 +++++-
 src/runtime/asm_arm64.s         | 6 +++++-
 src/runtime/asm_mips64x.s       | 6 +++++-
 src/runtime/asm_mipsx.s         | 6 +++++-
 src/runtime/asm_ppc64x.s        | 6 +++++-
 src/runtime/asm_riscv64.s       | 6 +++++-
 src/runtime/asm_s390x.s         | 6 +++++-
 src/runtime/asm_wasm.s          | 8 ++++++--
 src/runtime/proc.go             | 7 +++++--
 src/runtime/sys_windows_386.s   | 2 +-
 src/runtime/sys_windows_amd64.s | 2 +-
 src/runtime/sys_windows_arm.s   | 2 +-
 src/runtime/traceback.go        | 5 +----
 15 files changed, 62 insertions(+), 22 deletions(-)
