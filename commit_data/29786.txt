commit 2f0b8f88df33ca48494a90eea705ad092322a1ca
Author: David Chase <drchase@google.com>
Date:   Wed Oct 5 13:21:09 2016 -0700

    cmd/compile: PPC64, elide unnecessary sign extension
    
    Inputs to store[BHW] and cmpW(U) need not be correct
    in more bits than are used by the instruction.
    
    Added a pattern tailored to what appears to be cgo boilerplate.
    Added a pattern (also seen in cgo boilerplate and hashing)
    to replace {EQ,NE}-CMP-ANDconst with {EQ-NE}-ANDCCconst.
    Added a pattern to clean up ANDconst shift distance inputs
    (this was seen in hashing).
    
    Simplify repeated and,or,xor.
    
    Fixes #17109.
    
    Change-Id: I68eac83e3e614d69ffe473a08953048c8b066d88
    Reviewed-on: https://go-review.googlesource.com/30455
    Run-TryBot: David Chase <drchase@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/ppc64/ssa.go        |   15 +
 src/cmd/compile/internal/ssa/gen/PPC64.rules |  113 ++-
 src/cmd/compile/internal/ssa/gen/PPC64Ops.go |    7 +-
 src/cmd/compile/internal/ssa/opGen.go        |   12 +
 src/cmd/compile/internal/ssa/rewrite.go      |    7 +-
 src/cmd/compile/internal/ssa/rewritePPC64.go | 1142 ++++++++++++++++++++++++--
 6 files changed, 1214 insertions(+), 82 deletions(-)
