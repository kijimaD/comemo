commit 91e2e3b9030440713b59dcc7dd9deae71b18d9fc
Author: Cuong Manh Le <cuong.manhle.vn@gmail.com>
Date:   Tue Jun 8 19:28:45 2021 +0700

    cmd/compile: prevent duplicated works in WriteRuntimeTypes
    
    While processing signatset, the entry is deleted immediately after being
    pushed to signatslice. Then calling writeType may add the same type
    to signatset again. That would add more works, though not a big impact
    to the performace, since when writeType is guarded by s.Siggen() check.
    
    Instead, we should keep the entry in signatset, so written type will
    never be added again.
    
    This change does not affect compiler performace, but help debugging
    issue like one in #46386 easier.
    
    Change-Id: Iddafe773885fa21cb7003ba27ddf9554fc3f297d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/326029
    Trust: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Run-TryBot: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/reflectdata/reflect.go | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)
