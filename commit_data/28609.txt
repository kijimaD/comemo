commit 595426c0d903a3686bdfe6d0e8ef268a60c19896
Author: David Chase <drchase@google.com>
Date:   Fri Jun 10 11:51:46 2016 -0400

    cmd/compile: fix OASWB rewriting in racewalk
    
    Special case for rewriting OAS inits omitted OASWB, added
    that and OAS2FUNC.  The special case cannot be default case,
    that causes racewalk to fail in horrible ways.
    
    Fixes #16008.
    
    Change-Id: Ie0d2f5735fe9d8255a109597b36d196d4f86703a
    Reviewed-on: https://go-review.googlesource.com/23954
    Reviewed-by: Keith Randall <khr@golang.org>
    Reviewed-by: Dmitry Vyukov <dvyukov@google.com>
    Run-TryBot: David Chase <drchase@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/cmd/compile/internal/gc/racewalk.go |  2 +-
 test/fixedbugs/issue16008.go            | 52 +++++++++++++++++++++++++++++++++
 2 files changed, 53 insertions(+), 1 deletion(-)
