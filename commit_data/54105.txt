commit e8cdab5c494716e547d2b84b68d46680e35a7a9f
Author: Joe Tsai <joetsai@digital-static.net>
Date:   Wed Aug 16 21:27:15 2023 -0700

    encoding: optimize growth behavior in Encoding.AppendDecode
    
    The Encoding.DecodedLen API only returns the maximum length of the
    expected decoded output, since it does not know about padding.
    Since we have the input, we can do better by computing the
    input length without padding, and then perform the DecodedLen
    calculation as if there were no padding.
    
    This avoids over-growing the destination slice if possible.
    Over-growth is still possible since the input may contain
    ignore characters like newlines and carriage returns,
    but those a rarely encountered in practice.
    
    Change-Id: I38b8f91de1f4fbd3a7128c491a25098bd385cf74
    Reviewed-on: https://go-review.googlesource.com/c/go/+/520267
    Run-TryBot: Joseph Tsai <joetsai@digital-static.net>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Auto-Submit: Joseph Tsai <joetsai@digital-static.net>
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/encoding/base32/base32.go      | 14 ++++++++++++--
 src/encoding/base32/base32_test.go |  7 +++++++
 src/encoding/base64/base64.go      | 14 ++++++++++++--
 src/encoding/base64/base64_test.go |  7 +++++++
 4 files changed, 38 insertions(+), 4 deletions(-)
