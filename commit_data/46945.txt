commit 099374b55e8aed17d1e77a1084f8fb78ff2f8162
Author: Robert Griesemer <gri@golang.org>
Date:   Wed Feb 17 17:56:34 2021 -0800

    [dev.typeparams] cmd/compile/internal/types2: remove Type.Under method in favor of function
    
    This removes the need for the aType embedded type and brings the types2.Type
    API in sync with the go/types.Type API.
    
    For reasons not fully understood yet, introducing the new under function
    causes a very long initialization cycle error, which doesn't exist in
    go/types. For now, circumvent the problem through a helper function variable.
    
    This CL also eliminates superflous (former) Under() method calls
    inside optype calls (optype takes care of this).
    
    Plus some minor misc. cleanups and comment adjustments.
    
    Change-Id: I86e13ccf6f0b34d7496240ace61a1c84856b6033
    Reviewed-on: https://go-review.googlesource.com/c/go/+/293470
    Reviewed-by: Robert Findley <rfindley@google.com>
    Trust: Robert Griesemer <gri@golang.org>

 src/cmd/compile/internal/importer/support.go   |   1 -
 src/cmd/compile/internal/types2/builtins.go    |   8 +-
 src/cmd/compile/internal/types2/conversions.go |   8 +-
 src/cmd/compile/internal/types2/decl.go        |  12 +--
 src/cmd/compile/internal/types2/expr.go        |  14 ++--
 src/cmd/compile/internal/types2/infer.go       |   4 +-
 src/cmd/compile/internal/types2/lookup.go      |   2 +-
 src/cmd/compile/internal/types2/object.go      |   2 +-
 src/cmd/compile/internal/types2/operand.go     |   4 +-
 src/cmd/compile/internal/types2/predicates.go  |   8 +-
 src/cmd/compile/internal/types2/sizes.go       |   4 +-
 src/cmd/compile/internal/types2/stmt.go        |   6 +-
 src/cmd/compile/internal/types2/subst.go       |   6 +-
 src/cmd/compile/internal/types2/type.go        | 108 ++++++++-----------------
 src/cmd/compile/internal/types2/typexpr.go     |  12 +--
 src/cmd/compile/internal/types2/unify.go       |   4 +-
 src/cmd/compile/internal/types2/universe.go    |  60 +++++++-------
 17 files changed, 113 insertions(+), 150 deletions(-)
