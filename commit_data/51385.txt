commit 2c2e08144f79d8746384c2a483bf03532dc0c443
Author: Ian Lance Taylor <iant@golang.org>
Date:   Tue Jan 18 18:46:00 2022 -0800

    runtime: remove -tags=threadprof in tests
    
    Use an enviroment variable rather than a build tag to control starting
    a busy loop thread when testprogcgo starts. This lets us skip another
    build that invokes the C compiler and linker, which should avoid
    timeouts running the runtime tests.
    
    Fixes #44422
    
    Change-Id: I516668d71a373da311d844990236566ff63e6d72
    Reviewed-on: https://go-review.googlesource.com/c/go/+/379294
    Trust: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    Reviewed-by: Bryan Mills <bcmills@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Austin Clements <austin@google.com>

 src/runtime/crash_cgo_test.go                  | 28 ++++----------------------
 src/runtime/testdata/testprogcgo/threadprof.go | 19 ++++++++++-------
 2 files changed, 16 insertions(+), 31 deletions(-)
