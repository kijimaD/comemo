commit 79e03a9281ba03f9f79904f074e2e343f2140bdd
Author: Than McIntosh <thanm@google.com>
Date:   Wed Nov 10 10:44:00 2021 -0500

    cmd/compile: include register-resident output params in DWARF-gen
    
    During the register ABI work, a change was made in CL 302071 to
    "stackframe" to treat register-resident output parameter (PARAMOUT)
    variables that same as locals, which meant that if they were unused,
    we'd delete them from the "Dcl" slice. This has the effect of making
    them invisible to DWARF generation later on in the pipeline, meaning
    that we don't get DIEs for them in the debug info. This patch fixes
    the problem by capturing these params prior to optimization and then
    adding them back in for consideration when we're processing the
    params/locals of a function during DWARF generation.
    
    Fixes #48573.
    
    Change-Id: I2b32882911c18f91c3e3d009486517522d262685
    Reviewed-on: https://go-review.googlesource.com/c/go/+/362618
    Trust: Than McIntosh <thanm@google.com>
    Run-TryBot: Than McIntosh <thanm@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/dwarfgen/dwarf.go |  13 ++
 src/cmd/compile/internal/ssa/debug.go      |  40 ++---
 src/cmd/compile/internal/ssagen/ssa.go     |  19 ++-
 src/cmd/link/internal/ld/dwarf_test.go     | 266 ++++++++++++++++++++++++-----
 4 files changed, 268 insertions(+), 70 deletions(-)
