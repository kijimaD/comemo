commit 35c7234601c409a1d1595e4eb9fe72e8ba4e6464
Author: Austin Clements <austin@google.com>
Date:   Wed Sep 15 17:14:21 2021 -0400

    runtime: add always-preempt maymorestack hook
    
    This adds a maymorestack hook that forces a preemption at every
    possible cooperative preemption point. This would have helped us catch
    several recent preemption-related bugs earlier, including #47302,
     #47304, and #47441.
    
    For #48297.
    
    Change-Id: Ib82c973589c8a7223900e1842913b8591938fb9f
    Reviewed-on: https://go-review.googlesource.com/c/go/+/359796
    Trust: Austin Clements <austin@google.com>
    Run-TryBot: Austin Clements <austin@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Reviewed-by: Michael Pratt <mpratt@google.com>
    Reviewed-by: David Chase <drchase@google.com>

 src/runtime/debug.go | 34 ++++++++++++++++++++++++++++++++++
 src/runtime/stack.go |  3 +++
 2 files changed, 37 insertions(+)
