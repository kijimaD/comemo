commit f0c7e3e9463069f60b3d31696860f6fb75aa3e87
Author: David Finkel <david.finkel@gmail.com>
Date:   Sat Apr 25 13:32:06 2020 -0400

    cmd/compile: adjust some AMD64 rewrite rules to use typed aux fields
    
    Remove an extra int32-representable check when deciding to use an int32
    constant as an immediate value.
    
    Comment out a broken optimization that relies on MaxUint32 being
    representable by a signed int32. It never triggers and when fixed, the
    signedness of the auxint prevents other optimization passes from
    handling it properly, thus causing segfaults in the runtime.
    
    Remove a couple offset representable in 32-bits checks on 32-bit aux
    vals.
    
    toolstash-check clean
    
    Change-Id: I148b53403fde523c90d692cb90e412460664b439
    Reviewed-on: https://go-review.googlesource.com/c/go/+/230458
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/ssa/gen/AMD64.rules |  835 ++---
 src/cmd/compile/internal/ssa/rewriteAMD64.go | 4227 +++++++++++++-------------
 2 files changed, 2515 insertions(+), 2547 deletions(-)
