commit af86efbe6d44a16236e390752e49b7ea295bb963
Author: Ian Lance Taylor <iant@golang.org>
Date:   Tue Sep 3 15:13:01 2024 -0700

    os: treat Getwd result of ENOMEM the same as ENAMETOOLONG
    
    We can see ENOMEM on FreeBSD.
    
    Also don't fail the test if we get an EPERM error when reading
    all the way up the tree; on Android we get that, perhaps because
    the root directory is unreadable.
    
    Also accept an EFAULT from a stat of a long name on Dragonfly,
    which we see on the builders.
    
    Change-Id: If37e6bf414b7b568c9a06130f71e79af153bfb75
    Reviewed-on: https://go-review.googlesource.com/c/go/+/610415
    Auto-Submit: Ian Lance Taylor <iant@google.com>
    Reviewed-by: Keith Randall <khr@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Commit-Queue: Ian Lance Taylor <iant@google.com>
    Reviewed-by: Keith Randall <khr@google.com>

 src/os/error_errno.go     |  7 +++++--
 src/os/error_plan9.go     |  1 +
 src/os/getwd.go           |  5 +++--
 src/os/getwd_unix_test.go | 15 ++++++++++++++-
 4 files changed, 23 insertions(+), 5 deletions(-)
