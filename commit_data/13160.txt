commit c6ce44822c5dba80ed8a2c3e5ebbd86e1a185dd1
Author: Russ Cox <rsc@golang.org>
Date:   Thu May 24 17:20:07 2012 -0400

    cmd/gc: faster code, mainly for rotate
    
    * Eliminate bounds check on known small shifts.
    * Rewrite x<<s | x>>(32-s) as a rotate (constant s).
    * More aggressive (but still minimal) range analysis.
    
    R=ken, dave, iant
    CC=golang-dev
    https://golang.org/cl/6209077

 src/cmd/5g/cgen.c   |   8 +-
 src/cmd/5g/cgen64.c |  42 ++++++++
 src/cmd/5g/gg.h     |   2 +-
 src/cmd/5g/ggen.c   |  23 ++++-
 src/cmd/5g/gsubr.c  |   2 +-
 src/cmd/6g/cgen.c   |  82 +++++++++++++---
 src/cmd/6g/gg.h     |   2 +-
 src/cmd/6g/ggen.c   |  27 ++---
 src/cmd/6g/gsubr.c  |  72 +++++++++++---
 src/cmd/8g/cgen.c   |  18 +++-
 src/cmd/8g/cgen64.c |  35 +++++++
 src/cmd/8g/gg.h     |   2 +-
 src/cmd/8g/ggen.c   |  52 ++++++----
 src/cmd/8g/gsubr.c  |  16 +++
 src/cmd/gc/go.h     |   2 +
 src/cmd/gc/range.c  |   2 +-
 src/cmd/gc/sinit.c  |   6 +-
 src/cmd/gc/subr.c   |   6 +-
 src/cmd/gc/walk.c   | 225 +++++++++++++++++++++++++++++++++++-------
 test/bounds.go      | 277 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 test/rotate.go      | 141 ++++++++++++++++++++++++++
 21 files changed, 925 insertions(+), 117 deletions(-)
