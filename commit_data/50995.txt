commit 465b4028082339bb7aa64ed6e30aef4c0b0413b4
Author: Than McIntosh <thanm@google.com>
Date:   Tue Nov 23 08:19:45 2021 -0500

    cmd/compile/internal/inline: revise closure inl position fix
    
    This patch revises the fix for issue 46234, fixing a bug that was
    accidentally introduced by CL 320913. When inlining a chunk of code
    with a closure expression, we want to avoid updating the source
    positions in the function being closed over, but we do want to update
    the position for the ClosureExpr itself (since it is part of the
    function we are inlining). CL 320913 unintentionally did away with the
    closure expr source position update; here we restore it again.
    
    Updates #46234.
    Fixes #49171.
    
    Change-Id: Iaa51bc498e374b9e5a46fa0acd7db520edbbbfca
    Reviewed-on: https://go-review.googlesource.com/c/go/+/366494
    Trust: Than McIntosh <thanm@google.com>
    Trust: Dan Scales <danscales@google.com>
    Reviewed-by: Dan Scales <danscales@google.com>

 src/cmd/compile/internal/inline/inl.go | 15 ++++++++++-----
 test/closure3.dir/main.go              |  8 ++++----
 test/inline.go                         |  4 ++--
 3 files changed, 16 insertions(+), 11 deletions(-)
