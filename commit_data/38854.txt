commit f0e97546962736fe4aa73b7c7ed590f0134515e1
Author: Russ Cox <rsc@golang.org>
Date:   Mon Apr 8 11:23:42 2019 -0400

    cmd/go: add env -w and env -u to set and unset default env vars
    
    Setting environment variables for go command configuration
    is too difficult and system-specific. This CL adds go env -w,
    to change the default settings more easily, in a portable way.
    It also adds go env -u, to unset those changes.
    
    See https://golang.org/design/30411-env for details.
    
    Fixes #30411.
    
    Change-Id: I36e83f55b666459f8f7f482432a4a6ee015da71d
    Reviewed-on: https://go-review.googlesource.com/c/go/+/171137
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Bryan C. Mills <bcmills@google.com>

 src/cmd/go/alldocs.go                    |  57 ++++---
 src/cmd/go/go_test.go                    |  13 +-
 src/cmd/go/internal/base/goflags.go      |   3 +-
 src/cmd/go/internal/cache/default.go     |   3 +-
 src/cmd/go/internal/cfg/cfg.go           | 254 ++++++++++++++++++++++++++++---
 src/cmd/go/internal/envcmd/env.go        | 240 ++++++++++++++++++++++++++---
 src/cmd/go/internal/help/helpdoc.go      |  47 +++---
 src/cmd/go/internal/modfetch/notary.go   |   4 +-
 src/cmd/go/internal/modfetch/proxy.go    |   4 +-
 src/cmd/go/internal/modload/init.go      |  27 ++--
 src/cmd/go/internal/work/action.go       |   2 +-
 src/cmd/go/internal/work/exec.go         |  35 +++--
 src/cmd/go/internal/work/gccgo.go        |   6 +-
 src/cmd/go/internal/work/security.go     |   9 +-
 src/cmd/go/main.go                       |  10 +-
 src/cmd/go/testdata/script/env_write.txt |  87 +++++++++++
 src/cmd/internal/objabi/util.go          |   2 +-
 src/make.bash                            |   1 +
 src/make.bat                             |   3 +-
 src/make.rc                              |   1 +
 src/runtime/extern.go                    |   3 +
 21 files changed, 671 insertions(+), 140 deletions(-)
