commit 0de71619ce591d79297ae609362a8ac1cdb5fe46
Author: Russ Cox <rsc@golang.org>
Date:   Sat Dec 22 14:54:39 2012 -0500

    runtime: aggregate defer allocations
    
    benchmark             old ns/op    new ns/op    delta
    BenchmarkDefer              165          113  -31.52%
    BenchmarkDefer10            155          103  -33.55%
    BenchmarkDeferMany          216          158  -26.85%
    
    benchmark            old allocs   new allocs    delta
    BenchmarkDefer                1            0  -100.00%
    BenchmarkDefer10              1            0  -100.00%
    BenchmarkDeferMany            1            0  -100.00%
    
    benchmark             old bytes    new bytes    delta
    BenchmarkDefer               64            0  -100.00%
    BenchmarkDefer10             64            0  -100.00%
    BenchmarkDeferMany           64           66    3.12%
    
    Fixes #2364.
    
    R=ken2
    CC=golang-dev
    https://golang.org/cl/7001051

 src/pkg/runtime/cgocall.c       |   8 +-
 src/pkg/runtime/panic.c         | 158 +++++++++++++++++++++++++++++++---------
 src/pkg/runtime/runtime.h       |  12 ++-
 src/pkg/runtime/runtime_test.go |  41 +++++++++++
 4 files changed, 180 insertions(+), 39 deletions(-)
