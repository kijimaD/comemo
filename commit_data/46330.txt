commit 6d03cde88a0599bd0a8d6cb1e5b08c5d0a06020a
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Tue Dec 22 19:32:57 2020 -0800

    [dev.regabi] cmd/dist: automatically bootstrap cmd subdirs
    
    We want almost all cmd subdirectories anyway, and relative to the cost
    of the rest of toolchain bootstrapping, copying/rewriting a few extra
    source files is way cheaper than the engineering cost of forgetting to
    maintain these lists as we split out new packages.
    
    While here, also add cmd/internal/archive (and make it compile with Go
    1.4) because it'll be needed in subsequent refactorings anyway; and
    skip files starting with # (emacs temporary files) and test files
    ending with _test.go.
    
    Change-Id: Ic86e680a5fdfaecd617c36d5d04413293b2d6f52
    Reviewed-on: https://go-review.googlesource.com/c/go/+/279832
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    Reviewed-by: Russ Cox <rsc@golang.org>
    Trust: Matthew Dempsky <mdempsky@google.com>

 src/cmd/dist/buildtool.go           | 113 ++++++++++++++----------------------
 src/cmd/internal/archive/archive.go |  10 ++--
 2 files changed, 49 insertions(+), 74 deletions(-)
