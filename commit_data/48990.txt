commit b994cc69e05d7821a08f75619f356ecfe5ca9b43
Author: Dan Scales <danscales@google.com>
Date:   Fri Jul 2 12:32:38 2021 -0700

    [dev.typeparams] cmd/compile:  separate out creating instantiations from creating dictionaries
    
    We often need to create a function/method instantiation, but not a
    dictionary, because the call to the instantiation will be using a
    sub-dictionary. Also, main dictionaries are only need for concrete,
    non-gcshape types, whereas instantiations will be for gcshape types (or
    concrete types, for strict stenciling).
    
    Created a helper function getDictOrSubdict() to reduce duplicated code.
    Also, moved gfGetGfInfo() call in getDictionarySym() inside conditional
    where it is needed, to avoid extra work when dictionary has already been
    created.
    
    Change-Id: I06587cb2ddc77de2f991e9f9eaf462d2c5a5d45e
    Reviewed-on: https://go-review.googlesource.com/c/go/+/332550
    Trust: Dan Scales <danscales@google.com>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/compile/internal/noder/irgen.go   |   5 --
 src/cmd/compile/internal/noder/stencil.go | 117 ++++++++++++++++--------------
 2 files changed, 62 insertions(+), 60 deletions(-)
