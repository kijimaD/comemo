commit 5b097e79511abb83ef04401140d7dab2b42c41a3
Author: Shenghou Ma <minux.ma@gmail.com>
Date:   Sun Jun 2 22:46:53 2013 +0800

    cmd/cgo: using __typeof__(a->r) instead of putting invalid TYPE in "a->r = (const TYPE)"
    Thanks kballard for the hint.
    Fixes #4857.
    
    R=golang-dev, iant
    CC=golang-dev
    https://golang.org/cl/9649045

 misc/cgo/test/issue4857.go | 15 +++++++++++++++
 src/cmd/cgo/out.go         |  2 +-
 2 files changed, 16 insertions(+), 1 deletion(-)
