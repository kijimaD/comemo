commit e39e965e0e0cce65ca977fd0da35f5bfb68dc2b8
Author: Austin Clements <austin@google.com>
Date:   Fri Dec 13 15:36:47 2024 -0500

    cmd/go: drop FailedBuild field if gotestjsonbuildtext=1
    
    go test -json has two new effects in Go 1.24: it implies go build
    -json, and it adds a FailedBuild field in test events. For
    compatibility, CL 629335 added gotestjsonbuildtext=1, which disables
    the implicit go build -json, but that CL didn't affect the FailedBuild
    field. In principle this shouldn't matter because it's just another
    JSON field, but just so we don't have to worry about some intermediate
    behavior, this CL makes gotestjsonbuildtext=1 disable the FailedBuild
    field as well.
    
    Updates #62067
    Updates #70402
    
    Change-Id: I006d1ea0468980ee2564495324e8b4ed082898af
    Reviewed-on: https://go-review.googlesource.com/c/go/+/635899
    Auto-Submit: Austin Clements <austin@google.com>
    Reviewed-by: Dmitri Shuralyov <dmitshur@golang.org>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Dmitri Shuralyov <dmitshur@google.com>

 src/cmd/go/internal/test/test.go               | 14 ++++++++++++--
 src/cmd/go/testdata/script/test_json_build.txt |  5 +++--
 2 files changed, 15 insertions(+), 4 deletions(-)
