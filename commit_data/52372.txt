commit e845f572ec6163fd3bad0267b5bb4f24d369bd93
Author: Russ Cox <rsc@golang.org>
Date:   Wed Apr 27 09:02:53 2022 -0400

    [dev.boringcrypto] crypto/ecdsa, crypto/rsa: use boring.Cache
    
    In the original BoringCrypto port, ecdsa and rsa's public and private
    keys added a 'boring unsafe.Pointer' field to cache the BoringCrypto
    form of the key. This led to problems with code that “knew” the layout
    of those structs and in particular that they had no unexported fields.
    
    In response, as an awful kludge, I changed the compiler to pretend
    that field did not exist when laying out reflect data. Because we want
    to merge BoringCrypto in the main tree, we need a different solution.
    Using boring.Cache is that solution.
    
    For #51940.
    
    Change-Id: Ideb2b40b599a1dc223082eda35a5ea9abcc01e30
    Reviewed-on: https://go-review.googlesource.com/c/go/+/395883
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Roland Shoemaker <roland@golang.org>

 src/crypto/ecdsa/boring.go               | 25 +++++++++--------
 src/crypto/ecdsa/ecdsa.go                | 11 ++------
 src/crypto/internal/boring/cache.go      | 16 ++++++-----
 src/crypto/internal/boring/cache_test.go | 47 ++++++++++++++++++++++++++++----
 src/crypto/rsa/boring.go                 | 25 +++++++++--------
 src/crypto/rsa/boring_test.go            | 45 ++++++++++++++++--------------
 src/crypto/rsa/rsa.go                    |  5 ----
 src/internal/boringtest/boring.go        |  8 ------
 src/internal/boringtest/boring_test.go   | 47 --------------------------------
 src/runtime/mgc.go                       |  7 ++++-
 src/runtime/mgc_boring.go                | 14 ----------
 11 files changed, 110 insertions(+), 140 deletions(-)
