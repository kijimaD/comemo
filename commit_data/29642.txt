commit d2df8498f366669acbae24f38e3683b3acdab102
Author: Daniel Theophanes <kardianos@gmail.com>
Date:   Wed Sep 28 12:51:39 2016 -0700

    database/sql: close Rows when context is cancelled
    
    To prevent leaking connections, close any open Rows when the
    context is cancelled. Also enforce context cancel while reading
    rows off of the wire.
    
    Change-Id: I62237ecdb7d250d6734f6ce3d2b0bcb16dc6fda7
    Reviewed-on: https://go-review.googlesource.com/29957
    Reviewed-by: Brad Fitzpatrick <bradfitz@golang.org>

 src/database/sql/ctxutil.go  | 24 ++++++++++++++++++
 src/database/sql/sql.go      | 45 ++++++++++++++++++++++++++++------
 src/database/sql/sql_test.go | 58 ++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 119 insertions(+), 8 deletions(-)
