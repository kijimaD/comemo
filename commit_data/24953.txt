commit f8e6418637c8163d9046ccf700d3486000fddb26
Author: Russ Cox <rsc@golang.org>
Date:   Fri Nov 13 16:21:01 2015 -0500

    runtime: fix bad signal stack when using cgo-created threads and async signals
    
    Cgo-created threads transition between having associated Go g's and m's and not.
    A signal arriving during the transition could think it was safe and appropriate to
    run Go signal handlers when it was in fact not.
    Avoid the race by masking all signals during the transition.
    
    Fixes #12277.
    
    Change-Id: Ie9711bc1d098391d58362492197a7e0f5b497d14
    Reviewed-on: https://go-review.googlesource.com/16915
    Reviewed-by: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Russ Cox <rsc@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>

 src/runtime/os1_darwin.go    | 17 ++++++++++++++---
 src/runtime/os1_dragonfly.go | 16 +++++++++++++---
 src/runtime/os1_freebsd.go   | 17 ++++++++++++++---
 src/runtime/os1_linux.go     | 17 ++++++++++++++---
 src/runtime/os1_nacl.go      |  9 +++++++++
 src/runtime/os1_netbsd.go    | 18 ++++++++++++++----
 src/runtime/os1_openbsd.go   | 17 ++++++++++++++---
 src/runtime/os1_plan9.go     |  6 ++++++
 src/runtime/os1_windows.go   | 10 ++++++++++
 src/runtime/os3_solaris.go   | 18 ++++++++++++++----
 src/runtime/proc.go          | 22 ++++++++++++++++++----
 11 files changed, 140 insertions(+), 27 deletions(-)
