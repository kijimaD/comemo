commit 48ef01051ae58265088ee87f3a408224d2cfaec3
Author: Keith Randall <keithr@alum.mit.edu>
Date:   Wed Apr 3 13:16:58 2019 -0700

    cmd/compile: handle new panicindex/slice names in optimizations
    
    These new calls should not prevent NOSPLIT promotion, like the old ones.
    These new calls should not prevent racefuncenter/exit removal.
    
    (The latter was already true, as the new calls are not yet lowered
    to StaticCalls at the point where racefuncenter/exit removal is done.)
    
    Add tests to make sure we don't regress (again).
    
    Fixes #31219
    
    Change-Id: I3fb6b17cdd32c425829f1e2498defa813a5a9ace
    Reviewed-on: https://go-review.googlesource.com/c/go/+/170639
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ilya Tocar <ilya.tocar@intel.com>

 src/cmd/compile/internal/ssa/rewrite.go | 19 +++++++++++--------
 src/cmd/internal/obj/x86/obj6.go        |  8 +++++++-
 test/codegen/race.go                    | 20 ++++++++++++++++++++
 test/codegen/stack.go                   | 11 +++++++++++
 test/run.go                             |  3 +++
 5 files changed, 52 insertions(+), 9 deletions(-)
