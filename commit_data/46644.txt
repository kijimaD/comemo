commit 4a4212c0e59dee4458be2f5c85262e54f127c500
Author: Matthew Dempsky <mdempsky@google.com>
Date:   Sun Jan 17 02:38:41 2021 -0800

    [dev.regabi] cmd/compile: refactor Linksym creation
    
    Currently there's a lot of logic within package types for creating
    Linksyms. This CL pulls it out into base, where it can be more easily
    reused by other compiler code that shouldn't need to depend on package
    types.
    
    Package base probably isn't the best place for this, but it's
    convenient because it's a package that types already depends on. It's
    also where the Ctxt object lives, which these functions depend upon.
    
    Passes toolstash -cmp w/ -gcflags=all=-abiwrap.
    
    Change-Id: I50d8b7e4596955205036969eab24d7dab053b363
    Reviewed-on: https://go-review.googlesource.com/c/go/+/284231
    Run-TryBot: Matthew Dempsky <mdempsky@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Than McIntosh <thanm@google.com>
    Trust: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/base/base.go       |  4 ---
 src/cmd/compile/internal/base/link.go       | 36 ++++++++++++++++++++++
 src/cmd/compile/internal/dwarfgen/dwarf.go  |  2 +-
 src/cmd/compile/internal/ir/func.go         |  7 +++--
 src/cmd/compile/internal/ir/name.go         |  3 +-
 src/cmd/compile/internal/ssagen/abi.go      |  4 +--
 src/cmd/compile/internal/ssagen/ssa.go      |  4 +--
 src/cmd/compile/internal/staticdata/data.go |  2 +-
 src/cmd/compile/internal/typecheck/syms.go  | 11 ++++---
 src/cmd/compile/internal/types/sym.go       | 47 ++++++++---------------------
 10 files changed, 67 insertions(+), 53 deletions(-)
