commit 44623c2ece584d77a9e8338f5f0bec198a2bab60
Author: Alex Brainman <alex.brainman@gmail.com>
Date:   Mon Oct 23 16:23:43 2017 +1100

    net: use WSASocket instead of socket call
    
    WSASocket (unlike socket call) allows to create sockets that
    will not be inherited by child process. So call WSASocket to
    save on using syscall.ForkLock and calling syscall.CloseOnExec.
    
    Some very old versions of Windows do not have that functionality.
    Call socket, if WSASocket failed, to support these.
    
    Change-Id: I2dab9fa00d1a8609dd6feae1c9cc31d4e55b8cb5
    Reviewed-on: https://go-review.googlesource.com/72590
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/go/build/deps_test.go                        |  2 +-
 src/internal/syscall/windows/syscall_windows.go  |  7 +++++
 src/internal/syscall/windows/zsyscall_windows.go | 15 ++++++++++
 src/net/hook_windows.go                          |  8 +++--
 src/net/internal/socktest/sys_windows.go         | 37 +++++++++++++++++++++++-
 src/net/main_windows_test.go                     |  3 ++
 src/net/sock_windows.go                          | 13 ++++++++-
 7 files changed, 79 insertions(+), 6 deletions(-)
