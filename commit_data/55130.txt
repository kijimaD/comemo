commit 059a9eedf45f4909db6a24242c106be15fb27193
Author: Filippo Valsorda <filippo@golang.org>
Date:   Tue Nov 21 23:16:56 2023 +0100

    crypto/tls: check and record godebugs more granularly
    
    We should call Value as late as possible to allow programs to set
    GODEBUG with os.Setenv, and IncNonDefault only when (and every time) the
    GODEBUG has an effect on a connection (that we'd have regularly
    rejected).
    
    Change-Id: If7a1446de407db7ca2d904d41dda13558b684dda
    Reviewed-on: https://go-review.googlesource.com/c/go/+/544335
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Roland Shoemaker <roland@golang.org>
    Reviewed-by: David Chase <drchase@google.com>
    Auto-Submit: Filippo Valsorda <filippo@golang.org>

 src/crypto/tls/cipher_suites.go    | 39 +++++++++++++++++++-------------------
 src/crypto/tls/common.go           | 11 +++++++----
 src/crypto/tls/conn.go             |  6 +++---
 src/crypto/tls/handshake_client.go |  4 ++++
 src/crypto/tls/handshake_server.go |  8 ++++++++
 src/crypto/tls/tls_test.go         | 12 ++----------
 6 files changed, 43 insertions(+), 37 deletions(-)
