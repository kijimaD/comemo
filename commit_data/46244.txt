commit 4dfc7333f4ebe67e0aa7f429ce73c9d58a2fc309
Author: Russ Cox <rsc@golang.org>
Date:   Thu Dec 10 20:55:10 2020 -0500

    [dev.regabi] cmd/compile: update ir/fmt for concrete types
    
    An automated rewrite will add concrete type assertions after
    a test of n.Op(), when n can be safely type-asserted
    (meaning, n is not reassigned a different type, n is not reassigned
    and then used outside the scope of the type assertion,
    and so on).
    
    This sequence of CLs handles the code that the automated
    rewrite does not: adding specific types to function arguments,
    adjusting code not to call n.Left() etc when n may have multiple
    representations, and so on.
    
    This CL handles package fmt. There are various type assertions
    but also some rewriting to lean more heavily on reflection.
    
    Passes buildall w/ toolstash -cmp.
    
    Change-Id: I503467468b42ace11bff2ba014b03cfa345e6d03
    Reviewed-on: https://go-review.googlesource.com/c/go/+/277915
    Trust: Russ Cox <rsc@golang.org>
    Reviewed-by: Matthew Dempsky <mdempsky@google.com>

 src/cmd/compile/internal/ir/fmt.go  | 285 ++++++++++++++++++++++++------------
 src/cmd/compile/internal/ir/name.go |  22 +--
 test/escape_param.go                |   4 +-
 3 files changed, 208 insertions(+), 103 deletions(-)
