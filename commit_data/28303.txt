commit 276803d6111b46c66956c99d982d70f23820ba5d
Author: David Crawshaw <crawshaw@golang.org>
Date:   Mon Sep 5 23:29:16 2016 -0400

    cmd/link: introduce a rel.ro segment
    
    When internally linking with using rel.ro sections, this segment covers
    the sections. To do this, move to other read-only sections, SELFROSECT
    and SMACHOPLT, out of the way.
    
    Part of adding PIE internal linking on linux/amd64.
    
    Change-Id: I4fb3d180e92f7e801789ab89864010faf5a2cb6d
    Reviewed-on: https://go-review.googlesource.com/28538
    Run-TryBot: David Crawshaw <crawshaw@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/cmd/internal/obj/link.go        |  11 ++-
 src/cmd/link/internal/amd64/asm.go  |   8 +-
 src/cmd/link/internal/arm/asm.go    |   8 +-
 src/cmd/link/internal/arm64/asm.go  |   8 +-
 src/cmd/link/internal/ld/data.go    | 150 +++++++++++++++++++++---------------
 src/cmd/link/internal/ld/elf.go     |  15 ++++
 src/cmd/link/internal/ld/lib.go     |   9 ++-
 src/cmd/link/internal/mips64/asm.go |   8 +-
 src/cmd/link/internal/ppc64/asm.go  |   8 +-
 src/cmd/link/internal/s390x/asm.go  |   8 +-
 src/cmd/link/internal/x86/asm.go    |   7 ++
 11 files changed, 168 insertions(+), 72 deletions(-)
