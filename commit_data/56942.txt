commit dbfa3cacc7a4178ff3b81c79f7678ac9d61c54ab
Author: Keith Randall <khr@golang.org>
Date:   Tue Jun 25 14:01:09 2024 -0700

    cmd/compile: fix typing of atomic logical operations
    
    For atomic AND and OR operations on memory, we currently have two
    views of the op. One just does the operation on the memory and returns
    just a memory. The other does the operation on the memory and returns
    the old value (before having the logical operation done to it) and
    memory.
    
    Update #61395
    
    These two type differently, and there's currently some confusion in
    our rules about which is which. Use different names for the two
    different flavors so we don't get them confused.
    
    Change-Id: I07b4542db672b2cee98169ac42b67db73c482093
    Reviewed-on: https://go-review.googlesource.com/c/go/+/594976
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Reviewed-by: Nicolas Hillegeer <aktau@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Reviewed-by: Mauri de Souza Meneguzzo <mauri870@gmail.com>
    Reviewed-by: Keith Randall <khr@google.com>

 src/cmd/compile/internal/ssa/_gen/ARM64.rules   |  8 ++--
 src/cmd/compile/internal/ssa/_gen/genericOps.go | 32 ++++++++-----
 src/cmd/compile/internal/ssa/opGen.go           | 64 ++++++++++++++++++-------
 src/cmd/compile/internal/ssa/rewriteARM64.go    | 24 +++++-----
 src/cmd/compile/internal/ssagen/ssa.go          | 52 ++++++++++++--------
 5 files changed, 113 insertions(+), 67 deletions(-)
