commit fce9d4515defec0473ca3a685408ef5304d23aa9
Author: Damien Neil <dneil@google.com>
Date:   Wed May 21 15:08:08 2025 -0700

    runtime, testing/synctest: verify cleanups/finalizers run outside bubbles
    
    Cleanup functions and finalizers must not run in a synctest bubble.
    If they did, a function run by the GC at an unpredictable time
    could unblock a bubble that synctest believes is durably
    blocked.
    
    Add a test verifying that cleanups and finalizers are always
    run by non-bubbled goroutines. (This is already the case because
    we never add system goroutines to a bubble.)
    
    For #67434
    
    Change-Id: I5a48db2b26f9712c3b0dc1f425d99814031a2fc1
    Reviewed-on: https://go-review.googlesource.com/c/go/+/675257
    Reviewed-by: Michael Pratt <mpratt@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Auto-Submit: Damien Neil <dneil@google.com>

 src/runtime/testdata/testsynctest/main.go | 31 +++++++++++++++++++++++++------
 src/testing/synctest/synctest.go          |  4 ++++
 2 files changed, 29 insertions(+), 6 deletions(-)
