commit 35998c010947d3a5a26409fffcb4ed16c3595850
Author: Roland Shoemaker <roland@golang.org>
Date:   Mon Mar 21 11:58:08 2022 -0700

    crypto/x509: only disable SHA-1 verification for certificates
    
    Disable SHA-1 signature verification in Certificate.CheckSignatureFrom,
    but not in Certificate.CheckSignature. This allows verification of OCSP
    responses and CRLs, which still use SHA-1 signatures, but not on
    certificates.
    
    Updates #41682
    
    Change-Id: Ia705eb5052e6fc2724fed59248b1c4ef8af6c3fe
    Reviewed-on: https://go-review.googlesource.com/c/go/+/394294
    Trust: Roland Shoemaker <roland@golang.org>
    Run-TryBot: Roland Shoemaker <roland@golang.org>
    Auto-Submit: Roland Shoemaker <roland@golang.org>
    Reviewed-by: Jordan Liggitt <liggitt@google.com>
    Reviewed-by: Filippo Valsorda <filippo@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>

 src/crypto/x509/verify.go    |  3 ++
 src/crypto/x509/x509.go      | 22 +++++------
 src/crypto/x509/x509_test.go | 94 +++++++++++++++++++++++++++++++++-----------
 3 files changed, 85 insertions(+), 34 deletions(-)
