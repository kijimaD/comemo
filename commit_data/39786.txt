commit a919b760378343a211719991a9e0b1b819ac9f3d
Author: Damien Neil <dneil@google.com>
Date:   Tue Feb 19 13:03:55 2019 -0800

    os: make errors.Is work with ErrPermission et al.
    
    As proposed in Issue #29934, update errors produced by the os package to
    work with errors.Is sentinel tests. For example,
    errors.Is(err, os.ErrPermission) is equivalent to os.IsPermission(err)
    with added unwrapping support.
    
    Move the definition for os.ErrPermission and others into the syscall
    package. Add an Is method to syscall.Errno and others. Add an Unwrap
    method to os.PathError and others.
    
    Updates #30322
    Updates #29934
    
    Change-Id: I95727d26c18a5354c720de316dff0bffc04dd926
    Reviewed-on: https://go-review.googlesource.com/c/go/+/163058
    Reviewed-by: Marcel van Lohuizen <mpvl@golang.org>

 src/fmt/errors_test.go         |  4 ++--
 src/go/build/deps_test.go      |  5 +++--
 src/internal/oserror/errors.go | 20 +++++++++++++++++
 src/os/error.go                | 49 +++++++++++++++++++++++++++++++++---------
 src/os/error_plan9.go          | 44 -------------------------------------
 src/os/error_test.go           | 20 +++++++++++++----
 src/os/error_unix.go           | 24 ---------------------
 src/os/error_windows.go        | 28 ------------------------
 src/os/file.go                 |  4 ++++
 src/syscall/syscall_js.go      | 17 +++++++++++++++
 src/syscall/syscall_nacl.go    | 17 +++++++++++++++
 src/syscall/syscall_plan9.go   | 44 ++++++++++++++++++++++++++++++++++++-
 src/syscall/syscall_unix.go    | 17 +++++++++++++++
 src/syscall/syscall_windows.go | 23 ++++++++++++++++++++
 14 files changed, 201 insertions(+), 115 deletions(-)
