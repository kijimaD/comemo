commit 375a1fba0eb733676698ac3a9fdd12e6a8dd6602
Author: Cuong Manh Le <cuong.manhle.vn@gmail.com>
Date:   Tue Oct 5 22:59:49 2021 +0700

    cmd/compile: better error message for invalid untyped nil conversion
    
    In case of an invalid untyped nil conversion, the compiler's original
    type checker leaves it to the caller to report a suitable error message.
    But types2 does not, it always reports the invalid conversion.
    
    CL 328053 made types2 report a better error message, and match the
    original compiler behavior. But it ignored the case of untyped nil.
    
    This CL adds that missing case, by checking whether the two operands can
    be mixed when untyped nil is present.
    
    Fixes #48784
    
    Change-Id: Idc7d86eb0245aa18ca428e278f4416d6b3679058
    Reviewed-on: https://go-review.googlesource.com/c/go/+/354049
    Trust: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Run-TryBot: Cuong Manh Le <cuong.manhle.vn@gmail.com>
    Reviewed-by: Robert Griesemer <gri@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>

 src/cmd/compile/internal/types2/expr.go            |  6 ++++++
 .../internal/types2/testdata/check/expr2.src       |  4 ++--
 test/fixedbugs/issue48784.go                       | 23 ++++++++++++++++++++++
 3 files changed, 31 insertions(+), 2 deletions(-)
