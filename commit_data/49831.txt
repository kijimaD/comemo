commit 3100f54f209b9dc3c277e028d70850c975a2de54
Author: Robert Griesemer <gri@golang.org>
Date:   Tue Sep 14 17:02:30 2021 -0700

    cmd/compile/internal/types2: merge Named type loading and expansion
    
    Clean port of CL 349410 from go/types to types2 with 2 adjustments:
    using syntax.Pos instead of token.Pos, and using TypeHash instead
    of typeHash.
    
    Fixes #47887.
    
    Change-Id: Ifd8495e4187b5e30aaf80702768d82aad5e10cf4
    Reviewed-on: https://go-review.googlesource.com/c/go/+/349995
    Trust: Robert Griesemer <gri@golang.org>
    Run-TryBot: Robert Griesemer <gri@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Robert Findley <rfindley@google.com>

 src/cmd/compile/internal/types2/decl.go            |   4 +-
 src/cmd/compile/internal/types2/instantiate.go     |   3 +-
 src/cmd/compile/internal/types2/lookup.go          |   2 +-
 src/cmd/compile/internal/types2/named.go           | 114 ++++++++-------------
 src/cmd/compile/internal/types2/object.go          |  16 ++-
 src/cmd/compile/internal/types2/signature.go       |   2 +-
 src/cmd/compile/internal/types2/subst.go           |  39 +++----
 .../types2/testdata/fixedbugs/issue47887.go2       |  28 +++++
 src/cmd/compile/internal/types2/type.go            |   2 +-
 9 files changed, 114 insertions(+), 96 deletions(-)
