commit be50055eef0f460695adb8db2b130392dc367fe7
Author: Johan Brandhorst-Satzkorn <johan.brandhorst@gmail.com>
Date:   Fri Mar 24 23:11:55 2023 -0700

    runtime: add remaining wasip1 files
    
    Implements OS interactions and memory management.
    
    For #58141
    
    Co-authored-by: Richard Musiol <neelance@gmail.com>
    Co-authored-by: Achille Roussel <achille.roussel@gmail.com>
    Co-authored-by: Julien Fabre <ju.pryz@gmail.com>
    Co-authored-by: Evan Phoenix <evan@phx.io>
    Change-Id: I876e7b033090c2fe2d76d2535bb63d52efa36185
    Reviewed-on: https://go-review.googlesource.com/c/go/+/479618
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Run-TryBot: Cherry Mui <cherryyz@google.com>
    Auto-Submit: Ian Lance Taylor <iant@golang.org>
    Run-TryBot: Ian Lance Taylor <iant@golang.org>

 src/internal/testenv/testenv.go |  18 +++
 src/runtime/lock_wasip1.go      | 107 +++++++++++++++++
 src/runtime/mem_js.go           |  19 +--
 src/runtime/mem_wasip1.go       |  13 +++
 src/runtime/mem_wasm.go         |  20 ++++
 src/runtime/netpoll.go          |   2 +-
 src/runtime/netpoll_fake.go     |   6 +-
 src/runtime/os_js.go            | 143 +----------------------
 src/runtime/os_wasip1.go        | 251 ++++++++++++++++++++++++++++++++++++++++
 src/runtime/os_wasm.go          | 152 ++++++++++++++++++++++++
 src/runtime/pprof/pprof_test.go |   6 +
 src/runtime/pprof/proto_test.go |   2 +-
 src/runtime/runtime_test.go     |   4 +-
 src/runtime/semasleep_test.go   |   2 +-
 src/runtime/stubs2.go           |   2 +-
 src/runtime/stubs3.go           |   2 +-
 src/runtime/sys_wasm.s          |   9 --
 src/runtime/timestub2.go        |   2 +-
 src/runtime/trace/trace_test.go |  10 +-
 19 files changed, 588 insertions(+), 182 deletions(-)
