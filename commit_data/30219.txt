commit 68348394274ee83f5286022d97cfe58b6761321b
Author: Austin Clements <austin@google.com>
Date:   Fri Oct 7 17:25:26 2016 -0400

    runtime, cmd/trace: annotate different mark worker types
    
    Currently mark workers are shown in the trace as regular goroutines
    labeled "runtime.gcBgMarkWorker". That's somewhat unhelpful to an end
    user because of the opaque label and particularly unhelpful to runtime
    developers because it doesn't distinguish the different types of mark
    workers.
    
    Fix this by introducing a variant of the GoStart event called
    GoStartLabel that lets the runtime indicate a label for a goroutine
    execution span and using this to label mark worker executions as "GC
    (<mode>)" in the trace viewer.
    
    Since this bumps the trace version to 1.8, we also add test data for
    1.7 traces.
    
    Change-Id: Id7b9c0536508430c661ffb9e40e436f3901ca121
    Reviewed-on: https://go-review.googlesource.com/30702
    Run-TryBot: Austin Clements <austin@google.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Dmitry Vyukov <dvyukov@google.com>

 src/cmd/trace/trace.go                             |   8 ++++--
 src/internal/trace/goroutines.go                   |   2 +-
 src/internal/trace/order.go                        |   2 +-
 src/internal/trace/parser.go                       |  16 +++++++----
 src/internal/trace/testdata/http_1_7_good          | Bin 0 -> 1971 bytes
 src/internal/trace/testdata/stress_1_7_good        | Bin 0 -> 396526 bytes
 .../trace/testdata/stress_start_stop_1_7_good      | Bin 0 -> 2055 bytes
 src/runtime/mgc.go                                 |   8 ++++++
 src/runtime/trace.go                               |  30 +++++++++++++++++----
 9 files changed, 52 insertions(+), 14 deletions(-)
