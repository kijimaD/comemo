commit 01a1eaa10c95dbbb1decad79334a2d6f34dc6832
Author: Keith Randall <keithr@alum.mit.edu>
Date:   Fri Dec 7 10:00:36 2018 -0800

    cmd/compile: use innermost line number for -S
    
    When functions are inlined, for instructions in the inlined body, does
    -S print the location of the call, or the location of the body? Right
    now, we do the former. I'd like to do the latter by default, it makes
    much more sense when reading disassembly. With mid-stack inlining
    enabled in more cases, this quandry will come up more often.
    
    The original behavior is still available with -S=2. Some tests
    use this mode (so they can find assembly generated by a particular
    source line).
    
    This helped me with understanding what the compiler was doing
    while fixing #29007.
    
    Change-Id: Id14a3a41e1b18901e7c5e460aa4caf6d940ed064
    Reviewed-on: https://go-review.googlesource.com/c/153241
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/asm/main.go                        |  2 +-
 src/cmd/compile/internal/gc/global_test.go | 17 ++++++++---------
 src/cmd/compile/internal/gc/main.go        | 10 +++++-----
 src/cmd/internal/obj/link.go               |  2 +-
 src/cmd/internal/obj/objfile.go            | 10 ++++++++--
 src/cmd/internal/obj/plist.go              |  2 +-
 src/cmd/internal/obj/util.go               | 15 ++++++++++++++-
 test/run.go                                |  3 ++-
 8 files changed, 40 insertions(+), 21 deletions(-)
