commit d0d6593d1d4e81acd073244f42b6893fa65c99d8
Author: Michael Munday <mike.munday@ibm.com>
Date:   Mon Aug 10 08:01:21 2020 -0700

    cmd/internal/obj: fix inline marker issue on s390x
    
    The optimization that replaces inline markers with pre-existing
    instructions assumes that 'Prog' values produced by the compiler are
    still reachable after the assembler has run. This was not true on
    s390x where the assembler was removing NOP instructions from the
    linked list of 'Prog' values. This led to broken inlining data
    which in turn caused an infinite loop in the runtime traceback code.
    
    Fix this by stopping the s390x assembler backend removing NOP
    values. It does not make any difference to the output of the
    assembler because NOP instructions are 0 bytes long anyway.
    
    Fixes #40473.
    
    Change-Id: Ib4fabadd1de8adb80421f75950ee9aad2111147a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/247697
    Run-TryBot: Michael Munday <mike.munday@ibm.com>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@golang.org>

 src/cmd/internal/obj/pcln.go       | 15 +++++++++++++++
 src/cmd/internal/obj/s390x/objz.go | 11 -----------
 2 files changed, 15 insertions(+), 11 deletions(-)
