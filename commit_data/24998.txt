commit cde977c23cbf5fb29f12bcbca5164530d0256019
Author: Keith Randall <khr@golang.org>
Date:   Tue Sep 15 09:02:07 2015 -0700

    [dev.ssa] cmd/compile/internal/ssa: fix sign extension + load combo
    
    Load-and-sign-extend opcodes were being generated in the
    wrong block, leading to having more than one memory variable
    live at once.  Fix the rules + add a test.
    
    Change-Id: Iadf80e55ea901549c15c628ae295c2d0f1f64525
    Reviewed-on: https://go-review.googlesource.com/14591
    Reviewed-by: Todd Neal <todd@tneal.org>
    Run-TryBot: Todd Neal <todd@tneal.org>

 .../compile/internal/gc/testdata/loadstore_ssa.go  | 21 ++++++++++++++++
 src/cmd/compile/internal/ssa/gen/AMD64.rules       | 10 ++++++--
 src/cmd/compile/internal/ssa/regalloc.go           | 28 ++++++++++++++++++++++
 src/cmd/compile/internal/ssa/rewriteAMD64.go       | 22 ++++++++++-------
 4 files changed, 71 insertions(+), 10 deletions(-)
