commit 011cb6423187699e26553580d97518f40966d32b
Author: Ian Lance Taylor <iant@golang.org>
Date:   Wed Nov 16 16:13:22 2016 -0800

    cmd/compile, reflect: use field pkgPath if needed
    
    It's possible for the pkgPath of a field to be different than that of
    the struct type as a whole. In that case, store the field's pkgPath in
    the name field. Use the field's pkgPath when setting PkgPath and when
    checking for type identity.
    
    Fixes #17952.
    
    Change-Id: Iebaf92f0054b11427c8f6e4158c3bebcfff06f45
    Reviewed-on: https://go-review.googlesource.com/33333
    Run-TryBot: Ian Lance Taylor <iant@golang.org>
    TryBot-Result: Gobot Gobot <gobot@golang.org>
    Reviewed-by: David Crawshaw <crawshaw@golang.org>

 src/cmd/compile/internal/gc/reflect.go | 19 +++++++++++-------
 src/reflect/all_test.go                | 36 +++++++++++++++++++++++-----------
 src/reflect/type.go                    | 29 +++++++++++++++------------
 3 files changed, 54 insertions(+), 30 deletions(-)
