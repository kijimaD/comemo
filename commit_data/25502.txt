commit 331a6055ab8785e77bd1331355d209bd7da2ae26
Author: Russ Cox <rsc@golang.org>
Date:   Wed Jan 6 23:00:08 2016 -0500

    runtime: fix up OS X kernel bug sending user-generated SIGTRAP
    
    OS X unconditionally sets si_code = TRAP_BRKPT when sending SIGTRAP,
    even if it was generated by kill -TRAP and not a breakpoint.
    Correct the si_code by looking to see if the PC is after a breakpoint.
    
    For #12906.
    
    Change-Id: I998c2499f7f12b338e607282a325b045f1f4f690
    Reviewed-on: https://go-review.googlesource.com/18347
    Reviewed-by: Ian Lance Taylor <iant@golang.org>

 src/runtime/signal_darwin.go       |  2 ++
 src/runtime/signal_darwin_386.go   | 22 ++++++++++++++++++++++
 src/runtime/signal_darwin_amd64.go | 22 ++++++++++++++++++++++
 src/runtime/signal_darwin_arm.go   | 21 +++++++++++++++++++++
 src/runtime/signal_darwin_arm64.go | 21 +++++++++++++++++++++
 5 files changed, 88 insertions(+)
