commit d463de61b38cc037808970a8aeed8255082a1df5
Author: Mitar <mitar.git@tnode.com>
Date:   Tue Mar 5 23:45:51 2024 +0000

    net/http: remove misleading response headers on error
    
    ServeContent API is to set some headers you want to see in the response
    before calling ServeContent. But if there is an error, those headers
    should be removed otherwise they might confused the client.
    
    Removing those headers is useful in general in the case of an error,
    so we remove them in http.Error.
    
    Fixes #50905.
    
    Change-Id: If8d2786c1512906ac93e6b388df6ab1c5ecd1ea9
    GitHub-Last-Rev: 32b6f045a791cf7bc391f018452a05cc872041ba
    GitHub-Pull-Request: golang/go#64312
    Reviewed-on: https://go-review.googlesource.com/c/go/+/544019
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>
    Auto-Submit: Damien Neil <dneil@google.com>
    Reviewed-by: Michael Knyszek <mknyszek@google.com>
    Reviewed-by: Damien Neil <dneil@google.com>

 src/net/http/fs_test.go | 62 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/net/http/server.go  | 17 +++++++++++---
 2 files changed, 76 insertions(+), 3 deletions(-)
