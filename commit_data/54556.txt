commit 9ce27feaeb91b2f30ff8cbe3be1ece3071f3f6b2
Author: Keith Randall <khr@golang.org>
Date:   Fri Oct 28 14:14:24 2022 -0700

    cmd/compile: add rule for post-decomposed growslice optimization
    
    The recently added rule only works before decomposing slices.
    Add a rule that works after decomposing slices.
    
    The reason we need the latter is because although the length may
    be a constant, it can be hidden inside a slice that is not constant
    (its pointer or capacity might be changing). By applying this
    optimization after decomposing slices, we can find more cases
    where it applies.
    
    Fixes #56440
    
    Change-Id: I0094e59eee3065ab4d210defdda8227a6e897420
    Reviewed-on: https://go-review.googlesource.com/c/go/+/446277
    Run-TryBot: Keith Randall <khr@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Keith Randall <khr@google.com>

 src/cmd/compile/internal/ssa/_gen/generic.rules |  3 +++
 src/cmd/compile/internal/ssa/rewritegeneric.go  | 32 +++++++++++++++++++++++++
 test/codegen/issue56440.go                      | 16 +++++++++++++
 3 files changed, 51 insertions(+)
