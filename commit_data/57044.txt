commit 962753b015407c69dd334578fd32a80aa7905c24
Author: Michael Matloob <matloob@golang.org>
Date:   Mon Jun 12 12:33:30 2023 -0400

    go/build: check for invalid import paths again
    
    The go parser previously checked for invalid import paths, go/build,
    seeing the parse error would put files with invalid import paths into
    InvalidGoFiles. golang.org/cl/424855 removed that check from the
    parser, which meant files with invalid import paths not have any parse
    errors on them and not be put into InvalidGoFiles. Do a check for
    invalid import paths in go/build soon after parsing so we can make
    sure files with invalid import paths go into InvalidGoFiles.
    
    This fixes an issue where the Go command assumed that if a file wasn't
    invalid it had non empty import paths, leading to a panic.
    
    Fixes #60230
    Fixes #60686
    
    Change-Id: I33c1dc9304649536834939cef7c689940236ee20
    Reviewed-on: https://go-review.googlesource.com/c/go/+/502615
    Reviewed-by: Bryan Mills <bcmills@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Michael Matloob <matloob@golang.org>
    Run-TryBot: Michael Matloob <matloob@golang.org>

 src/cmd/go/testdata/script/list_empty_import.txt |  9 +++++++++
 src/go/build/read.go                             | 22 ++++++++++++++++++++++
 2 files changed, 31 insertions(+)
