commit 5e4f9b077f27c79a69677b7c15dbfd157b1698a4
Author: Keith Randall <khr@golang.org>
Date:   Mon May 3 08:55:57 2021 -0700

    cmd/compile: when compiling with -N, avoid entry block
    
    Lots of constant SSA values we put in the entry block so that
    CSE can easily combine them. With -N, however, we don't run CSE, so
    putting values in the entry block only serves to extend their lifetime
    for no benefit.
    
    Fixes #45897. The number of live SSA values per block goes from >5K to 22.
    Memory use goes from ~3GB to ~400MB.
    
    Change-Id: I620b423611790a900e0d4cd270eac5dbdddf2a2b
    Reviewed-on: https://go-review.googlesource.com/c/go/+/316369
    Trust: Keith Randall <khr@golang.org>
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: David Chase <drchase@google.com>

 src/cmd/compile/internal/ssagen/ssa.go | 32 ++++++++++++++++++++++----------
 1 file changed, 22 insertions(+), 10 deletions(-)
