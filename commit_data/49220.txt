commit 52e970b1c86f18806232adb0e1f42636645d21ff
Author: Jay Conrod <jayconrod@google.com>
Date:   Wed Jul 14 16:57:24 2021 -0700

    [dev.cmdgo] cmd: support space and quotes in CC and CXX
    
    The CC and CXX environment variables now support spaces and quotes
    (both double and single). This fixes two issues: first, if CC is a
    single path that contains spaces (like 'c:\Program
    Files\gcc\bin\gcc.exe'), that should now work if the space is quoted
    or escaped (#41400). Second, if CC or CXX has multiple arguments (like
    'gcc -O2'), they are now split correctly, and the arguments are passed
    before other arguments when invoking the C compiler. Previously,
    strings.Fields was used to split arguments, and the arguments were
    placed later in the command line. (#43078).
    
    Fixes golang/go#41400
    Fixes golang/go#43078
    
    Change-Id: I2d5d89ddb19c94adef65982a8137b01f037d5c11
    Reviewed-on: https://go-review.googlesource.com/c/go/+/334732
    Trust: Jay Conrod <jayconrod@google.com>
    Trust: Michael Matloob <matloob@golang.org>
    Run-TryBot: Jay Conrod <jayconrod@google.com>
    TryBot-Result: Go Bot <gobot@golang.org>
    Reviewed-by: Michael Matloob <matloob@golang.org>

 src/cmd/cgo/gcc.go                                 | 46 +++++++++++++-----
 src/cmd/cgo/main.go                                |  8 ++--
 src/cmd/compile/internal/ssa/stmtlines_test.go     |  7 ++-
 src/cmd/dist/buildtool.go                          |  1 +
 src/cmd/go/internal/envcmd/env.go                  | 34 +++++++++----
 src/cmd/go/internal/work/exec.go                   | 43 ++++++-----------
 src/cmd/go/internal/work/gc.go                     | 37 ++++++--------
 src/cmd/go/internal/work/init.go                   | 16 +++++--
 src/cmd/go/script_test.go                          |  1 +
 .../go/testdata/script/cgo_path_space_quote.txt    | 56 ++++++++++++++++++++++
 src/cmd/internal/dwarf/dwarf.go                    |  6 ++-
 src/cmd/link/dwarf_test.go                         |  8 +++-
 src/cmd/link/internal/ld/lib.go                    | 39 +++++++++------
 src/cmd/link/internal/ld/main.go                   |  7 ++-
 14 files changed, 206 insertions(+), 103 deletions(-)
