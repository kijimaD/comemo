commit d95e25e83c922aa63fcb1f596d6bdf1786789edb
Author: Tolya Korniltsev <korniltsev.anatoly@gmail.com>
Date:   Tue Dec 12 22:24:34 2023 +0700

    runtime/pprof: fix inlined generics locations
    
    When generic function[a,b] is inlined to the same generic function[b,a]
    with different types (not recursion) it is expected to get a pprof with
    a single Location with two functions. However due to incorrect check
    for generics names using runtime.Frame.Function, the profileBuilder
    assumes it is a recursion and emits separate Location.
    
    This change fixes the recursion check for generics functions by using
    runtime_expandFinalInlineFrame
    
    Fixes #64641
    
    Change-Id: I3f58818f08ee322b281daa377fa421555ad328c9
    Reviewed-on: https://go-review.googlesource.com/c/go/+/549135
    Run-TryBot: Michael Pratt <mpratt@google.com>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Cherry Mui <cherryyz@google.com>
    Reviewed-by: Michael Pratt <mpratt@google.com>
    LUCI-TryBot-Result: Go LUCI <golang-scoped@luci-project-accounts.iam.gserviceaccount.com>

 src/runtime/pprof/proto.go         |  2 +-
 src/runtime/pprof/protomem_test.go | 99 +++++++++++++++++++++++++++++++++-----
 2 files changed, 89 insertions(+), 12 deletions(-)
