commit 7f04b8416297a3810cd2eddbcce84ac569e9b96d
Author: Joe Tsai <joetsai@digital-static.net>
Date:   Sat Sep 24 23:40:02 2022 -0700

    time: optimize appendInt and appendNanos
    
    The appendInt function previously performed a double pass
    over the formatted integer. We can avoid the second pass
    if we knew the exact length of formatted integer,
    allowing us to directly serialize into the output buffer.
    
    Rename formatNano to appendNano to be consistent with
    other append-like functionality.
    
    Performance:
    
            name               old time/op  new time/op  delta
            FormatRFC3339Nano  109ns ± 1%   72ns ± 1%    -34.06%  (p=0.000 n=10+10)
    
    Change-Id: Id48f77eb4976fb1dcd6e27fb6a02d29cbf0c026a
    Reviewed-on: https://go-review.googlesource.com/c/go/+/444278
    Run-TryBot: Joseph Tsai <joetsai@digital-static.net>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Reviewed-by: Ian Lance Taylor <iant@google.com>
    Reviewed-by: David Chase <drchase@google.com>

 src/time/export_test.go    |  1 +
 src/time/format.go         | 90 +++++++++++++++++++++++++++-------------------
 src/time/format_rfc3339.go |  2 +-
 src/time/format_test.go    | 45 +++++++++++++++++++++++
 4 files changed, 100 insertions(+), 38 deletions(-)
