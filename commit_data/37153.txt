commit 77db076129160d50a098958c8e3f3fd5caa6257a
Merge: b77f5e4c85 1a27f048ad
Author: Filippo Valsorda <filippo@golang.org>
Date:   Fri Jun 29 13:16:42 2018 -0400

    [dev.boringcrypto] all: merge master into dev.boringcrypto
    
    Add a couple of skips for slow js/wasm tests.
    
    Change-Id: Ic95256b1d3c6e5e2f0cc536fad51e914d31cda9e

 .github/SUPPORT.md                                 |    2 +-
 api/except.txt                                     |   11 +-
 api/go1.11.txt                                     |  546 +++++++
 doc/code.html                                      |   10 +-
 doc/contribute.html                                |   63 +-
 doc/debugging_with_gdb.html                        |    4 +-
 doc/diagnostics.html                               |    4 +-
 doc/docs.html                                      |    2 +-
 doc/editors.html                                   |    2 +-
 doc/gccgo_contribute.html                          |    6 +-
 doc/gccgo_install.html                             |   10 +-
 doc/go1.11.html                                    |  346 +++++
 doc/go1.2.html                                     |    4 +-
 doc/go1.4.html                                     |   10 +-
 doc/go1.6.html                                     |    2 +-
 doc/go1.7.html                                     |    2 +-
 doc/go_faq.html                                    |   12 +-
 doc/go_spec.html                                   |   10 +-
 doc/install-source.html                            |    8 +-
 doc/install.html                                   |   39 +-
 doc/root.html                                      |    2 +-
 lib/time/update.bash                               |    4 +-
 lib/time/zoneinfo.zip                              |  Bin 364985 -> 365101 bytes
 misc/cgo/test/cgo_test.go                          |    1 +
 misc/cgo/test/issue18146.go                        |    8 +-
 misc/cgo/test/issue23356.go                        |   19 +
 misc/cgo/test/issue23555.go                        |   11 +
 .../cgo/test/issue23555a/a.go                      |   11 +-
 misc/cgo/test/issue23555b/a.go                     |   12 +
 misc/cgo/test/issue23720.go                        |   22 +
 misc/cgo/test/issue9400/gccgo.go                   |    2 +
 misc/cgo/test/issue9400/stubs.go                   |    2 +
 misc/cgo/test/sigprocmask.c                        |   21 +-
 misc/cgo/testplugin/src/issue25756/main.go         |   52 +
 misc/cgo/testplugin/src/issue25756/plugin/c-life.c |   56 +
 misc/cgo/testplugin/src/issue25756/plugin/life.go  |   39 +
 misc/cgo/testplugin/src/issue25756/plugin/life.h   |    7 +
 misc/cgo/testplugin/test.bash                      |   11 +-
 misc/cgo/testsanitizers/tsan_test.go               |    4 +
 misc/cgo/testshared/src/trivial/trivial.go         |    5 +
 misc/wasm/wasm_exec.js                             |  232 ++-
 src/archive/zip/struct.go                          |   10 +-
 src/bufio/scan.go                                  |   19 +-
 src/cmd/asm/internal/arch/arm64.go                 |    3 +-
 src/cmd/asm/internal/asm/testdata/arm64.s          |    2 +
 src/cmd/cgo/doc.go                                 |   25 +
 src/cmd/cgo/main.go                                |    2 +
 src/cmd/cgo/out.go                                 |   22 +-
 src/cmd/compile/README.md                          |    2 +-
 src/cmd/compile/internal/arm64/ssa.go              |   35 +-
 src/cmd/compile/internal/gc/bexport.go             |   16 +-
 src/cmd/compile/internal/gc/bimport.go             |    2 +-
 src/cmd/compile/internal/gc/builtin.go             |    1 +
 src/cmd/compile/internal/gc/builtin/runtime.go     |    1 +
 src/cmd/compile/internal/gc/const.go               |   18 +-
 src/cmd/compile/internal/gc/esc.go                 |   91 +-
 src/cmd/compile/internal/gc/export.go              |    4 +-
 src/cmd/compile/internal/gc/go.go                  |    1 +
 src/cmd/compile/internal/gc/iexport.go             |   16 +-
 src/cmd/compile/internal/gc/iimport.go             |    4 +-
 src/cmd/compile/internal/gc/inl.go                 |    6 +
 src/cmd/compile/internal/gc/main.go                |    6 +-
 src/cmd/compile/internal/gc/noder.go               |    4 +
 src/cmd/compile/internal/gc/racewalk.go            |   27 +-
 src/cmd/compile/internal/gc/select.go              |   10 +-
 src/cmd/compile/internal/gc/ssa.go                 |   52 +-
 src/cmd/compile/internal/gc/swt.go                 |    5 +
 src/cmd/compile/internal/gc/typecheck.go           |   76 +-
 src/cmd/compile/internal/gc/walk.go                |    5 +-
 src/cmd/compile/internal/ssa/compile.go            |    4 +-
 src/cmd/compile/internal/ssa/gen/AMD64Ops.go       |    4 +-
 src/cmd/compile/internal/ssa/gen/ARM.rules         |   10 +-
 src/cmd/compile/internal/ssa/gen/ARM64.rules       |    8 +-
 src/cmd/compile/internal/ssa/gen/ARM64Ops.go       |   19 +-
 src/cmd/compile/internal/ssa/gen/Wasm.rules        |    5 +
 src/cmd/compile/internal/ssa/gen/WasmOps.go        |    2 +-
 src/cmd/compile/internal/ssa/gen/genericOps.go     |    7 +
 src/cmd/compile/internal/ssa/html.go               |  120 +-
 src/cmd/compile/internal/ssa/loopbce.go            |    6 +-
 src/cmd/compile/internal/ssa/opGen.go              |   86 +-
 src/cmd/compile/internal/ssa/rewriteARM.go         |   20 +-
 src/cmd/compile/internal/ssa/rewriteARM64.go       |   66 +-
 src/cmd/compile/internal/ssa/rewriteWasm.go        |   21 +
 src/cmd/compile/internal/ssa/schedule.go           |   22 +-
 src/cmd/compile/internal/types/scope.go            |   13 +-
 src/cmd/compile/internal/wasm/ssa.go               |   16 +-
 src/cmd/cover/cover_test.go                        |   34 +-
 src/cmd/dist/build.go                              |    2 +
 src/cmd/dist/buildtool.go                          |    2 +
 src/cmd/dist/test.go                               |   43 +-
 src/cmd/doc/doc_test.go                            |   20 +-
 src/cmd/doc/main.go                                |   29 +-
 src/cmd/doc/testdata/nested/ignore.go              |    4 +
 src/cmd/doc/testdata/nested/nested/real.go         |    4 +
 src/cmd/go/alldocs.go                              |   11 +-
 src/cmd/go/go_test.go                              |   39 +-
 src/cmd/go/internal/cache/cache.go                 |   15 +
 src/cmd/go/internal/cfg/cfg.go                     |   12 +
 src/cmd/go/internal/dirhash/hash.go                |  103 ++
 src/cmd/go/internal/dirhash/hash_test.go           |  135 ++
 src/cmd/go/internal/envcmd/env.go                  |    3 +
 src/cmd/go/internal/fix/fix.go                     |   11 +
 src/cmd/go/internal/fmtcmd/fmt.go                  |   10 +
 src/cmd/go/internal/generate/generate.go           |   16 +
 src/cmd/go/internal/get/get.go                     |   16 +-
 src/cmd/go/internal/help/help.go                   |    2 +-
 src/cmd/go/internal/help/helpdoc.go                |    1 +
 src/cmd/go/internal/imports/build.go               |  211 +++
 src/cmd/go/internal/imports/read.go                |  249 +++
 src/cmd/go/internal/imports/read_test.go           |  228 +++
 src/cmd/go/internal/imports/scan.go                |   82 +
 src/cmd/go/internal/imports/scan_test.go           |   67 +
 src/cmd/go/internal/imports/tags.go                |   35 +
 src/cmd/go/internal/imports/testdata/import1/x.go  |    3 +
 src/cmd/go/internal/imports/testdata/import1/x1.go |    9 +
 .../internal/imports/testdata/import1/x_darwin.go  |    3 +
 .../internal/imports/testdata/import1/x_windows.go |    3 +
 src/cmd/go/internal/list/list.go                   |    3 +-
 src/cmd/go/internal/load/path.go                   |   16 -
 src/cmd/go/internal/load/pkg.go                    |   98 +-
 src/cmd/go/internal/load/search.go                 |  338 +----
 src/cmd/go/internal/modconv/dep.go                 |   71 +
 src/cmd/go/internal/modconv/glide.go               |   40 +
 src/cmd/go/internal/modconv/glock.go               |   23 +
 src/cmd/go/internal/modconv/godeps.go              |   29 +
 src/cmd/go/internal/modconv/modconv.go             |   25 +
 src/cmd/go/internal/modconv/modconv_test.go        |   69 +
 .../go/internal/modconv/testdata/cockroach.glock   |   41 +
 src/cmd/go/internal/modconv/testdata/cockroach.out |   31 +
 .../internal/modconv/testdata/dockermachine.godeps |  159 ++
 .../go/internal/modconv/testdata/dockermachine.out |   33 +
 .../go/internal/modconv/testdata/dockerman.glide   |   52 +
 src/cmd/go/internal/modconv/testdata/dockerman.out |   16 +
 src/cmd/go/internal/modconv/testdata/govmomi.out   |    5 +
 .../go/internal/modconv/testdata/govmomi.vmanifest |   46 +
 src/cmd/go/internal/modconv/testdata/juju.out      |  106 ++
 src/cmd/go/internal/modconv/testdata/juju.tsv      |  106 ++
 src/cmd/go/internal/modconv/testdata/moby.out      |  105 ++
 src/cmd/go/internal/modconv/testdata/moby.vconf    |  149 ++
 .../go/internal/modconv/testdata/panicparse.out    |    8 +
 .../go/internal/modconv/testdata/panicparse.vyml   |   17 +
 .../go/internal/modconv/testdata/prometheus.out    |  258 ++++
 .../go/internal/modconv/testdata/prometheus.vjson  | 1605 ++++++++++++++++++++
 src/cmd/go/internal/modconv/testdata/upspin.dep    |   57 +
 src/cmd/go/internal/modconv/testdata/upspin.out    |    8 +
 src/cmd/go/internal/modconv/tsv.go                 |   23 +
 src/cmd/go/internal/modconv/vconf.go               |   26 +
 src/cmd/go/internal/modconv/vjson.go               |   28 +
 src/cmd/go/internal/modconv/vmanifest.go           |   28 +
 src/cmd/go/internal/modconv/vyml.go                |   40 +
 src/cmd/go/internal/modfetch/bitbucket/fetch.go    |   22 +
 src/cmd/go/internal/modfetch/codehost/codehost.go  |  187 +++
 src/cmd/go/internal/modfetch/coderepo.go           |  576 +++++++
 src/cmd/go/internal/modfetch/coderepo_test.go      |  688 +++++++++
 src/cmd/go/internal/modfetch/convert.go            |   78 +
 src/cmd/go/internal/modfetch/convert_test.go       |  139 ++
 src/cmd/go/internal/modfetch/domain.go             |  178 +++
 src/cmd/go/internal/modfetch/github/fetch.go       |   24 +
 src/cmd/go/internal/modfetch/gitrepo/fetch.go      |  445 ++++++
 src/cmd/go/internal/modfetch/gitrepo/fetch_test.go |  500 ++++++
 src/cmd/go/internal/modfetch/googlesource/fetch.go |   25 +
 src/cmd/go/internal/modfetch/gopkgin.go            |   22 +
 src/cmd/go/internal/modfetch/noweb.go              |   24 +
 src/cmd/go/internal/modfetch/proxy.go              |  164 ++
 src/cmd/go/internal/modfetch/query.go              |   84 +
 src/cmd/go/internal/modfetch/repo.go               |  137 ++
 src/cmd/go/internal/modfetch/unzip.go              |  100 ++
 src/cmd/go/internal/modfetch/web.go                |   31 +
 src/cmd/go/internal/modfile/gopkgin.go             |   47 +
 src/cmd/go/internal/modfile/print.go               |  164 ++
 src/cmd/go/internal/modfile/read.go                |  699 +++++++++
 src/cmd/go/internal/modfile/read_test.go           |  306 ++++
 src/cmd/go/internal/modfile/rule.go                |  507 +++++++
 src/cmd/go/internal/modfile/testdata/block.golden  |   29 +
 src/cmd/go/internal/modfile/testdata/block.in      |   29 +
 .../go/internal/modfile/testdata/comment.golden    |   10 +
 src/cmd/go/internal/modfile/testdata/comment.in    |    8 +
 src/cmd/go/internal/modfile/testdata/empty.golden  |    0
 src/cmd/go/internal/modfile/testdata/empty.in      |    0
 .../go/internal/modfile/testdata/gopkg.in.golden   |    6 +
 src/cmd/go/internal/modfile/testdata/module.golden |    1 +
 src/cmd/go/internal/modfile/testdata/module.in     |    1 +
 .../go/internal/modfile/testdata/replace.golden    |    5 +
 src/cmd/go/internal/modfile/testdata/replace.in    |    5 +
 .../go/internal/modfile/testdata/replace2.golden   |    8 +
 src/cmd/go/internal/modfile/testdata/replace2.in   |    8 +
 src/cmd/go/internal/modfile/testdata/rule1.golden  |    7 +
 src/cmd/go/internal/modinfo/info.go                |   11 +
 src/cmd/go/internal/module/module.go               |  195 +++
 src/cmd/go/internal/module/module_test.go          |  184 +++
 src/cmd/go/internal/mvs/mvs.go                     |  308 ++++
 src/cmd/go/internal/mvs/mvs_test.go                |  377 +++++
 src/cmd/go/internal/search/search.go               |  423 ++++++
 .../{load/match_test.go => search/search_test.go}  |   10 +-
 src/cmd/go/internal/semver/semver.go               |  351 +++++
 src/cmd/go/internal/semver/semver_test.go          |  123 ++
 src/cmd/go/internal/vet/vetflag.go                 |    2 +-
 src/cmd/go/internal/vgo/build.go                   |  115 ++
 src/cmd/go/internal/vgo/fetch.go                   |  232 +++
 src/cmd/go/internal/vgo/get.go                     |  152 ++
 src/cmd/go/internal/vgo/init.go                    |  411 +++++
 src/cmd/go/internal/vgo/list.go                    |  153 ++
 src/cmd/go/internal/vgo/load.go                    |  575 +++++++
 src/cmd/go/internal/vgo/search.go                  |  196 +++
 src/cmd/go/internal/vgo/vendor.go                  |  156 ++
 src/cmd/go/internal/vgo/verify.go                  |  104 ++
 src/cmd/go/internal/web2/web.go                    |  297 ++++
 src/cmd/go/internal/web2/web_test.go               |   35 +
 src/cmd/go/internal/webtest/test.go                |  314 ++++
 src/cmd/go/internal/work/action.go                 |   31 +-
 src/cmd/go/internal/work/build.go                  |    3 +-
 src/cmd/go/internal/work/buildid.go                |   55 +-
 src/cmd/go/internal/work/exec.go                   |   91 +-
 src/cmd/go/internal/work/init.go                   |   13 +-
 src/cmd/go/testdata/badmod/go.mod                  |    1 +
 src/cmd/go/testdata/badmod/x.go                    |    4 +
 src/cmd/go/testdata/src/vetfail/p1/p1.go           |    2 +
 src/cmd/go/testdata/vendormod/go.mod               |   16 +
 src/cmd/go/testdata/vendormod/v1.go                |    3 +
 src/cmd/go/testdata/vendormod/v2.go                |    5 +
 src/cmd/go/testdata/vendormod/v3.go                |    5 +
 src/cmd/go/testdata/vendormod/w/go.mod             |    1 +
 src/cmd/go/testdata/vendormod/w/w.go               |    1 +
 src/cmd/go/testdata/vendormod/x/go.mod             |    1 +
 src/cmd/go/testdata/vendormod/x/x.go               |    1 +
 src/cmd/go/testdata/vendormod/y/go.mod             |    1 +
 src/cmd/go/testdata/vendormod/y/y.go               |    1 +
 src/cmd/go/testdata/vendormod/z/go.mod             |    1 +
 src/cmd/go/testdata/vendormod/z/z.go               |    1 +
 src/cmd/internal/obj/arm64/a.out.go                |    2 +
 src/cmd/internal/obj/arm64/anames.go               |    2 +
 src/cmd/internal/obj/arm64/asm7.go                 |   12 +-
 src/cmd/internal/obj/ppc64/obj9.go                 |   16 +-
 src/cmd/internal/obj/wasm/a.out.go                 |    3 +
 src/cmd/internal/obj/wasm/anames.go                |    1 +
 src/cmd/internal/obj/wasm/wasmobj.go               |   16 +-
 src/cmd/link/doc.go                                |    4 +-
 src/cmd/link/internal/ld/config.go                 |    7 +
 src/cmd/link/internal/ld/data.go                   |  126 +-
 src/cmd/link/internal/ld/dwarf.go                  |   86 +-
 src/cmd/link/internal/ld/elf.go                    |    2 +-
 src/cmd/link/internal/ld/lib.go                    |   40 +-
 src/cmd/link/internal/ld/link.go                   |    7 +-
 src/cmd/link/internal/ld/macho.go                  |   77 +-
 src/cmd/link/internal/ld/macho_combine_dwarf.go    |  155 +-
 src/cmd/link/internal/ld/main.go                   |    5 +-
 src/cmd/link/internal/ld/pcln.go                   |    7 +-
 src/cmd/link/internal/ld/pe.go                     |   58 +-
 src/cmd/link/internal/ld/symtab.go                 |   38 +-
 src/cmd/link/internal/wasm/asm.go                  |   22 +-
 src/cmd/nm/nm_test.go                              |   22 +
 src/cmd/trace/annotations.go                       |    4 +
 src/cmd/trace/annotations_test.go                  |    6 +
 src/cmd/trace/trace_test.go                        |    2 +
 src/cmd/vet/all/main.go                            |    6 +-
 src/cmd/vet/all/whitelist/darwin_386.txt           |    1 -
 src/cmd/vet/all/whitelist/darwin_arm.txt           |    6 -
 src/cmd/vet/all/whitelist/darwin_arm64.txt         |    2 -
 src/cmd/vet/all/whitelist/linux_ppc64x.txt         |    1 -
 src/cmd/vet/all/whitelist/s390x.txt                |    7 +
 src/cmd/vet/all/whitelist/wasm.txt                 |   28 +
 src/cmd/vet/asmdecl.go                             |    6 +-
 src/cmd/vet/bool.go                                |   25 +-
 src/cmd/vet/buildtag.go                            |   23 +-
 src/cmd/vet/doc.go                                 |   27 +-
 src/cmd/vet/main.go                                |  110 +-
 src/cmd/vet/print.go                               |  375 +++--
 src/cmd/vet/testdata/buildtag/buildtag.go          |    2 +-
 src/cmd/vet/testdata/print.go                      |   71 +-
 src/context/example_test.go                        |    2 +
 src/crypto/aes/aes_gcm.go                          |   15 +-
 src/crypto/aes/cbc_s390x.go                        |    4 +
 src/crypto/aes/cipher.go                           |    7 +
 src/crypto/aes/cipher_amd64.go                     |    7 +
 src/crypto/aes/cipher_arm64.go                     |    7 +
 src/crypto/aes/cipher_ppc64le.go                   |    7 +
 src/crypto/aes/cipher_s390x.go                     |   18 +-
 src/crypto/aes/ctr_s390x.go                        |    9 +-
 src/crypto/aes/gcm_s390x.go                        |   31 +-
 src/crypto/cipher/cbc.go                           |    8 +
 src/crypto/cipher/cfb.go                           |    8 +
 src/crypto/cipher/ctr.go                           |    8 +
 src/crypto/cipher/gcm.go                           |   23 +-
 src/crypto/cipher/ofb.go                           |    8 +
 src/crypto/des/cipher.go                           |   47 +-
 src/crypto/internal/subtle/aliasing.go             |   34 +
 src/crypto/internal/subtle/aliasing_appengine.go   |   37 +
 src/crypto/internal/subtle/aliasing_test.go        |   50 +
 src/crypto/rand/rand.go                            |    4 +-
 src/crypto/rand/rand_js.go                         |    6 +-
 src/crypto/rc4/rc4.go                              |    8 +-
 src/crypto/rc4/rc4_asm.go                          |   10 +-
 src/crypto/rsa/boring_test.go                      |    6 +-
 src/crypto/sha1/sha1block_s390x.go                 |    7 +-
 src/crypto/sha1/sha1block_s390x.s                  |   34 +-
 src/crypto/sha256/sha256block_s390x.go             |    7 +-
 src/crypto/sha256/sha256block_s390x.s              |   34 +-
 src/crypto/sha512/sha512block_s390x.go             |    7 +-
 src/crypto/sha512/sha512block_s390x.s              |   34 +-
 src/crypto/tls/auth.go                             |  108 ++
 src/crypto/tls/auth_test.go                        |  101 ++
 src/crypto/tls/boring_test.go                      |    4 +-
 src/crypto/tls/cipher_suites.go                    |    4 +-
 src/crypto/tls/common.go                           |   15 +-
 src/crypto/tls/handshake_client.go                 |   26 +-
 src/crypto/tls/handshake_client_test.go            |   39 +
 src/crypto/tls/handshake_server.go                 |   59 +-
 src/crypto/tls/key_agreement.go                    |  140 +-
 src/crypto/tls/prf.go                              |   33 +-
 src/crypto/x509/root_darwin.go                     |    4 +-
 src/crypto/x509/root_darwin_test.go                |    5 -
 src/debug/elf/file.go                              |   41 +-
 src/debug/macho/file.go                            |   82 +-
 src/debug/pe/file.go                               |   91 +-
 src/encoding/base32/base32.go                      |   26 +-
 src/encoding/gob/encoder_test.go                   |    2 +-
 src/flag/example_value_test.go                     |   44 +
 src/flag/flag.go                                   |    3 +
 src/go/ast/ast.go                                  |    8 +-
 src/go/build/deps_test.go                          |  124 +-
 src/go/doc/example.go                              |  122 +-
 src/go/doc/example_test.go                         |  114 +-
 src/go/doc/reader.go                               |    8 +-
 .../{issue18063.0.golden => issue22856.0.golden}   |   18 +-
 .../{issue18063.1.golden => issue22856.1.golden}   |   18 +-
 .../{issue18063.2.golden => issue22856.2.golden}   |   18 +-
 .../doc/testdata/{issue18063.go => issue22856.go}  |   12 +-
 src/go/internal/gccgoimporter/ar.go                |  148 ++
 src/go/internal/gccgoimporter/importer.go          |   50 +-
 src/go/internal/gccgoimporter/importer_test.go     |    1 +
 src/go/internal/gccgoimporter/parser.go            |    9 +-
 .../internal/gccgoimporter/testdata/libimportsar.a |  Bin 0 -> 9302 bytes
 src/go/internal/gcimporter/bimport.go              |   29 +-
 src/go/internal/gcimporter/gcimporter.go           |   21 +-
 src/go/internal/gcimporter/gcimporter_test.go      |   12 +
 src/go/internal/gcimporter/iimport.go              |   21 +-
 .../internal/gcimporter/testdata/versions/test.go  |    5 +-
 .../gcimporter/testdata/versions/test_go1.11_0i.a  |  Bin 0 -> 2420 bytes
 .../gcimporter/testdata/versions/test_go1.11_6b.a  |  Bin 0 -> 2426 bytes
 .../testdata/versions/test_go1.11_999b.a           |  Bin 0 -> 2600 bytes
 .../testdata/versions/test_go1.11_999i.a           |  Bin 0 -> 2420 bytes
 src/go/types/sizes.go                              |    3 +-
 src/go/types/type.go                               |   16 +-
 src/go/types/typestring_test.go                    |   26 +-
 src/go/types/universe.go                           |    2 +-
 src/html/template/escape.go                        |    2 +-
 src/internal/bytealg/compare_wasm.s                |   24 +-
 src/internal/bytealg/indexbyte_wasm.s              |   20 +-
 src/internal/cpu/cpu.go                            |   26 +-
 src/internal/cpu/cpu_no_init.go                    |    1 +
 src/internal/cpu/cpu_s390x.go                      |  157 +-
 src/internal/cpu/cpu_s390x.s                       |  122 +-
 src/internal/cpu/cpu_s390x_test.go                 |   63 +
 src/internal/poll/fd_mutex.go                      |   10 +-
 src/internal/poll/fd_mutex_test.go                 |   22 +
 src/internal/poll/fd_unix.go                       |   54 +-
 src/internal/poll/sendfile_windows.go              |   10 +
 src/internal/poll/splice_linux.go                  |   28 +-
 src/internal/syscall/unix/nonblocking_js.go        |    2 +
 .../syscall/windows/registry/zsyscall_windows.go   |    2 +-
 src/internal/syscall/windows/zsyscall_windows.go   |    2 +-
 src/make.bash                                      |    2 +-
 src/math/big/float.go                              |    8 +-
 src/math/big/float_test.go                         |   25 +
 src/math/big/int.go                                |   16 +-
 src/math/big/int_test.go                           |    2 +-
 src/math/example_test.go                           |   24 +
 src/mime/multipart/formdata.go                     |    2 +-
 src/mime/multipart/formdata_test.go                |    7 +-
 src/mime/multipart/multipart.go                    |   14 +-
 src/mime/multipart/multipart_test.go               |    8 +
 src/mime/quotedprintable/reader.go                 |    4 +
 src/mime/quotedprintable/reader_test.go            |    4 +-
 src/mime/type.go                                   |    3 +-
 src/net/cgo_unix.go                                |    2 +-
 src/net/dnsconfig_unix.go                          |    2 +-
 src/net/example_test.go                            |    5 +-
 src/net/fd_unix.go                                 |   42 +-
 src/net/fd_windows.go                              |    2 +-
 src/net/file_test.go                               |   54 +
 src/net/file_unix.go                               |    5 +-
 src/net/hosts.go                                   |    2 +-
 src/net/http/export_test.go                        |    4 +-
 src/net/http/header.go                             |   19 +-
 src/net/http/httptest/recorder.go                  |    6 +-
 src/net/http/httptrace/trace.go                    |   14 +-
 src/net/http/request.go                            |   22 +-
 src/net/http/response.go                           |    4 +-
 src/net/http/roundtrip_js.go                       |   38 +-
 src/net/http/serve_test.go                         |  119 ++
 src/net/http/server.go                             |   78 +-
 src/net/http/sniff.go                              |    2 +
 src/net/http/sniff_test.go                         |    1 +
 src/net/http/transfer.go                           |   17 +-
 src/net/http/transfer_test.go                      |    2 +-
 src/net/http/transport.go                          |   56 +-
 src/net/http/transport_test.go                     |  113 +-
 src/net/ip.go                                      |   60 +-
 src/net/ipsock.go                                  |   28 +-
 src/net/lookup.go                                  |   32 +-
 src/net/lookup_fake.go                             |    6 +
 src/net/lookup_plan9.go                            |    6 +
 src/net/lookup_test.go                             |   83 +
 src/net/lookup_unix.go                             |   25 +
 src/net/lookup_windows.go                          |    6 +
 src/net/net.go                                     |    8 +-
 src/net/net_fake.go                                |    2 +-
 src/net/sendfile_test.go                           |   59 +
 src/net/sendfile_unix_alt.go                       |    6 +
 src/net/splice_test.go                             |   63 +
 src/os/fifo_test.go                                |  112 ++
 src/os/file.go                                     |   15 +-
 src/os/file_unix.go                                |   15 +-
 src/os/path.go                                     |   61 +-
 src/os/pipe_test.go                                |   90 ++
 src/race.bash                                      |    4 +-
 src/reflect/all_test.go                            |   88 +-
 src/reflect/type.go                                |   34 +-
 src/regexp/example_test.go                         |    6 +
 src/regexp/regexp.go                               |    4 +-
 src/runtime/asm_arm.s                              |   71 +-
 src/runtime/asm_arm64.s                            |   34 +-
 src/runtime/asm_ppc64x.s                           |   16 +-
 src/runtime/asm_wasm.s                             |    4 +-
 src/runtime/defs_darwin.go                         |   55 +-
 src/runtime/defs_darwin_386.go                     |   96 +-
 src/runtime/defs_darwin_amd64.go                   |   97 +-
 src/runtime/defs_darwin_arm.go                     |   96 +-
 src/runtime/defs_darwin_arm64.go                   |   96 +-
 src/runtime/iface.go                               |    2 +-
 src/runtime/internal/atomic/bench_test.go          |   20 +
 src/runtime/internal/sys/arch.go                   |    2 +-
 src/runtime/internal/sys/arch_wasm.go              |    2 +-
 src/runtime/lock_futex.go                          |    6 +
 src/runtime/lock_js.go                             |  125 +-
 src/runtime/lock_sema.go                           |    6 +
 src/runtime/map.go                                 |   15 +-
 src/runtime/map_fast32.go                          |    5 +-
 src/runtime/map_fast64.go                          |    5 +-
 src/runtime/map_faststr.go                         |    5 +-
 src/runtime/map_test.go                            |   96 +-
 src/runtime/memclr_386.s                           |    2 +-
 src/runtime/memclr_amd64.s                         |    2 +-
 src/runtime/memmove_386.s                          |    2 +-
 src/runtime/memmove_amd64.s                        |    3 +-
 src/runtime/netpoll_kqueue.go                      |    6 -
 src/runtime/os_darwin.go                           |  359 +----
 src/runtime/os_dragonfly.go                        |    6 +
 src/runtime/os_freebsd.go                          |    6 +
 src/runtime/os_netbsd.go                           |    6 +
 src/runtime/os_openbsd.go                          |    6 +
 src/runtime/panic.go                               |    6 +
 src/runtime/pprof/proto.go                         |   65 +-
 src/runtime/pprof/proto_test.go                    |   76 +
 src/runtime/pprof/testdata/mappingtest/main.go     |  105 ++
 src/runtime/proc.go                                |   14 +
 src/runtime/race.go                                |    1 +
 src/runtime/race/race.go                           |    2 +-
 src/runtime/race_ppc64le.s                         |  568 +++++++
 src/runtime/rt0_darwin_arm64.s                     |   40 +-
 src/runtime/rt0_js_wasm.s                          |   78 +-
 src/runtime/runtime-gdb_test.go                    |    3 +
 src/runtime/runtime-lldb_test.go                   |   14 +-
 src/runtime/runtime2.go                            |    3 +
 src/runtime/stack.go                               |    6 +-
 src/runtime/sys_darwin.go                          |  143 ++
 src/runtime/sys_darwin_386.s                       |  433 ++++--
 src/runtime/sys_darwin_amd64.s                     |  388 ++---
 src/runtime/sys_darwin_arm.s                       |  364 ++---
 src/runtime/sys_darwin_arm64.s                     |  400 +++--
 src/runtime/sys_wasm.s                             |   15 +-
 src/runtime/testdata/testprog/numcpu_freebsd.go    |   13 +-
 src/runtime/tls_ppc64x.s                           |    2 +-
 src/runtime/trace/trace.go                         |    4 +-
 src/runtime/vlrt.go                                |    1 +
 src/strconv/atob.go                                |    2 +-
 src/sync/rwmutex.go                                |    1 -
 src/syscall/asm_darwin_amd64.s                     |    2 +-
 src/syscall/fs_js.go                               |   20 +-
 src/syscall/js/callback.go                         |  147 ++
 src/syscall/js/js.go                               |  233 ++-
 src/syscall/js/js_js.s                             |   42 +-
 src/syscall/js/js_test.go                          |  124 +-
 src/syscall/js/typedarray.go                       |  103 ++
 src/syscall/mkall.sh                               |   30 +
 src/syscall/mkerrors.sh                            |    2 +-
 src/syscall/mksyscall.pl                           |    2 +-
 src/syscall/mksyscall_solaris.pl                   |    2 +-
 src/syscall/mksyscall_windows.go                   |    2 +-
 src/syscall/mksysctl_openbsd.pl                    |    2 +-
 src/syscall/mksysnum_darwin.pl                     |    2 +-
 src/syscall/mksysnum_dragonfly.pl                  |    2 +-
 src/syscall/mksysnum_freebsd.pl                    |    2 +-
 src/syscall/mksysnum_linux.pl                      |    2 +-
 src/syscall/mksysnum_netbsd.pl                     |    2 +-
 src/syscall/mksysnum_openbsd.pl                    |    2 +-
 src/syscall/mksysnum_plan9.sh                      |    2 +-
 src/syscall/net_js.go                              |    7 +
 src/syscall/security_windows.go                    |    4 +-
 src/syscall/syscall_linux.go                       |   27 +-
 src/syscall/syscall_linux_test.go                  |   94 ++
 src/syscall/syscall_windows_test.go                |    6 +
 src/syscall/types_linux.go                         |    1 +
 src/syscall/zerrors_darwin_386.go                  |    2 +-
 src/syscall/zerrors_darwin_amd64.go                |    2 +-
 src/syscall/zerrors_darwin_arm.go                  |    2 +-
 src/syscall/zerrors_darwin_arm64.go                |    2 +-
 src/syscall/zerrors_dragonfly_amd64.go             |    2 +-
 src/syscall/zerrors_freebsd_386.go                 |    2 +-
 src/syscall/zerrors_freebsd_amd64.go               |    2 +-
 src/syscall/zerrors_freebsd_arm.go                 |    2 +-
 src/syscall/zerrors_linux_386.go                   |    2 +-
 src/syscall/zerrors_linux_amd64.go                 |    2 +-
 src/syscall/zerrors_linux_arm.go                   |    2 +-
 src/syscall/zerrors_linux_arm64.go                 |    2 +-
 src/syscall/zerrors_linux_mips.go                  |    2 +-
 src/syscall/zerrors_linux_mips64.go                |    2 +-
 src/syscall/zerrors_linux_mips64le.go              |    2 +-
 src/syscall/zerrors_linux_mipsle.go                |    2 +-
 src/syscall/zerrors_linux_ppc64.go                 |    2 +-
 src/syscall/zerrors_linux_ppc64le.go               |    2 +-
 src/syscall/zerrors_linux_s390x.go                 |    2 +-
 src/syscall/zerrors_netbsd_386.go                  |    2 +-
 src/syscall/zerrors_netbsd_amd64.go                |    2 +-
 src/syscall/zerrors_netbsd_arm.go                  |    2 +-
 src/syscall/zerrors_openbsd_386.go                 |    2 +-
 src/syscall/zerrors_openbsd_amd64.go               |    2 +-
 src/syscall/zerrors_openbsd_arm.go                 |    2 +-
 src/syscall/zerrors_solaris_amd64.go               |    2 +-
 src/syscall/zerrors_windows.go                     |    2 +-
 src/syscall/zsyscall_darwin_386.go                 |    2 +-
 src/syscall/zsyscall_darwin_amd64.go               |    2 +-
 src/syscall/zsyscall_darwin_arm.go                 |    2 +-
 src/syscall/zsyscall_darwin_arm64.go               |    2 +-
 src/syscall/zsyscall_dragonfly_amd64.go            |    2 +-
 src/syscall/zsyscall_freebsd_386.go                |    2 +-
 src/syscall/zsyscall_freebsd_amd64.go              |    2 +-
 src/syscall/zsyscall_freebsd_arm.go                |    2 +-
 src/syscall/zsyscall_linux_386.go                  |   62 +-
 src/syscall/zsyscall_linux_amd64.go                |   62 +-
 src/syscall/zsyscall_linux_arm.go                  |   62 +-
 src/syscall/zsyscall_linux_arm64.go                |   62 +-
 src/syscall/zsyscall_linux_mips.go                 |   78 +-
 src/syscall/zsyscall_linux_mips64.go               |   78 +-
 src/syscall/zsyscall_linux_mips64le.go             |   78 +-
 src/syscall/zsyscall_linux_mipsle.go               |   78 +-
 src/syscall/zsyscall_linux_ppc64.go                |   62 +-
 src/syscall/zsyscall_linux_ppc64le.go              |   62 +-
 src/syscall/zsyscall_linux_s390x.go                |   62 +-
 src/syscall/zsyscall_nacl_386.go                   |    2 +-
 src/syscall/zsyscall_nacl_amd64p32.go              |    2 +-
 src/syscall/zsyscall_nacl_arm.go                   |    2 +-
 src/syscall/zsyscall_netbsd_386.go                 |    2 +-
 src/syscall/zsyscall_netbsd_amd64.go               |    2 +-
 src/syscall/zsyscall_netbsd_arm.go                 |    2 +-
 src/syscall/zsyscall_openbsd_386.go                |    2 +-
 src/syscall/zsyscall_openbsd_amd64.go              |    2 +-
 src/syscall/zsyscall_openbsd_arm.go                |    2 +-
 src/syscall/zsyscall_plan9_386.go                  |    2 +-
 src/syscall/zsyscall_plan9_amd64.go                |    2 +-
 src/syscall/zsyscall_plan9_arm.go                  |    2 +-
 src/syscall/zsyscall_solaris_amd64.go              |    2 +-
 src/syscall/zsyscall_windows.go                    |    2 +-
 src/syscall/zsysctl_openbsd.go                     |    2 +-
 src/syscall/zsysnum_darwin_386.go                  |    2 +-
 src/syscall/zsysnum_darwin_amd64.go                |    2 +-
 src/syscall/zsysnum_darwin_arm.go                  |    2 +-
 src/syscall/zsysnum_darwin_arm64.go                |    2 +-
 src/syscall/zsysnum_dragonfly_amd64.go             |    2 +-
 src/syscall/zsysnum_freebsd_386.go                 |    2 +-
 src/syscall/zsysnum_freebsd_amd64.go               |    2 +-
 src/syscall/zsysnum_freebsd_arm.go                 |    2 +-
 src/syscall/zsysnum_linux_386.go                   |    2 +-
 src/syscall/zsysnum_linux_amd64.go                 |    2 +-
 src/syscall/zsysnum_linux_arm.go                   |    2 +-
 src/syscall/zsysnum_linux_arm64.go                 |    2 +-
 src/syscall/zsysnum_linux_mips.go                  |    2 +-
 src/syscall/zsysnum_linux_mips64.go                |    2 +-
 src/syscall/zsysnum_linux_mips64le.go              |    2 +-
 src/syscall/zsysnum_linux_mipsle.go                |    2 +-
 src/syscall/zsysnum_linux_ppc64.go                 |    2 +-
 src/syscall/zsysnum_linux_ppc64le.go               |    2 +-
 src/syscall/zsysnum_linux_s390x.go                 |    2 +-
 src/syscall/zsysnum_netbsd_386.go                  |    2 +-
 src/syscall/zsysnum_netbsd_amd64.go                |    2 +-
 src/syscall/zsysnum_netbsd_arm.go                  |    2 +-
 src/syscall/zsysnum_openbsd_386.go                 |    2 +-
 src/syscall/zsysnum_openbsd_amd64.go               |    2 +-
 src/syscall/zsysnum_openbsd_arm.go                 |    2 +-
 src/syscall/zsysnum_plan9.go                       |    2 +-
 src/syscall/ztypes_linux_386.go                    |    1 +
 src/syscall/ztypes_linux_amd64.go                  |    1 +
 src/syscall/ztypes_linux_arm.go                    |    1 +
 src/syscall/ztypes_linux_arm64.go                  |    1 +
 src/syscall/ztypes_linux_mips.go                   |    1 +
 src/syscall/ztypes_linux_mips64.go                 |    1 +
 src/syscall/ztypes_linux_mips64le.go               |    1 +
 src/syscall/ztypes_linux_mipsle.go                 |    1 +
 src/syscall/ztypes_linux_ppc64.go                  |    1 +
 src/syscall/ztypes_linux_ppc64le.go                |    1 +
 src/syscall/ztypes_linux_s390x.go                  |    1 +
 src/text/template/exec.go                          |   22 +-
 src/text/template/parse/lex.go                     |    2 +-
 src/text/template/parse/node.go                    |   40 +-
 src/text/template/parse/parse.go                   |    4 +-
 src/time/zoneinfo_abbrs_windows.go                 |    9 +-
 src/unicode/letter.go                              |   26 +-
 src/unicode/letter_test.go                         |   12 +
 test/fixedbugs/issue18640.go                       |   21 +
 test/fixedbugs/issue23823.go                       |   15 +
 test/fixedbugs/issue24651a.go                      |   24 +
 test/fixedbugs/issue24651b.go                      |   24 +
 test/fixedbugs/issue24763.go                       |   21 +
 test/fixedbugs/issue24939.go                       |   21 +
 test/fixedbugs/issue25727.go                       |   21 +
 test/fixedbugs/issue25776.go                       |   99 ++
 test/fixedbugs/issue25958.go                       |   17 +
 test/fixedbugs/issue25966.go                       |   24 +
 test/fixedbugs/issue25984.dir/p.go                 |   15 +
 test/fixedbugs/issue25984.dir/q.go                 |   11 +
 test/fixedbugs/issue25984.go                       |    7 +
 test/fixedbugs/issue25993.go                       |   21 +
 test/fixedbugs/issue26043.go                       |   32 +
 test/fixedbugs/issue26097.go                       |   47 +
 test/fixedbugs/issue26105.go                       |   25 +
 test/fixedbugs/issue26120.go                       |   23 +
 test/strcopy.go                                    |   29 +
 627 files changed, 25379 insertions(+), 4394 deletions(-)
