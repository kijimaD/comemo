commit ba6df85c7c94c7b26d4979e92fdb9ec7fa4cc1e4
Author: Wayne Zuo <wdvxdr@golangcn.org>
Date:   Wed Mar 30 19:27:21 2022 +0800

    cmd/compile: add MOVBEWstore support for GOAMD64>=3
    
    This CL add MOVBE support for 16-bit version, but MOVBEWload is
    excluded because it does not satisfy zero extented.
    
    For #51724
    
    Change-Id: I3fadf20bcbb9b423f6355e6a1e340107e8e621ac
    Reviewed-on: https://go-review.googlesource.com/c/go/+/396617
    Reviewed-by: Keith Randall <khr@golang.org>
    Run-TryBot: Keith Randall <khr@golang.org>
    TryBot-Result: Gopher Robot <gobot@golang.org>
    Trust: Emmanuel Odeke <emmanuel@orijtech.com>

 src/cmd/compile/internal/amd64/ssa.go        |  2 +-
 src/cmd/compile/internal/ssa/gen/AMD64.rules |  2 ++
 src/cmd/compile/internal/ssa/gen/AMD64Ops.go |  2 ++
 src/cmd/compile/internal/ssa/opGen.go        | 15 ++++++++
 src/cmd/compile/internal/ssa/rewriteAMD64.go | 52 ++++++++++++++++++++++++++++
 test/codegen/memcombine.go                   | 17 +++++----
 6 files changed, 82 insertions(+), 8 deletions(-)
