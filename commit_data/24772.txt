commit 186cf1b9ba1358344b8ce6f2fb4a62302b98ba90
Author: Keith Randall <khr@golang.org>
Date:   Fri Aug 28 16:45:17 2015 -0700

    [dev.ssa] cmd/compile/internal/ssa: handle dead code a different way
    
    Instead of trying to delete dead code as soon as we find it, just
    mark it as dead using a PlainAndDead block kind.  The deadcode pass
    will do the real removal.
    
    This way is somewhat more efficient because we don't need to mess
    with successor and predecessor lists of all the dead blocks.
    
    Fixes #12347
    
    Change-Id: Ia42d6b5f9cdb3215a51737b3eb117c00bd439b13
    Reviewed-on: https://go-review.googlesource.com/14033
    Reviewed-by: Josh Bleecher Snyder <josharian@gmail.com>

 src/cmd/compile/internal/ssa/check.go          |   7 +
 src/cmd/compile/internal/ssa/deadcode.go       | 186 +++++++++++++------------
 src/cmd/compile/internal/ssa/gen/generic.rules |   6 +-
 src/cmd/compile/internal/ssa/gen/genericOps.go |   2 +-
 src/cmd/compile/internal/ssa/gen/rulegen.go    |   5 +-
 src/cmd/compile/internal/ssa/nilcheck.go       |   8 +-
 src/cmd/compile/internal/ssa/opGen.go          |   2 +
 src/cmd/compile/internal/ssa/rewritegeneric.go |  49 +++----
 test/fixedbugs/issue12347.go                   |  16 +++
 9 files changed, 154 insertions(+), 127 deletions(-)
